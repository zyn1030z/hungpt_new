[{"content":"Trong b√†i vi·∫øt l·∫ßn n√†y, m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n t·∫°o ra 1 widget ƒë·ªÉ h·ªó tr·ª£ ch√∫ng ta v·∫Ω dashboard\n1.Th∆∞ vi·ªán Chart Odoo ƒê·∫ßu ti√™n ch√∫ng ta s·∫Ω t√¨m hi·ªÉu v·ªÅ th∆∞ vi·ªán Chart c·ªßa Odoo, b·∫°n c√≥ th·ªÉ t√¨m th·∫•y n√≥ theo ƒë∆∞·ªùng d·∫´n \u0026lsquo;/web/static/lib/Chart/Chart.js\u0026rsquo;\nC√°c bi·ªÉu ƒë·ªì ƒë∆∞·ª£c s·ª≠ d·ª•ng ph·ªï bi·∫øn trong Chart.js bao g·ªìm:\n Scatter Plot Chart Line Chart Bar Chart Pie Chart Doughnut Chart  ƒê·ªÉ c√≥ th·ªÉ s·ª≠ d·ª•ng bi·ªÉu ƒë·ªì Chart trong Odoo ch√∫ng ta c√≥ th·ªÉ th√™m v√†o file xml, sau ƒë√≥ th√™m v√†o file manifest nh∆∞ sau:\nTi·∫øp theo ch√∫ng ta c·∫ßn th√™m ƒëo·∫°n code sau v√†o n∆°i m√† ch√∫ng ta mu·ªën hi·ªÉn th·ªã bi·ªÉu ƒë·ªì trong file xml nh∆∞ sau:\n\u0026lt;canvas id=\u0026quot;chart_example\u0026quot; height=\u0026quot;400px\u0026quot; width=\u0026quot;400px\u0026quot;/\u0026gt; V·ªÅ c∆° b·∫£n th√¨ c√∫ ph√°p ƒë·ªÉ truy·ªÅn tham s·ªë v√†o Chart s·∫Ω nh∆∞ sau:\nnew Chart(‚Äúid of canvas‚Äù, { type = ‚Äútype of graph‚Äù, data = { ‚Äúdata of the graph‚Äù }, options = {‚Äúoptions of the graph‚Äù } }); type, data, options s·∫Ω ph·ª• thu√¥c v√†o lo·∫°i bi·ªÉu ƒë·ªì m√† ch√∫ng ta mu·ªën hi·ªÉn th·ªã, m√¨nh s·∫Ω ƒë∆∞a ra m·ªôt s·ªë lo·∫°i bi·ªÉu ƒë·ªì c≈©ng nh∆∞ c√°ch s·ª≠ d·ª•ng c·ªßa ch√∫ng d∆∞·ªõi ƒë√¢y\nScatter Plot Chart D∆∞·ªõi ƒë√¢y l√† ƒëo·∫°n code v√≠ d·ª• cho bi·ªÉu ƒë·ªì n√†y:\nvar chart = new Chart(\u0026quot;chart_example\u0026quot;, { type: \u0026quot;scatter\u0026quot;, data: { datasets: [{ data: [{ x: 10, y: 10 }, { x: 20, y: 20 }, { x: 30, y: 30 }, { x: 40, y: 40 }, { x: 50, y: 50 }], pointBackgroundColor: \u0026quot;black\u0026quot;, }] }, options: {} }); ƒê·ªÉ c√≥ th·ªÉ hi·ªÉn th·ªã l√™n giao di·ªán Chart trong odoo, c√≥ r·∫•t nhi·ªÅu c√°ch kh√°c nhau, tuy nhi√™n ·ªü b√†i vi·∫øt l·∫ßn n√†y m√¨nh s·∫Ω t·∫°o 1 widget cho t·ª´ng bi·ªÉu ƒë·ªì c≈©ng nh∆∞ th√™m tr·ª±c ti·∫øp d·ªØ li·ªáu t·∫°o v√†o trong file js, th·ª±c t·∫ø c√°c d·ªØ li·ªáu m√† ch√∫ng ta truy·ªÅn v√†o nh∆∞, chi·ªÅu r·ªông, k√≠ch th∆∞·ªõc c√°c c·ªôt, s·ªë li·ªáu ra sao ch√∫ng ta ph·∫£i x·ª≠ l√Ω b√™n python, c√≥ th·ªÉ vi·∫øt field ƒë√≥ l√† compute ho·∫∑c g·ªçi rpc\nCode js widget nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56  odoo.define(\u0026#39;chart_dashboard.chart_dashboard_scatter\u0026#39;, function (require) { \u0026#34;use strict\u0026#34;; var fieldRegistry = require(\u0026#39;web.field_registry\u0026#39;); var AbstractField = require(\u0026#39;web.AbstractField\u0026#39;); var core = require(\u0026#39;web.core\u0026#39;); var _t = core._t; var FieldChartWidget = AbstractField.extend({ supportedFieldTypes: [\u0026#39;char\u0026#39;, \u0026#39;text\u0026#39;], jsLibs: [ \u0026#39;/web/static/lib/Chart/Chart.js\u0026#39;, ], _render: function () { var self = this; var $canvas = $(\u0026#39;\u0026lt;canvas/\u0026gt;\u0026#39;); if (this.chart) { this.chart.destroy(); } this.$el.empty(); this.$el.append($canvas); this.chart = new Chart($canvas, { type: \u0026#34;scatter\u0026#34;, data: { datasets: [{ data: [{ x: 10, y: 10 }, { x: 20, y: 20 }, { x: 30, y: 30 }, { x: 40, y: 40 }, { x: 50, y: 50 }], pointBackgroundColor: \u0026#34;black\u0026#34;, }] }, options: {} }); return this._super.apply(this, arguments); }, }); fieldRegistry.add(\u0026#39;chart_scatter\u0026#39;, FieldChartWidget); return { FieldChartWidget: FieldChartWidget }; });   Code file xml m√¨nh ƒë·ªÉ nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  \u0026lt;record model=\u0026#34;ir.ui.view\u0026#34; id=\u0026#34;chart_dashboard\u0026#34;\u0026gt; \u0026lt;field name=\u0026#34;name\u0026#34;\u0026gt;chart_dasboard\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026#34;model\u0026#34;\u0026gt;chart.dashboard\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026#34;arch\u0026#34; type=\u0026#34;xml\u0026#34;\u0026gt; \u0026lt;form checkDirty=\u0026#34;false\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;row\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;col-6\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;text-uppercase default-color\u0026#34;\u0026gt; \u0026lt;div\u0026gt;\u0026lt;em class=\u0026#34;fa fa-list-ol\u0026#34; /\u0026gt; Dashboard Scatter \u0026lt;/div\u0026gt;\u0026lt;hr/\u0026gt; \u0026lt;field name=\u0026#34;value1\u0026#34; widget=\u0026#34;chart_scatter\u0026#34; class=\u0026#34;dashboard_ren_chart\u0026#34;/\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/field\u0026gt; \u0026lt;/record\u0026gt;   M√¨nh c√≥ th√™m 1 file css\n1 2 3  .dashboard_ren_chart { width: 50%; }   V√† ƒë√¢y l√† k·∫øt qu·∫£:\nLine Chart ƒêo·∫°n code ch√∫ng ta truy·ªÅn v√†o ƒë·ªëi v·ªõi bi·ªÉu ƒë·ªì n√†y nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11  var chart = new Chart(\u0026#34;chart_example\u0026#34;, { type: \u0026#34;line\u0026#34;, data: { labels: [10, 20, 30, 40, 50], datasets: [{ data: [10, 20, 30, 40, 50], pointBackgroundColor: \u0026#34;black\u0026#34;, }] }, option: {} });   M√¨nh c≈©ng s·∫Ω t·∫°o 1 widget nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42  odoo.define(\u0026#39;chart_dashboard.chart_dashboard_line\u0026#39;, function (require) { \u0026#34;use strict\u0026#34;; var fieldRegistry = require(\u0026#39;web.field_registry\u0026#39;); var AbstractField = require(\u0026#39;web.AbstractField\u0026#39;); var core = require(\u0026#39;web.core\u0026#39;); var _t = core._t; var FieldChartWidget = AbstractField.extend({ supportedFieldTypes: [\u0026#39;char\u0026#39;, \u0026#39;text\u0026#39;], jsLibs: [ \u0026#39;/web/static/lib/Chart/Chart.js\u0026#39;, ], _render: function () { var self = this; var $canvas = $(\u0026#39;\u0026lt;canvas/\u0026gt;\u0026#39;); if (this.chart) { this.chart.destroy(); } this.$el.empty(); this.$el.append($canvas); this.chart = new Chart($canvas, { type: \u0026#34;line\u0026#34;, data: { labels: [10, 20, 30, 40, 50], datasets: [{ data: [10, 20, 30, 40, 50], pointBackgroundColor: \u0026#34;black\u0026#34;, }] }, option: {} }); return this._super.apply(this, arguments); }, }); fieldRegistry.add(\u0026#39;chart_line\u0026#39;, FieldChartWidget); return { FieldChartWidget: FieldChartWidget }; });   V√† ƒë√¢y l√† k·∫øt qu·∫£\nBar Chart Bi·ªÉu ƒë·ªì d·∫°ng thanh ƒë∆∞·ª£c s·ª≠ d·ª•ng nhi·ªÅu nh·∫•t trong odoo, ch√∫ng ta c≈©ng c√≥ th·ªÉ t√πy ch·ªânh m√†u s·∫Øc, chi·ªÅu r·ªông chi·ªÅu cao‚Ä¶\nD∆∞·ªõi ƒë√¢y l√† ƒëo·∫°n code v√≠ d·ª•:\n1 2 3 4 5 6 7 8 9 10 11  var chart = new Chart(\u0026#34;chart_example\u0026#34;, { type: \u0026#34;bar\u0026#34;, data: { labels: [\u0026#34;bar1\u0026#34;, \u0026#34;bar2\u0026#34;, \u0026#34;bar3\u0026#34;, \u0026#34;bar4\u0026#34;], datasets: [{ backgroundColor: \u0026#34;black\u0026#34;, data: [0, 10, 20, 30] }] }, options: {} });   Ch√∫ng ta s·∫Ω vi·∫øt 1 widget nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42  odoo.define(\u0026#39;chart_dashboard.chart_dashboard_bar\u0026#39;, function (require) { \u0026#34;use strict\u0026#34;; var fieldRegistry = require(\u0026#39;web.field_registry\u0026#39;); var AbstractField = require(\u0026#39;web.AbstractField\u0026#39;); var core = require(\u0026#39;web.core\u0026#39;); var _t = core._t; var FieldChartWidget = AbstractField.extend({ supportedFieldTypes: [\u0026#39;char\u0026#39;, \u0026#39;text\u0026#39;], jsLibs: [ \u0026#39;/web/static/lib/Chart/Chart.js\u0026#39;, ], _render: function () { var self = this; var $canvas = $(\u0026#39;\u0026lt;canvas/\u0026gt;\u0026#39;); if (this.chart) { this.chart.destroy(); } this.$el.empty(); this.$el.append($canvas); this.chart = new Chart($canvas, { type: \u0026#34;bar\u0026#34;, data: { labels: [\u0026#34;bar1\u0026#34;, \u0026#34;bar2\u0026#34;, \u0026#34;bar3\u0026#34;, \u0026#34;bar4\u0026#34;], datasets: [{ backgroundColor: \u0026#34;black\u0026#34;, data: [0, 10, 20, 30] }] }, options: {} }); return this._super.apply(this, arguments); }, }); fieldRegistry.add(\u0026#39;chart_bar\u0026#39;, FieldChartWidget); return { FieldChartWidget: FieldChartWidget }; });   V√† ƒë√¢y l√† k·∫øt qu·∫£\nPie Chart Ti·∫øp theo ch√∫ng ta ƒë·∫øn v·ªõi bi·ªÉu ƒë·ªì tr√≤n, d∆∞·ªõi ƒë√¢y l√† ƒëo·∫°n code v√≠ d·ª•:\n1 2 3 4 5 6 7 8 9 10  var chart = new Chart(\u0026#34;chart_example\u0026#34;, { type: \u0026#34;pie\u0026#34;, data: { datasets: [{ backgroundColor: \u0026#34;black\u0026#34;, data: [0, 10, 20, 30, 40] }] }, options: {} });   Ch√∫ng ta s·∫Ω t·∫°o 1 widget nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42  odoo.define(\u0026#39;chart_dashboard.chart_dashboard_bar\u0026#39;, function (require) { \u0026#34;use strict\u0026#34;; var fieldRegistry = require(\u0026#39;web.field_registry\u0026#39;); var AbstractField = require(\u0026#39;web.AbstractField\u0026#39;); var core = require(\u0026#39;web.core\u0026#39;); var _t = core._t; var FieldChartWidget = AbstractField.extend({ supportedFieldTypes: [\u0026#39;char\u0026#39;, \u0026#39;text\u0026#39;], jsLibs: [ \u0026#39;/web/static/lib/Chart/Chart.js\u0026#39;, ], _render: function () { var self = this; var $canvas = $(\u0026#39;\u0026lt;canvas/\u0026gt;\u0026#39;); if (this.chart) { this.chart.destroy(); } this.$el.empty(); this.$el.append($canvas); this.chart = new Chart($canvas, { type: \u0026#34;bar\u0026#34;, data: { labels: [\u0026#34;bar1\u0026#34;, \u0026#34;bar2\u0026#34;, \u0026#34;bar3\u0026#34;, \u0026#34;bar4\u0026#34;], datasets: [{ backgroundColor: \u0026#34;black\u0026#34;, data: [0, 10, 20, 30] }] }, options: {} }); return this._super.apply(this, arguments); }, }); fieldRegistry.add(\u0026#39;chart_bar\u0026#39;, FieldChartWidget); return { FieldChartWidget: FieldChartWidget }; });   V√† ƒë√¢y l√† k·∫øt qu·∫£\nDoughnut chart Bi·ªÉu ƒë·ªì n√†y c≈©ng t∆∞∆°ng t·ª± nh∆∞ bi·ªÉu ƒë·ªì tr√≤n, d∆∞·ªõi ƒë√¢y l√† ƒëo·∫°n code m·∫´u\n1 2 3 4 5 6 7 8 9 10 11  var chart = new Chart(\u0026#34;chart_example\u0026#34;, { type: \u0026#34;doughnut\u0026#34;, data: { datasets: [{ backgroundColor: \u0026#34;black\u0026#34;, data: [0, 10, 20, 30, 40] }] }, options: { } });   Ch√∫ng ta s·∫Ω vi·∫øt 1 widget nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41  odoo.define(\u0026#39;chart_dashboard.chart_dashboard_doughnut\u0026#39;, function (require) { \u0026#34;use strict\u0026#34;; var fieldRegistry = require(\u0026#39;web.field_registry\u0026#39;); var AbstractField = require(\u0026#39;web.AbstractField\u0026#39;); var core = require(\u0026#39;web.core\u0026#39;); var _t = core._t; var FieldChartWidget = AbstractField.extend({ supportedFieldTypes: [\u0026#39;char\u0026#39;, \u0026#39;text\u0026#39;], jsLibs: [ \u0026#39;/web/static/lib/Chart/Chart.js\u0026#39;, ], _render: function () { var self = this; var $canvas = $(\u0026#39;\u0026lt;canvas/\u0026gt;\u0026#39;); if (this.chart) { this.chart.destroy(); } this.$el.empty(); this.$el.append($canvas); this.chart = new Chart($canvas, { type: \u0026#34;doughnut\u0026#34;, data: { datasets: [{ backgroundColor: \u0026#34;black\u0026#34;, data: [0, 10, 20, 30, 40] }] }, options: {} }); return this._super.apply(this, arguments); }, }); fieldRegistry.add(\u0026#39;chart_doughnut\u0026#39;, FieldChartWidget); return { FieldChartWidget: FieldChartWidget }; });   d∆∞·ªõi ƒë√¢y l√† k·∫øt qu·∫£:\n2. Truy·ªÅn d·ªØ li·ªáu t·ª´ field v√†o widget dashboard B∆∞·ªõc ƒë·∫ßu ti√™n ch√∫ng ta s·∫Ω t·∫°o ra 1 ir.actions.server m·ª•c ƒë√≠ch ƒë·ªÉ khi ch√∫ng ta b·∫•m v√†o chart_dashboard, ch√∫ng ta s·∫Ω truy·ªÅn gi√° tr·ªã t∆∞∆°ng ·ª©ng v√†o view th√¥ng qua h√†m python vi·∫øt trong ir.actions.server\nƒê√¢y l√† ƒëo·∫°n code view c∆° b·∫£n m√¨nh ƒë√£ vi·∫øt trong ƒë√≥ record c√≥ id l√† chart_dashboard s·∫Ω l√† dashboard m√† ch√∫ng ta c·∫ßn x·ª≠ l√Ω trong b√†i vi·∫øt l·∫ßn n√†y\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  \u0026lt;odoo\u0026gt; \u0026lt;data\u0026gt; \u0026lt;record model=\u0026#34;ir.ui.view\u0026#34; id=\u0026#34;chart_dashboard\u0026#34;\u0026gt; \u0026lt;field name=\u0026#34;name\u0026#34;\u0026gt;chart_dasboard\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026#34;model\u0026#34;\u0026gt;chart.dashboard\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026#34;arch\u0026#34; type=\u0026#34;xml\u0026#34;\u0026gt; \u0026lt;form checkDirty=\u0026#34;false\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/field\u0026gt; \u0026lt;/record\u0026gt; \u0026lt;record model=\u0026#34;ir.actions.server\u0026#34; id=\u0026#34;chart_dashboard_server_action\u0026#34;\u0026gt; \u0026lt;field name=\u0026#34;name\u0026#34;\u0026gt;Dashboard\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026#34;model_id\u0026#34; ref=\u0026#34;chart_dashboard.model_chart_dashboard\u0026#34; /\u0026gt; \u0026lt;field name=\u0026#34;state\u0026#34;\u0026gt;code\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026#34;code\u0026#34;\u0026gt; action=model.show_dashboard() \u0026lt;/field\u0026gt; \u0026lt;/record\u0026gt; \u0026lt;record model=\u0026#34;ir.actions.act_window\u0026#34; id=\u0026#34;chart_dashboard_action_window\u0026#34;\u0026gt; \u0026lt;field name=\u0026#34;name\u0026#34;\u0026gt;chart_dashboard window\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026#34;res_model\u0026#34;\u0026gt;chart.dashboard\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026#34;view_mode\u0026#34;\u0026gt;form\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026#34;view_id\u0026#34; ref=\u0026#34;chart_dashboard\u0026#34; /\u0026gt; \u0026lt;field name=\u0026#34;target\u0026#34;\u0026gt;inline\u0026lt;/field\u0026gt; \u0026lt;/record\u0026gt; \u0026lt;!-- Top menu item --\u0026gt; \u0026lt;menuitem name=\u0026#34;chart_dashboard\u0026#34; id=\u0026#34;chart_dashboard_menu_root\u0026#34; web_icon=\u0026#34;chart_dashboard,static/description/img.png\u0026#34;/\u0026gt; \u0026lt;menuitem id=\u0026#34;chart_dashboard_menu\u0026#34; action=\u0026#34;chart_dashboard_server_action\u0026#34; parent=\u0026#34;chart_dashboard_menu_root\u0026#34; name=\u0026#34;Chart Dashboard\u0026#34; sequence=\u0026#34;1\u0026#34;/\u0026gt; \u0026lt;/data\u0026gt; \u0026lt;/odoo\u0026gt;   ·ªü ph·∫ßn 1, d·ªØ li·ªáu m√¨nh truy·ªÅn v√†o widget l√† trong file js, tuy nhi√™n th·ª±c t·∫ø, ch√∫ng ta s·∫Ω truy·ªÅn t·ª´ python qua. C·ª• th·ªÉ m√¨nh s·∫Ω vi·∫øt 1 field compute, tr·∫£ v·ªÅ gi√° tr·ªã nh∆∞ m√¨nh truy·ªÅn v√†o file js b√™n tr√™n nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11  { type: \u0026#34;doughnut\u0026#34;, data: { datasets: [{ backgroundColor: \u0026#34;black\u0026#34;, data: [0, 10, 20, 30, 40] }] }, options: { } }   Ch√∫ng ta c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c gi√° tr·ªã c·ªßa field t·ª´ h√†m _render th√¥ng qua bi·∫øn this.value, khi l·∫•y ƒë∆∞·ª£c gi√° tr·ªã field r·ªìi, ch√∫ng ta s·∫Ω ch·ªânh s·ª≠a ƒë·ªÉ cho v√†o js trong widget\nCh√∫ng ta s·∫Ω t·∫°o 1 field v√† vi·∫øt h√†m compute cho n√≥ nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13  value6 = fields.Text(compute=\u0026#34;_compute_value_6\u0026#34;) def _compute_value_6(self): for rc in self: rc.value6 = json.dumps({ \u0026#39;type\u0026#39;: \u0026#34;doughnut\u0026#34;, \u0026#39;data\u0026#39;: { \u0026#39;datasets\u0026#39;: [{ \u0026#39;backgroundColor\u0026#39;: \u0026#34;black\u0026#34;, \u0026#39;data\u0026#39;: [0, 10, 20, 30, 40] }] }, \u0026#39;options\u0026#39;: {} })   Trong h√†m _render, ch√∫ng ta th·ª≠ log g√≠a tr·ªã this.value xem n√≥ tr·∫£ ra g√¨ nh√©!\nCh√∫ng ta ch·ªâ c·∫ßn s·ª≠a h√†m _render nh∆∞ sau, ch√∫ng ta s·∫Ω c√≥ k·∫øt qu·∫£ hi·ªÉn th·ªã bi·ªÉu ƒë·ªì t∆∞∆°ng t·ª±:\n1 2 3 4 5 6 7 8 9 10 11 12  _render: function () { var self = this; var $canvas = $(\u0026#39;\u0026lt;canvas/\u0026gt;\u0026#39;); if (this.chart) { this.chart.destroy(); } this.$el.empty(); this.$el.append($canvas); var config = JSON.parse(this.value); this.chart = new Chart($canvas,config) return this._super.apply(this, arguments); },   B√†i vi·∫øt v·ªÅ dashboard trong Odoo c·ªßa m√¨nh c≈©ng d·ª´ng l·∫°i ·ªü ƒë√¢y, h·∫πn m·ªçi ng∆∞·ªùi v√†o nh·ªØng b√†i vi·∫øt ti·∫øp theo nh√©!üòÄ\n","description":"","id":2,"section":"posts","tags":["Odoo","OWL"],"title":"T·∫°o widget dashboard v·ªõi th∆∞ vi·ªán Chart trong Odoo","uri":"https://hungpt.info/en/posts/how_to_use_widget_chart_in_odoo13/"},{"content":"Trong nh·ªØng nƒÉm g·∫ßn ƒë√¢y c√°c library/framework JavaScript c·∫£ front-end l·∫´n back-end ƒë·ªÅu l≈© l∆∞·ª£t ra ƒë·ªùi v√† ph√°t tri·ªÉn m·∫°nh m·∫Ω nh∆∞ Reactjs, VueJS\u0026hellip; Odoo c≈©ng v·∫≠y t·ª´ b·∫£n Odoo 14 c≈©ng ƒë√£ c√≥ framework m·ªõi l√† OWL.\nC√≤n ti·∫øp\u0026hellip;..\n","description":"","id":3,"section":"posts","tags":["OWL","Odoo"],"title":"OWL l√† g√¨? Nh·ªØng ƒëi·ªÅu c·∫ßn bi·∫øt khi m·ªõi t√¨m hi·ªÉu v·ªÅ OWL?","uri":"https://hungpt.info/en/posts/owl-tutorial-part1/"},{"content":"Kubernetes l√† c√¥ng c·ª• ƒëi·ªÅu ph·ªëi ph·ªï bi·∫øn nh·∫•t ƒë·ªÉ tri·ªÉn khai v√† nh√¢n r·ªông c√°c h·ªá th·ªëng ƒë∆∞·ª£c ƒë√≥ng g√≥i(docker\u0026hellip;). B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Kubernetes ƒë·ªÉ x√¢y d·ª±ng v√† ph√¢n ph·ªëi c√°c ·ª©ng d·ª•ng c·ªßa m√¨nh tr√™n cloud m·ªôt c√°ch ƒë√°ng tin c·∫≠y.\nTrong b√†i h∆∞·ªõng d·∫´n d√†nh cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu n√†y, b·∫°n s·∫Ω t√¨m hi·ªÉu nh·ªØng g√¨ Kubernetes c√≥ th·ªÉ l√†m v√† c√°ch b·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng K8S qua m·ªôt s·ªë v√≠ d·ª• c·ª• th·ªÉ.\n1. Kubernetes l√† g√¨? Kubernetes, ho·∫∑c k8s l√† m·ªôt n·ªÅn t·∫£ng m√£ ngu·ªìn m·ªü t·ª± ƒë·ªông ho√° vi·ªác qu·∫£n l√Ω, scaling v√† tri·ªÉn khai ·ª©ng d·ª•ng d∆∞·ªõi d·∫°ng container hay c√≤n g·ªçi l√† Container orchestration engine. N√≥ lo·∫°i b·ªè r·∫•t nhi·ªÅu c√°c quy tr√¨nh th·ªß c√¥ng li√™n quan ƒë·∫øn vi·ªác tri·ªÉn khai v√† m·ªü r·ªông c√°c containerized applications.\nG·∫ßn ƒë√¢y, nhi·ªÅu ·ª©ng d·ª•ng ƒë√£ th·ª±c hi·ªán container ho√° b·∫±ng c√°ch s·ª≠ d·ª•ng docker v√† s·ª≠ d·ª•ng n√≥ nh∆∞ l√† m√¥i tr∆∞·ªùng production ng√†y c√†ng tƒÉng. Tr√™n m√¥i tr∆∞·ªùng production, vi·ªác c·∫•u tr√∫c h·ªá th·ªëng ch·∫°y b·∫±ng container ch·ªâ s·ª≠ d·ª•ng docker l√† r·∫•t kh√≥ khƒÉn. Cho n√™n vi·ªác s·ª≠ d·ª•ng m·ªôt n·ªÅn t·∫£ng Container orchestration engine nh∆∞ l√† k8s th√¨ kh√° ph·ªï bi·∫øn hi·ªán nay.\nC√°c ·ª©ng d·ª•ng production th·ª±c t·∫ø m·ªü r·ªông nhi·ªÅu containers. C√°c containers ƒë√≥ ph·∫£i ƒë∆∞·ª£c tri·ªÉn khai tr√™n nhi·ªÅu server hosts. Kubernetes cung c·∫•p kh·∫£ nƒÉng ph·ªëi h·ª£p v√† qu·∫£n l√Ω c·∫ßn thi·∫øt ƒë·ªÉ tri·ªÉn khai c√°c containers theo quy m√¥ cho c√°c workloads ƒë√≥.\n2. T√≠nh nƒÉng B·∫±ng vi·ªác s·ª≠ d·ª•ng docker, tr√™n 1 host b·∫°n c√≥ th·ªÉ t·∫°o ra nhi·ªÅu container. Tuy nhi√™n n·∫øu b·∫°n c√≥ √Ω ƒë·ªãnh s·ª≠ d·ª•ng tr√™n m√¥i tr∆∞·ªùng production th√¨ ph·∫£i b·∫Øt bu·ªôc ph·∫£i nghƒ© ƒë·∫øn nh·ªØng v·∫•n ƒë·ªÅ d∆∞·ªõi ƒë√¢y:\n Vi·ªác qu·∫£n l√Ω h√†ng lo·∫°t docker host Container Scheduling Rolling update Scaling/Auto Scaling Monitor v√≤ng ƒë·ªùi v√† t√¨nh tr·∫°ng s·ªëng ch·∫øt c·ªßa container. Self-hearing trong tr∆∞·ªùng h·ª£p c√≥ l·ªói x√£y ra. (C√≥ kh·∫£ nƒÉng ph√°t hi·ªán v√† t·ª± correct l·ªói) Service discovery Load balancing Qu·∫£n l√Ω data, work node, log Infrastructure as Code S·ª± li√™n k·∫øt v√† m·ªü r·ªông v·ªõi c√°c h·ªá th·ªëng kh√°c  3. Kubernetes ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o? Container thi·∫øt l·∫≠p ·ª©ng d·ª•ng d∆∞·ªõi h√¨nh th·ª©c di ƒë·ªông v√† ki·∫øn tr√∫c K8s ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ch·∫°y c√°c ·ª©ng d·ª•ng ƒë√≥. M·ªôt c·ª•m K8s bao g·ªìm m·ªôt Control Plan v√† m·ªôt n√∫t th·ª±c thi. Trong ƒë√≥, Control Plan c√≥ nhi·ªám v·ª• hi·ªÉn th·ªã API K8s v√† qu·∫£n l√Ω c√°c n√∫t.\nƒê∆°n v·ªã th·ª±c thi nh·ªè nh·∫•t cho m·ªôt ·ª©ng d·ª•ng ƒëang ch·∫°y trong Kubernetes l√† Kubernetes Pod, bao g·ªìm m·ªôt ho·∫∑c nhi·ªÅu container. Kubernetes Pods ch·∫°y tr√™n c√°c n√∫t th·ª±c thi.\nC√°c ch·ª©c nƒÉng c·ªßa K8s c≈©ng l√† th√†nh ph·∫ßn c·ªßa Control Plan v√† th·ª±c thi tr√™n c√°c n√∫t K8s.\nControl Plan c√≥ b·ªën th√†nh ph·∫ßn ch√≠nh  Kube-apiserver gi√∫p hi·ªÉn th·ªã API Kubernetes. etcd. l√† kho l∆∞u tr·ªØ kh√≥a-gi√° tr·ªã n∆°i l∆∞u tr·ªØ t·∫•t c·∫£ d·ªØ li·ªáu li√™n quan ƒë·∫øn c·ª•m Kubernetes. Kube-scheduler gi√∫p theo d√µi c√°c Kubernetes Pods linh ho·∫°t kh√¥ng c·∫ßn n√∫t. Kube-controller-manager ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ qu·∫£n l√Ω v√† ƒëi·ªÅu khi·ªÉn c√°c ch·ª©c nƒÉng.  N√∫t K8s c√≥ ba th√†nh ph·∫ßn ch√≠nh  Kubelet ƒë·∫£m b·∫£o c√°c container c·∫ßn thi·∫øt cho Kubernetes Pod. Kube-proxy gi√∫p duy tr√¨ c√°c quy t·∫Øc m·∫°ng v√† cho ph√©p giao ti·∫øp. Container runtime l√† c√°c ph·∫ßn m·ªÅm ch·∫°y container tu√¢n th·ªß Kubernetes CRI.  M·ªôt s·ªë ƒëi·ªÅu kho·∫£n b·ªï sung c·∫ßn l∆∞u √Ω  Kubernetes service s·ª≠ d·ª•ng m·ªôt ch·ª©c nƒÉng ƒë·ªÉ th·ª±c hi·ªán c√°c nhi·ªám v·ª• ƒë∆∞·ª£c y√™u c·∫ßu. Controller ƒë·∫£m b·∫£o tr·∫°ng th√°i hi·ªán t·∫°i c·ªßa Kubernetes ƒë√°p ·ª©ng v·ªõi mong mu·ªën s·ª≠ d·ª•ng. Operator c√≥ kh·∫£ nƒÉng t·ª± ƒë·ªông ho√° c√°c t√°c v·ª• ƒë·ªôc quy·ªÅn gi√∫p tri·ªÉn khai v√† qu·∫£n l√Ω ·ª©ng d·ª•ng tr√™n K8s d·ªÖ d√†ng h∆°n.  4. Thu·∫≠t ng·ªØ v√† kh√°i ni·ªám c∆° b·∫£n Master node L√† server ƒëi·ªÅu khi·ªÉn c√°c m√°y Worker ch·∫°y ·ª©ng d·ª•ng. Master node bao g·ªìm 4 th√†nh ph·∫ßn ch√≠nh:\n Kubernetes API Server: l√† th√†nh ph·∫ßn gi√∫p c√°c th√†nh ph·∫ßn kh√°c li√™n l·∫°c n√≥i chuy·ªán v·ªõi nhau. L·∫≠p tr√¨nh vi√™n khi tri·ªÉn khai ·ª©ng d·ª•ng s·∫Ω g·ªçi API Kubernetes API Server n√†y. Scheduler: Th√†nh ph·∫ßn n√†y l·∫≠p l·ªãch tri·ªÉn khai cho c√°c ·ª©ng d·ª•ng, ∆∞ng d·ª•ng ƒë∆∞·ª£c ƒë·∫∑t v√†o Worker n√†o ƒë·ªÉ ch·∫°y Controler Manager: Th√†nh ph·∫ßn ƒë·∫£m nhi·ªám ph·∫ßn qu·∫£n l√Ω c√°c Worker, ki·ªÉm tra c√°c Worker s·ªëng hay ch·∫øt, ƒë·∫£m nh·∫≠n vi·ªác nh√¢n b·∫£n ·ª©ng d·ª•ng‚Ä¶ Etcd: ƒê√¢y l√† c∆° s·ªü d·ªØ li·ªáu c·ªßa Kubernetes, t·∫•t c·∫£ c√°c th√¥ng tin c·ªßa Kubernetes ƒë∆∞·ª£c l∆∞u tr·ªØ c·ªë ƒë·ªãnh v√†o ƒë√¢y.  Worker node L√† server ch·∫°y ·ª©ng d·ª•ng tr√™n ƒë√≥. Bao g·ªìm 3 th√†nh ph·∫ßn ch√≠nh:\n Container runtime: L√† th√†nh ph·∫ßn gi√∫p ch·∫°y c√°c ·ª©ng d·ª•ng d∆∞·ªõi d·∫°ng Container. Th√¥ng th∆∞·ªùng ng∆∞·ªùi ta s·ª≠ d·ª•ng Docker. Kubelet: ƒë√¢y l√† th√†nh ph·∫ßn giao ti·∫øp v·ªõi Kubernetes API Server, v√† c≈©ng qu·∫£n l√Ω c√°c container Kubernetes Service Proxy: Th√†nh ph·∫ßn n√†y ƒë·∫£m nh·∫≠n vi·ªác ph√¢n t·∫£i gi·ªØa c√°c ·ª©ng d·ª•ng  kubectl Tool qu·∫£n tr·ªã Kubernetes, ƒë∆∞·ª£c c√†i ƒë·∫∑t tr√™n c√°c m√°y tr·∫°m, cho ph√©p c√°c l·∫≠p tr√¨nh vi√™n ƒë·∫©y c√°c ·ª©ng d·ª•ng m√¥ t·∫£ tri·ªÉn khai v√†o c·ª•m Kubernetes, c≈©ng nh∆∞ l√† cho ph√©p c√°c qu·∫£n tr·ªã vi√™n c√≥ th·ªÉ qu·∫£n tr·ªã ƒë∆∞·ª£c c·ª•m Kubernetes.\nPod Pod l√† kh√°i ni·ªám c∆° b·∫£n v√† quan tr·ªçng nh·∫•t tr√™n Kubernetes. B·∫£n th√¢n Pod c√≥ th·ªÉ ch·ª©a 1 ho·∫∑c nhi·ªÅu h∆°n 1 container. Pod ch√≠nh l√† n∆°i ·ª©ng d·ª•ng ƒë∆∞·ª£c ch·∫°y trong ƒë√≥. Pod l√† c√°c ti·∫øn tr√¨nh n·∫±m tr√™n c√°c Worker Node. B·∫£n th√¢n Pod c√≥ t√†i nguy√™n ri√™ng v·ªÅ file system, cpu, ram, volumes, ƒë·ªãa ch·ªâ network‚Ä¶\nImage L√† ph·∫ßn m·ªÅm ch·∫°y ·ª©ng d·ª•ng ƒë√£ ƒë∆∞·ª£c g√≥i l·∫°i th√†nh m·ªôt ch∆∞∆°ng tr√¨nh ƒë·ªÉ c√≥ th·ªÉ ch·∫°y d∆∞·ªõi d·∫°ng container. C√°c Pod s·∫Ω s·ª≠ d·ª•ng c√°c Image ƒë·ªÉ ch·∫°y.\nC√°c Image n√†y th√¥ng th∆∞·ªùng qu·∫£n l√Ω ·ªü m·ªôt n∆°i l∆∞u tr·ªØ t·∫≠p trung, v√≠ d·ª• ch√∫ng ta c√≥ Docker Hub l√† n∆°i ch·ª©a Images c·ªßa nhi·ªÅu ·ª©ng d·ª•ng ph·ªï bi·∫øn nh∆∞ nginx, mysql, wordpress‚Ä¶\nDeployment L√† c√°ch th·ª©c ƒë·ªÉ gi√∫p tri·ªÉn khai, c·∫≠p nh·∫≠t, qu·∫£n tr·ªã Pod.\nReplicas Controller L√† th√†nh ph·∫ßn qu·∫£n tr·ªã b·∫£n sao c·ªßa Pod, gi√∫p nh√¢n b·∫£n ho·∫∑c gi·∫£m s·ªë l∆∞·ª£ng Pod.\nService L√† ph·∫ßn m·∫°ng (network) c·ªßa Kubernetes gi√∫p cho c√°c Pod g·ªçi nhau ·ªïn ƒë·ªãnh h∆°n, ho·∫∑c ƒë·ªÉ Load Balancing gi·ªØa nhi·ªÅu b·∫£n sao c·ªßa Pod, v√† c√≥ th·ªÉ d√πng ƒë·ªÉ d·∫´n traffic t·ª´ ng∆∞·ªùi d√πng v√†o ·ª©ng d·ª•ng (Pod), gi√∫p ng∆∞·ªùi d√πng c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë∆∞·ª£c ·ª©ng d·ª•ng.\nLabel Label ra ƒë·ªùi ƒë·ªÉ ph√¢n lo·∫°i v√† qu·∫£n l√Ω Pod,. V√≠ d·ª• ch√∫ng ta c√≥ th·ªÉ ƒë√°nh nh√£n c√°c Pod ch·∫°y ·ªü theo ch·ª©c nƒÉng frontend, backend, ch·∫°y ·ªü m√¥i tr∆∞·ªùng dev, qc, uat, production‚Ä¶\n5. S·ª≠ d·ª•ng Kubectl ƒë·ªÉ t∆∞∆°ng t√°c v·ªõi Kubernetes C√≤n ti·∫øp\u0026hellip;\n","description":"Kubernetes l√† c√¥ng c·ª• ƒëi·ªÅu ph·ªëi ph·ªï bi·∫øn nh·∫•t ƒë·ªÉ tri·ªÉn khai v√† nh√¢n r·ªông c√°c h·ªá th·ªëng ƒë∆∞·ª£c ƒë√≥ng g√≥i(docker...). B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Kubernetes ƒë·ªÉ x√¢y d·ª±ng v√† ph√¢n ph·ªëi c√°c ·ª©ng d·ª•ng c·ªßa m√¨nh tr√™n cloud m·ªôt c√°ch ƒë√°ng tin c·∫≠y.","id":4,"section":"posts","tags":["K8s","Devops","AWS"],"title":"H∆∞·ªõng d·∫´n Kubernetes cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu ‚Äì C√°c kh√°i ni·ªám \u0026 v√≠ d·ª• c∆° b·∫£n","uri":"https://hungpt.info/en/posts/kubernetes-tutorial/"},{"content":"Trong b√†i lab l·∫ßn n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu v·ªÅ docker. V·∫≠y docker l√† g√¨?\nDocker l√† n·ªÅn t·∫£ng ph·∫ßn m·ªÅm cho ph√©p b·∫°n d·ª±ng, ki·ªÉm th·ª≠ v√† tri·ªÉn khai ·ª©ng d·ª•ng m·ªôt c√°ch nhanh ch√≥ng.\nDocker ƒë√≥ng g√≥i ph·∫ßn m·ªÅm v√†o c√°c ƒë∆°n v·ªã ti√™u chu·∫©n h√≥a ƒë∆∞·ª£c g·ªçi l√† container c√≥ m·ªçi th·ª© m√† ph·∫ßn m·ªÅm c·∫ßn ƒë·ªÉ ch·∫°y, trong ƒë√≥ c√≥ th∆∞ vi·ªán, c√¥ng c·ª• h·ªá th·ªëng, m√£ v√† th·ªùi gian ch·∫°y. B·∫±ng c√°ch s·ª≠ d·ª•ng Docker, b·∫°n c√≥ th·ªÉ nhanh ch√≥ng tri·ªÉn khai v√† thay ƒë·ªïi quy m√¥ ·ª©ng d·ª•ng v√†o b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o v√† bi·∫øt ch·∫Øc r·∫±ng m√£ c·ªßa b·∫°n s·∫Ω ch·∫°y ƒë∆∞·ª£c.\nNh∆∞ng ƒë·ªÉ d·ªÖ ti·∫øp c·∫≠n nh·∫•t, c·ª© coi docker l√† m√°y ·∫£o v·ªõi c√°c th√†nh ph·∫ßn nh∆∞:\n Docker hub: L√† cloud l∆∞u tr·ªØ c√°c Docker image (Gi·ªëng nh∆∞ AMI c·ªßa AWS) Docker Container : L√† c√°c Instance (Gi·ªëng nh∆∞ EC2 trong AWS) Docker Network: C√≥ c√°c t√≠nh nƒÉng t∆∞∆°ng t·ª± nh∆∞ network c·ªßa VMware/Virtualbox Docker volume: C√≥ th·ªÉ mount c√°c th∆∞ m·ª•c tr√™n m√°y host(m√°y th·∫≠t) v√†o Container, ho·∫∑c c√≥ th·ªÉ s·ª≠ d·ª•ng ·ªï m·∫°ng n·∫øy ƒë·ªÉ Container instance c√≥ b·ªã reset, t·∫°o l·∫°i Container c≈©ng kh√¥ng b·ªã m·∫•t d·ªØ li·ªáu Docker Container s·∫Ω stopped/Exited ngay l·∫≠p t·ª©c n·∫øy trong Container kh√¥ng c√≥ ch∆∞∆°ng tr√¨nh n√†o ƒëang ch·∫°y. N√™n c√≥ th·ªÉ g·ªçi container v·ªõi /bin/bash n·∫øu kh√¥ng c√≥ g√¨ ch·∫°y trong Instance Container\nTr√™n docker hub c√≥ s·∫µn g·∫ßn nh∆∞ c√°c lo·∫°i image cho m·ªçi nh∆∞ c·∫ßu ph·ªï bi·∫øn. Tuy nhi√™n, n·∫øu mu·ªën, c√≥ th·ªÉ t·∫°o Clean Image ban ƒë·∫ßu t·ª´ b·ªô h·ªá ƒëi·ªÅu h√†nh c√≥ s·∫µn.\nV√≠ d·ª•: t·∫°o image CleanUbuntu tr√™n m√°y ·∫£o EC2 t·ª´ b·ªô c√†i Ubuntu 20.04(t√™n m√£ l√† focal):  B∆∞·ªõc 1: Chu·∫©n b·ªã m√°y ·∫£o EC2 ch·∫°y Ubuntu. C√†i ƒë·∫∑t c√¥ng c·ª• t·∫°o b·ªô c√†i Ubuntu v·ªõi l·ªánh sau: sudo apt-get update sudo apt install debootstrap B∆∞·ªõc 2: C√†i ƒë·∫∑t docker Ch·∫°y l·ªánh t·∫°o file system c√†i ubuntu 20.04(focal) v√†o th∆∞ m·ª•c con focal trong th∆∞ m·ª•c n√†y v·ªõi l·ªánh sau:\nsudo debootstrap focal focal ls focal C√†i ƒë·∫∑t ph·∫ßn m·ªÅm docker l√™n EC2:\nsudo apt install docker.io -y B∆∞·ªõc 3: T·∫°o docker image pwd sudo tar -C focal -c. | sudo docker import - focal Ch·∫°y th√™m 1 container kh√°c:\nsudo docker run -it focal /bin/bash Xem c√°c container tr√™n m√°y:\nsudo docker container ls -a N·∫øu mu·ªën ch·∫°y docker kh√¥ng c·∫ßn quy·ªÅn sudo th√¨ add USER v√†o group docker:\nsudo usermod -aG docker $USER newgrp docker //ƒë·ªÉ vi·ªác thay ƒë·ªïi c√≥ hi·ªáu l·ª±c ho·∫∑c exec su -l $USER Ki·ªÉm tra log c·ªßa container v·ªõi l·ªánh sau:\nsudo ls /var/lib/docker/containers/ -la Gi·ªõi h·∫°n k√≠ch th∆∞·ªõc file log b·∫±ng c√°ch c·∫•u h√¨nh file : /etc/docker/daemon.json\nsudo nano /etc/docker/daemon.json S·ª≠a n·ªôi dung file sau:\n{ \u0026quot;log-driver\u0026quot;:\u0026quot;json-file\u0026quot;, \u0026quot;log-opts\u0026quot;:{ \u0026quot;max-size\u0026quot;:\u0026quot;50m\u0026quot;, \u0026quot;max-file\u0026quot;:\u0026quot;7\u0026quot; } } Sau ƒë√≥ l∆∞u l·∫°i v√† kh·ªüi ƒë·ªông l·∫°i docker\nsudo systemctl restart docker C√°c container m·ªõi s·∫Ω ch·ªãu c·∫•u h√¨nh m·∫∑c ƒë·ªãnh n√†y\nExport v√† import image trong Docker Docker l∆∞u repository ch·ª©a c√°c image v√† c√°c layer, container ·ªü ƒë∆∞·ªùng d·∫´n: /var/lib/docker\nN·∫øu mu·ªën export m·ªôt image t·ª´ responsitory tr·ªü l·∫°i file tar ƒë·ªÉ copy v√† import v√†o m√°y kh√°c th√¨ d√πng l·ªánh:\ndocker save --output name.tar name_docker_image Sau khi copy xong, import sang m√°y kh√°c ch√∫ng ta d√πng l·ªánh:\ndocker load -i file.tar ","description":"Trong b√†i lab l·∫ßn n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu v·ªÅ docker. V·∫≠y docker l√† g√¨? Docker l√† n·ªÅn t·∫£ng ph·∫ßn m·ªÅm cho ph√©p b·∫°n d·ª±ng, ki·ªÉm th·ª≠ v√† tri·ªÉn khai ·ª©ng d·ª•ng m·ªôt c√°ch nhanh ch√≥ng.","id":5,"section":"posts","tags":["docker","devops","aws"],"title":"Docker l√† g√¨? Ki·∫øn th·ª©c c∆° b·∫£n v·ªÅ Docker","uri":"https://hungpt.info/en/posts/docker_part1/"},{"content":"·ªû 3 ph·∫ßn tr∆∞·ªõc ch√∫ng ta ƒë√£ c√πng t√¨m hi·ªÉu t·ª´ng th√†nh ph·∫ßn trong m√¥ h√¨nh MVC c·ªßa Javascript Odoo. ·ªû ph·∫ßn n√†y, m√¨nh s·∫Ω t·∫°o ra 1 view OWL\nV·∫≠y b√†i vi·∫øt n√†y ch√∫ng ta s·∫Ω x√¢y d·ª±ng ra c√°i g√¨? M√¨nh s·∫Ω t·∫°o 1 ki·ªÉu xem m·ªõi(·ªü odoo c√≥ c√°c ki·ªÉu xem nh∆∞u tree,kanban,chart), ki·ªÉu xem n√†y hi·ªÉn th·ªã theo m√¥ h√¨nh cha con ph√¢n c·∫•p.\nRegistering 1 view type m·ªõi trong ir.ui.view model from odoo import fields, models class View(models.Model): _inherit = \u0026quot;ir.ui.view\u0026quot; type = fields.Selection(selection_add=[(\u0026quot;owl_tree\u0026quot;, \u0026quot;OWL Tree Vizualisation\u0026quot;)]) Th√™m javascript trong Odoo \u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf-8\u0026quot;?\u0026gt; \u0026lt;odoo\u0026gt; \u0026lt;template id=\u0026quot;assets_backend\u0026quot; name=\u0026quot;assets_backend\u0026quot; inherit_id=\u0026quot;web.assets_backend\u0026quot;\u0026gt; \u0026lt;xpath expr=\u0026quot;.\u0026quot; position=\u0026quot;inside\u0026quot;\u0026gt; \u0026lt;script type=\u0026quot;text/javascript\u0026quot; src=\u0026quot;/owl_tutorial_views/static/src/components/tree_item/TreeItem.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script type=\u0026quot;text/javascript\u0026quot; src=\u0026quot;/owl_tutorial_views/static/src/owl_tree_view/owl_tree_view.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script type=\u0026quot;text/javascript\u0026quot; src=\u0026quot;/owl_tutorial_views/static/src/owl_tree_view/owl_tree_model.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script type=\u0026quot;text/javascript\u0026quot; src=\u0026quot;/owl_tutorial_views/static/src/owl_tree_view/owl_tree_controller.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script type=\u0026quot;text/javascript\u0026quot; src=\u0026quot;/owl_tutorial_views/static/src/owl_tree_view/owl_tree_renderer.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/xpath\u0026gt; \u0026lt;xpath expr=\u0026quot;link[last()]\u0026quot; position=\u0026quot;after\u0026quot;\u0026gt; \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; type=\u0026quot;text/scss\u0026quot; href=\u0026quot;/owl_tutorial_views/static/src/components/tree_item/tree_item.scss\u0026quot;/\u0026gt; \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; type=\u0026quot;text/scss\u0026quot; href=\u0026quot;/owl_tutorial_views/static/src/owl_tree_view/owl_tree_view.scss\u0026quot;/\u0026gt; \u0026lt;/xpath\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;/odoo\u0026gt; Hi·ªÉn th·ªã view m·ªõi trong danh m·ª•c nh√≥m SP \u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf-8\u0026quot;?\u0026gt; \u0026lt;odoo\u0026gt; \u0026lt;record id=\u0026quot;product_category_view_owl_tree_view\u0026quot; model=\u0026quot;ir.ui.view\u0026quot;\u0026gt; \u0026lt;field name=\u0026quot;name\u0026quot;\u0026gt;Product Categories\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026quot;model\u0026quot;\u0026gt;product.category\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026quot;arch\u0026quot; type=\u0026quot;xml\u0026quot;\u0026gt; \u0026lt;owl_tree\u0026gt;\u0026lt;/owl_tree\u0026gt; \u0026lt;/field\u0026gt; \u0026lt;/record\u0026gt; \u0026lt;record id='product.product_category_action_form' model='ir.actions.act_window'\u0026gt; \u0026lt;field name=\u0026quot;name\u0026quot;\u0026gt;Product Categories\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026quot;res_model\u0026quot;\u0026gt;product.category\u0026lt;/field\u0026gt; \u0026lt;field name=\u0026quot;view_mode\u0026quot;\u0026gt;tree,owl_tree,form\u0026lt;/field\u0026gt; \u0026lt;/record\u0026gt; \u0026lt;/odoo\u0026gt; Creating the View, Model, Controller and, Renderer. ‚îú‚îÄ‚îÄ owl_tree_view ‚îÇ ‚îú‚îÄ‚îÄ owl_tree_controller.js ‚îÇ ‚îú‚îÄ‚îÄ owl_tree_model.js ‚îÇ ‚îú‚îÄ‚îÄ owl_tree_renderer.js ‚îÇ ‚îú‚îÄ‚îÄ owl_tree_view.js ‚îÇ ‚îî‚îÄ‚îÄ owl_tree_view.scss ‚îî‚îÄ‚îÄ xml ‚îî‚îÄ‚îÄ owl_tree_view.xml Controller B√™n trong t·ªáp owl_tree_controller.js, ch√∫ng ta s·∫Ω t·∫°o OWLTreeController ƒë·ªÉ m·ªü r·ªông AbastractController:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  odoo.define(\u0026#34;owl_tutorial_views.OWLTreeController\u0026#34;, function (require) { \u0026#34;use strict\u0026#34;; var AbstractController = require(\u0026#34;web.AbstractController\u0026#34;); var OWLTreeController = AbstractController.extend({ custom_events: _.extend({}, AbstractController.prototype.custom_events, {}), /** * @override * @param parent * @param model * @param renderer * @param {Object} params */ init: function (parent, model, renderer, params) { this._super.apply(this, arguments); } }); return OWLTreeController; });   Hi·ªán t·∫°i, Controller n√†y ch∆∞a l√†m g√¨ c·∫£, init ch·ªâ g·ªçi h√†m cha v√† kh√¥ng c√≥ custom_events n√†o ƒë∆∞·ª£c t·∫°o ngay b√¢y gi·ªù, nh∆∞ng ch√∫ng ta s·∫Ω t√¨m hi·ªÉu n√≥ sau.\nModel B√™n trong file owl_tree_model.js, m√¨nh s·∫Ω t·∫°o OWLTreeModel, model n√†y s·∫Ω th·ª±c hi·ªán l·∫•y d·ªØ li·ªáu ƒë·∫øn server.\n·ªû ƒë√¢y ch√∫ng ta s·∫Ω overide l·∫°i 1 s·ªë h√†m nh∆∞:\n __load : ch·ªâ ƒë∆∞·ª£c g·ªçi l·∫ßn ƒë·∫ßu ti√™n ƒë·ªÉ l·∫•y d·ªØ li·ªáu t·ª´ server __reload: h√†m n√†y ƒë∆∞·ª£c g·ªçi b·ªüi controller khi c√≥ b·∫•t k·ª≥ s·ª± thay ƒë·ªïi n√†o ph√≠a UI, h√†m n√†y c≈©ng l·∫•y d·ªØ li·ªáu t·ª´ ph√≠a server __get: h√†m n√†y s·∫Ω chuy·ªÉn d·ªØ li·ªáu v·ªÅ Controller sau ƒë√≥ s·∫Ω chuy·ªÉn t·ªõi Render ƒë·ªÉ hi·ªÉn th·ªã d·ªØ li·ªáu ra giao di·ªán  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45  odoo.define(\u0026#34;owl_tutorial_views.OWLTreeModel\u0026#34;, function (require) { \u0026#34;use strict\u0026#34;; var AbstractModel = require(\u0026#34;web.AbstractModel\u0026#34;); const OWLTreeModel = AbstractModel.extend({ __get: function () { return this.data; }, __load: function (params) { this.modelName = params.modelName; this.domain = [[\u0026#34;parent_id\u0026#34;, \u0026#34;=\u0026#34;, false]]; // this.domain = params.domain;  // It is the better to get domains from params  // but we will evolve our module later.  this.data = {}; return this._fetchData(); }, __reload: function (handle, params) { if (\u0026#34;domain\u0026#34; in params) { this.domain = params.domain; } return this._fetchData(); }, _fetchData: function () { var self = this; return this._rpc({ model: this.modelName, method: \u0026#34;search_read\u0026#34;, kwargs: { domain: this.domain, }, }).then(function (result) { self.data.items = result; }); }, }); return OWLTreeModel; });   ·ªû ƒë√¢y m√¨nh t·∫°o ra 1 h√†m _fetchData, h√†m n√†y c√≥ nhi·ªám v·ª• call RPC v√† c√≥ th·ªÉ s·ª≠ d·ª•ng ·ªü nhi·ªÅu ch·ªó kh√°c nhau trong code c·ªßa ch√∫ng ta.\nTrong h√†m _load v√† h√†m _reload c√≥ ch·ª©a tham s·ªë params trong ƒë√≥ c√≥ bi·∫øn ‚Äòdomain , v√¨ ·ª©ng d·ª•ng c·ªßa ch√∫ng ta l√† hi·ªÉn th·ªã danh m·ª•c g·ªëc sau ƒë√≥ ƒë·∫øn danh m·ª•c con n√™n ·ªü h√†m _load ch·ªâ ch·∫°y ·ªü l·∫ßn ƒë·∫ßu ti√™n, ch√∫ng ta c√≥ th·ªÉ ƒë·∫∑t domain l√† [[‚Äúparent_id‚Äù, ‚Äú=‚Äù, false]]\nK·∫øt qu·∫£ m√¨nh l·∫•y t·ª´ server s·∫Ω l∆∞u l·∫°i ·ªü data.items. ƒêi·ªÅu n√†y r·∫•t quan tr·ªçng b·ªüi sau n√†y b·∫°n s·∫Ω th·∫•y OWL Render truy c·∫≠p v√†o nhi·ªÅu d·ªØ li·ªáu th√¥ng quan props ƒë·ªÉ t·∫°o th√†nh 1 JS Object\nOWL Renderer Trong file owl_tree_renderer.js ch√∫ng ta s·∫Ω k·∫ø th·ª´a AbstractRendererOwl m√† kh√¥ng k·∫ø th·ª´a Component th√¥ng th∆∞·ªùng\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57  odoo.define(\u0026#34;owl_tutorial_views.OWLTreeRenderer\u0026#34;, function (require) { \u0026#34;use strict\u0026#34;; const AbstractRendererOwl = require(\u0026#34;web.AbstractRendererOwl\u0026#34;); const patchMixin = require(\u0026#34;web.patchMixin\u0026#34;); const QWeb = require(\u0026#34;web.QWeb\u0026#34;); const session = require(\u0026#34;web.session\u0026#34;); const { useState } = owl.hooks; class OWLTreeRenderer extends AbstractRendererOwl { constructor(parent, props) { super(...arguments); this.qweb = new QWeb(this.env.isDebug(), { _s: session.origin }); this.state = useState({ localItems: props.items || [], }); } willUpdateProps(nextProps) { Object.assign(this.state, { localItems: nextProps.items, }); } } const components = { TreeItem: require(\u0026#34;owl_tutorial_views/static/src/components/tree_item/TreeItem.js\u0026#34;), }; Object.assign(OWLTreeRenderer, { components, defaultProps: { items: [], }, props: { arch: { type: Object, optional: true, }, items: { type: Array, }, isEmbedded: { type: Boolean, optional: true, }, noContentHelp: { type: String, optional: true, }, }, template: \u0026#34;owl_tutorial_views.OWLTreeRenderer\u0026#34;, }); return patchMixin(OWLTreeRenderer); });   Render s·∫Ω ƒë∆∞·ª£c kh·ªüi t·∫°o v·ªõi c√°c props, c√°i m√† ch√∫ng ta s·∫Ω l·∫•y d·ªØ li·ªáu t·ª´ server t·ª´ Model.\nQWeb Template ·ªû file owl_tree_view.xml ch√∫ng ta vi·∫øt nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;templates xml:space=\u0026#34;preserve\u0026#34;\u0026gt; \u0026lt;div t-name=\u0026#34;owl_tutorial_views.OWLTreeRenderer\u0026#34; class=\u0026#34;o_owl_tree_view\u0026#34; owl=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;d-flex p-2 flex-row owl-tree-root\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;list-group\u0026#34;\u0026gt; \u0026lt;t t-foreach=\u0026#34;props.items\u0026#34; t-as=\u0026#34;item\u0026#34;\u0026gt; \u0026lt;TreeItem item=\u0026#34;item\u0026#34;/\u0026gt; \u0026lt;/t\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/templates\u0026gt;   View Cu·ªëi c√πng ch√∫ng ta s·∫Ω t·∫°o 1 class View m·ªü r·ªông t·ª´ AbtractView. N√≥ s·∫Ω ch·ªãu tr√°ch nhi·ªám kh·ªüi t·∫°o, k·∫øt n·ªëi t·ªõi Model, Controller v√† Render\nTrong file owl_tree_view.js ch√∫ng ta s·∫Ω vi·∫øt nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46  odoo.define(\u0026#34;owl_tutorial_views.OWLTreeView\u0026#34;, function (require) { \u0026#34;use strict\u0026#34;; // Pulling the MVC parts  const OWLTreeController = require(\u0026#34;owl_tutorial_views.OWLTreeController\u0026#34;); const OWLTreeModel = require(\u0026#34;owl_tutorial_views.OWLTreeModel\u0026#34;); const OWLTreeRenderer = require(\u0026#34;owl_tutorial_views.OWLTreeRenderer\u0026#34;); const AbstractView = require(\u0026#34;web.AbstractView\u0026#34;); const core = require(\u0026#34;web.core\u0026#34;); // Our Renderer is an OWL Component so this is needed  const RendererWrapper = require(\u0026#34;web.RendererWrapper\u0026#34;); const view_registry = require(\u0026#34;web.view_registry\u0026#34;); const _lt = core._lt; const OWLTreeView = AbstractView.extend({ accesskey: \u0026#34;m\u0026#34;, display_name: _lt(\u0026#34;OWLTreeView\u0026#34;), icon: \u0026#34;fa-indent\u0026#34;, config: _.extend({}, AbstractView.prototype.config, { Controller: OWLTreeController, Model: OWLTreeModel, Renderer: OWLTreeRenderer, }), viewType: \u0026#34;owl_tree\u0026#34;, searchMenuTypes: [\u0026#34;filter\u0026#34;, \u0026#34;favorite\u0026#34;], /** * @override */ init: function () { this._super.apply(this, arguments); }, getRenderer(parent, state) { state = Object.assign(state || {}, this.rendererParams); return new RendererWrapper(parent, this.config.Renderer, state); }, }); // Make the view of type \u0026#34;owl_tree\u0026#34; actually available and valid  // if seen in an XML or an action.  view_registry.add(\u0026#34;owl_tree\u0026#34;, OWLTreeView); return OWLTreeView; });   Th√™m CSS 1 2 3 4  .owl-tree-root { width: 1200px; height: 1200px; }   TreeItem OWL Component Ch√∫ng ta s·∫Ω th√™m component l√† TreeItem s·∫Ω ƒë·∫°i di·ªán cho 1 button, m·ªói TreeView s·∫Ω c√≥ 1 tr∆∞·ªùng child_id ƒë·∫°i di·ªán\n·ªû ƒë√¢y m√¨nh s·∫Ω t·∫°o 1 folder components v·ªõi c√°c file nh∆∞ sau:\n. ‚îú‚îÄ‚îÄ components ‚îÇ ‚îî‚îÄ‚îÄ tree_item ‚îÇ ‚îú‚îÄ‚îÄ TreeItem.js ‚îÇ ‚îú‚îÄ‚îÄ TreeItem.xml ‚îÇ ‚îî‚îÄ‚îÄ tree_item.sc Template 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;templates xml:space=\u0026#34;preserve\u0026#34;\u0026gt; \u0026lt;t t-name=\u0026#34;owl_tutorial_views.TreeItem\u0026#34; owl=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;tree-item-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;list-group-item list-group-item-action d-flex justify-content-between align-items-center owl-tree-item\u0026#34;\u0026gt; \u0026lt;span t-esc=\u0026#34;props.item.display_name\u0026#34;/\u0026gt; \u0026lt;span class=\u0026#34;badge badge-primary badge-pill\u0026#34; t-esc=\u0026#34;props.item.product_count\u0026#34;\u0026gt;4\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;t t-if=\u0026#34;props.item.child_id.length \u0026gt; 0\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;d-flex pl-4 py-1 flex-row treeview\u0026#34; t-if=\u0026#34;props.item.children and props.item.children.length \u0026gt; 0\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;list-group\u0026#34;\u0026gt; \u0026lt;t t-foreach=\u0026#34;props.item.children\u0026#34; t-as=\u0026#34;child_item\u0026#34;\u0026gt; \u0026lt;TreeItem item=\u0026#34;child_item\u0026#34;/\u0026gt; \u0026lt;/t\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/t\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/t\u0026gt; \u0026lt;/templates\u0026gt;   TreeItem.js Component 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  odoo.define( \u0026#34;owl_tutorial_views/static/src/components/tree_item/TreeItem.js\u0026#34;, function (require) { \u0026#34;use strict\u0026#34;; const { Component } = owl; const patchMixin = require(\u0026#34;web.patchMixin\u0026#34;); const { useState } = owl.hooks; class TreeItem extends Component { /** * @override */ constructor(...args) { super(...args); this.state = useState({}); } } Object.assign(TreeItem, { components: { TreeItem }, props: { item: {}, }, template: \u0026#34;owl_tutorial_views.TreeItem\u0026#34;, }); return patchMixin(TreeItem); } );   V·∫≠y d√≤ng Object.assign m·ª•c ƒë√≠ch ƒë·ªÉ l√†m g√¨?\nN·∫øu b·∫°n coi OWL l√† 1 th∆∞ vi·ªán javascript ƒë·ªôc l·∫≠p nh∆∞ ReactJS hay VueJS th√¨ OWL s·∫Ω kh√°c 1 ch√∫t khi n√≥ kh√¥ng ƒë·ªãnh nghƒ©a c√°c thu·ªôc t√≠nh static trong 1 component.ƒê·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ n√†y, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng Object,asign\nV·∫≠y Object.assign l√† g√¨? Th√¨ object.assign() l√† m·ªôt method nh∆∞ng (multiple jobs) n√≥ c√≥ nhi·ªÅu nhi·ªám v·ª• trong ƒë√≥ bao g·ªìm nh·ªØng nhi·ªám v·ª• copy an object, clone t·ª´ m·ªôt object kh√°c, v√† n·ªëi hai hay nhi·ªÅu object l·∫°i v·ªõi nhau.\nSCSS Styles 1 2 3  .tree-item-wrapper { min-width: 50em; }   ","description":"","id":6,"section":"posts","tags":["Odoo","OWL","Javascript"],"title":"Odoo JavaScript - Ph·∫ßn 4: T·∫°o OWL view","uri":"https://hungpt.info/en/posts/odoo-javascript-classes-and-mvc-architecture_part4/"},{"content":"MVC ·ªü ƒë√¢y ch√∫ng ta c√≥ th·ªÉ hi·ªÉu WebClient c·ªßa odoo ch√≠nh l√† view l√† Python ch√≠nh l√† M v√† C.\nNh∆∞ng ch√∫ng ta n√™n nghƒ© v·ªÅ WebClient nh∆∞ m·ªôt application ri√™ng bi·ªát c≈©ng c·∫ßn c√≥ ki·∫øn tr√∫c MVC ri√™ng c·ªßa n√≥.\nC√°c class base trong MVC M√¨nh b·∫Øt ƒë·∫ßu ph√¢n t√≠ch Ki·∫øn tr√∫c MVC trong Odoo WebClient b·∫±ng c√°ch ƒëi v√†o m√£ ngu·ªìn b√™n trong /odoo/addons/web/static/src/core/mvc.js.\nNh√¨n h√¨nh b√™n tr√™n ch√∫ng ta c√≥ th·ªÉ th·∫•y, file js n√†y ƒë·ªãnh nghƒ©a 4 th√†nh ph·∫ßn ch√≠nh t·∫°o n√™n MVC ƒë√≥ l√† Model, Render, Controller v√† Factory.\n Model ki·ªÉm so√°t tr·∫°ng th√°i, n√≥ s·∫Ω g·ªçi m√°y ch·ªß th√¥ng qua RPC ƒë·ªÉ t√¨m n·∫°p d·ªØ li·ªáu, c·∫≠p nh·∫≠t v√† t·∫°o n√≥. Model kh√¥ng extend Widget b·ªüi model ch·ªâ ch·ªãu tr√°ch nhi·ªám c·∫≠p nh·∫≠t, th·ªÉ h·ªán tr·∫°ng th√°i c·ªßa d·ªØ li·ªáu(üòÅkh√¥ng bi·∫øt m√¨nh n√≥i v·∫≠y c√≥ ƒë√∫ng kh√¥ng n·ªØa) Renderer ƒë∆∞·ª£c extend t·ª´ Widget c√≥ nhi·ªám v·ª• hi·ªÉn th·ªã d·ªØ li·ªáu cho end user th√¥ng qua vi·ªác th√™m m·ªçi th·ª© v√†o DOM. Class n√†y k c√≥ quy·ªÅn truy c·∫≠p tr·ª±c ti·∫øp ƒë·∫øn Model m√† ph·∫£i th√¥ng qua Controller v√† khi c√≥ s·ª± ki·ªán nh∆∞ click chu·ªôt,‚Ä¶ th√¨ Render s·∫Ω dispath ch√∫ng ƒë·∫øn Controller Controller c√≥ th·ªÉ coi l√† m·ªôt ng∆∞·ªùi ƒëi·ªÅu ph·ªëi gi·ªØ Model v√† Controller Factory hay c√≤n g·ªçi l√† View, nhi·ªám v·ª• ch√≠nh l√† t·ª´ route URL nh·∫≠n ƒë∆∞·ª£c, s·∫Ω kh·ªüi t·∫°o Model, Controller. Sau khi Controller ho·∫°t ƒë·ªông th√¨ Factory s·∫Ω kh√¥ng c√≤n ho·∫°t ƒë·ªông n·ªØa\nT·ª´ 4 √Ω ch√≠nh tr√™n, b·∫°n c√≥ th·ªÉ v√†o code ƒë·ªçc t·ª´ng ph·∫ßn ƒë·ªÉ hi·ªÉu th√™m nh√©!  C√°c l·ªõp tr·ª´u t∆∞·ª£ng c·ªßa Ki·∫øn tr√∫c MVC Nh∆∞ trong file mvc.js th√¨ trong addons/web/static/src/js/views c≈©ng ƒë∆∞·ª£c chia th√†nh 4 l·ªõp tr·ª´u t∆∞·ª£ng t∆∞∆°ng ·ª©ng v·ªõi 4 file js\n AbstractModel (abstractmodel.js) AbstractRenderer (abstractrenderer.js) AbstractController (abstractcontroller.js) AbstractView (abstractview.js)\nV·ªÅ b·∫£n ch·∫•t 4 l·ªõp tr·ª´u t∆∞·ª£ng n√†y c≈©ng l√† extend t·ª´ c√°c class trong file mvc.js m√† m√¨nh ƒë√£ n√≥i ·ªü tr√™nüòÅ. B√¢y gi·ªù c√πng t√¨m hi·ªÉu t·ª´ng AbtractClass xem ch√∫ng ƒë∆∞·ª£c vi·∫øt th√™m nh·ªØng g√¨ nh√©!\nNh√¨n c√≥ v·∫ª ph·ª©c t·∫°p nh·ªâ, ok ch√∫ng ta s·∫Ω ƒëi t·ªõi t·ª´ng l·ªõp tr·ª´u t∆∞·ª£ng m·ªôt nh√©!  Model C≈©ng gi·ªëng nh∆∞ Model trong mvc.js, ·ªü ƒë√¢y n√≥ c≈©ng c√≥ nhi·ªám v·ª• l√† n·∫°p d·ªØ li·ªáu th√¥ng qua rpc v√† x·ª≠ l√Ω k·∫øt qu·∫£ nh·∫≠n ƒë∆∞·ª£c\nV√≠ d·ª• v·ªõi BasicModel (ƒë∆∞·ª£c s·ª≠ d·ª•ng trong Form/List Views) BasicModel m·ªü r·ªông AbstractModel v√† l√† m·ªôt tri·ªÉn khai th·ª±c s·ª± c·ªßa l·ªõp tr·ª´u t∆∞·ª£ng, ƒë·ªÉ l√†m cho nh·ªØng g√¨ ch√∫ng ta ƒë√£ n√≥i tr∆∞·ªõc ƒë√≥ r√µ r√†ng h∆°n m·ªôt ch√∫t, ch√∫ng ta s·∫Ω xem x√©t v√≠ d·ª• sau\nB·∫°n c√≥ th·ªÉ theo ƒë∆∞·ªùng d·∫´n addons/web/static/src/js/views/basic/basic_model.js, b·∫°n s·∫Ω th·∫•y class BasicModel ƒë∆∞·ª£c extend t·ª´ AbstractModel\n·ªü ƒë√¢y ch√∫ng ta c√≥ th·ªÉ th·∫•y h√†m _load:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  _load: function (dataPoint, options) { if (options \u0026amp;\u0026amp; options.onlyGroups \u0026amp;\u0026amp; !(dataPoint.type === \u0026#39;list\u0026#39; \u0026amp;\u0026amp; dataPoint.groupedBy.length)) { return Promise.resolve(dataPoint); } if (dataPoint.type === \u0026#39;record\u0026#39;) { return this._fetchRecord(dataPoint, options); } if (dataPoint.type === \u0026#39;list\u0026#39; \u0026amp;\u0026amp; dataPoint.groupedBy.length) { return this._readGroup(dataPoint, options); } if (dataPoint.type === \u0026#39;list\u0026#39; \u0026amp;\u0026amp; !dataPoint.groupedBy.length) { return this._fetchUngroupedList(dataPoint, options); } },   T∆∞∆°ng ·ª©ng v·ªõi h√†m _fetchRecord th·ª±c hi·ªán g·ªçi RPC v√† update d·ªØ li·ªáu hi·ªÉn th·ªã ra m√†n h√¨nh\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  _fetchRecord: function (record, options) { var self = this; options = options || {}; var fieldNames = options.fieldNames || record.getFieldNames(options); fieldNames = _.uniq(fieldNames.concat([\u0026#39;display_name\u0026#39;])); return this._rpc({ model: record.model, method: \u0026#39;read\u0026#39;, args: [[record.res_id], fieldNames], context: _.extend({bin_size: true}, record.getContext()), }) .then(function (result) { if (result.length === 0) { return Promise.reject(); } result = result[0]; record.data = _.extend({}, record.data, result); }) .then(function () { self._parseServerData(fieldNames, record, record.data); }) .then(function () { return Promise.all([ self._fetchX2Manys(record, options), self._fetchReferences(record, options) ]).then(function () { return self._postprocess(record, options); }); }); },   T·ª´ 2 h√†m tr√™n ch√∫ng ta c√≥ th·ªÉ th·∫•y l·ªõp tr·ª´u t∆∞·ª£ng model ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o r·ªìi ph·∫£i kh√¥ng nh·ªâ?\nRenderer Nh∆∞ ƒë√£ n√≥i ·ªü tr√™n, Render nh·∫±m m·ª•c ƒë√≠ch hi·ªÉn th·ªã giao di·ªán cho ng∆∞·ªùi d√πng, c≈©ng nh∆∞ t∆∞∆°ng t√°c v·ªõi c√°c s·ª± ki·ªán tr√™n UI ƒë·ªÉ chuy·ªÉn v·ªÅ cho Controller\nTrong odoo 14, c√≥ 2 c√°ch ƒë·ªÉ b·∫°n c√≥ th·ªÉ t·∫°o ra Render l√† extends AbstractRender ho·∫∑c t·∫°o OWL Render, ch√∫ng tnh√©a c√πng ƒëi nhanh qua 2 c√°ch n√†y\n Legacy AbstractRenderer\nCh√∫ng ta s·∫Ω c√≥ 1 main function ƒë√≥ l√† _render m√† c·ª• th·ªÉ h∆°n n√≥ g·ªçi l√† _renderView b√™n d∆∞·ªõi ch·ª©a logic c·ªßa vi·ªác t·∫°o giao di·ªán ng∆∞·ªùi d√πng.\nNh∆∞ ƒë√¢y l√† ƒëo·∫°n code c·ªßa BasicRender:  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  _render: function () { var oldAllFieldWidgets = this.allFieldWidgets; this.allFieldWidgets = {}; // TODO maybe merging allFieldWidgets and allModifiersData into \u0026#34;nodesData\u0026#34; in some way could be great  this.allModifiersData = []; var oldWidgets = this.widgets; this.widgets = []; return this._renderView().then(function () { _.each(oldAllFieldWidgets, function (recordWidgets) { _.each(recordWidgets, function (widget) { widget.destroy(); }); }); _.invoke(oldWidgets, \u0026#39;destroy\u0026#39;); }); },   Khi Controller mu·ªën update, Render s·∫Ω thi·∫øt l·∫≠p v√† tr·∫£ l·∫°i tr·∫°ng th√°i c·ªßa m√¨nh v·ªõi getLocalState v√† setLocalState, tr∆∞·ªõc khi ƒë∆∞·ª£c g·ª° kh·ªèi DOM, Renderc≈©ng ph·∫£i reset state v·ªõi h√†m resetLocalState\n OWL Renderer\nOwlRendererWrapper nh∆∞ m·ªôt ng∆∞·ªùi ƒë·ª©ng gi·ªØa Render v√† Controller  1 2 3 4 5 6  class RendererWrapper extends ComponentWrapper { getLocalState() { } setLocalState() { } giveFocus() { } resetLocalState() { } }   Theo nh∆∞ m√¨nh bi·∫øt th√¨ c√°c h√†m ·ªü ƒë√¢y kh√¥ng l√†m g√¨ c·∫£, n·∫øu b·∫°n mu·ªën ch√∫ng ho·∫°t ƒë·ªông ƒë∆∞·ª£c th√¨ ph·∫£i override l·∫°i n√≥\nV√≠ d·ª• nh∆∞ class PivotRenderer override l·∫°i resetLocalState ƒë·ªÉ ƒë·∫∑t l·∫°i tr·∫°ng th√°i OWL component. B·∫°n c√≥ th·ªÉ v√†o code c·ªßa core Odoo t·ª´ 14 tr·ªü l√™n t√¨m class PivotRenderer c√°c b·∫°n s·∫Ω th·∫•y nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  _resetState() { // This check is used to avoid the destruction of the dropdown.  // The click on the header bubbles to window in order to hide  // all the other dropdowns (in this component or other components).  // So we need isHeaderClicked to cancel this behaviour.  if (this.isHeaderClicked) { this.isHeaderClicked = false; return; } this.state.activeNodeHeader = { groupId: false, isXAxis: false, click: false }; }   Controller Controller th∆∞·ªùng qu·∫£n l√Ω giao ti·∫øp gi·ªØa Render v√† Model. Nh∆∞ng n√≥ c≈©ng ch·ªãu tr√°ch nhi·ªám tr·∫£ l·ªùi c√°c s·ª± ki·ªán t·ª´ ControlPanel ho·∫∑c SearchPanel.\n1 2 3 4 5 6  _startRenderer: function () { if (this.renderer instanceof owl.Component) { return this.renderer.mount(this.$(\u0026#39;.o_content\u0026#39;)[0]); } return this.renderer.appendTo(this.$(\u0026#39;.o_content\u0026#39;)); },   Khi ph∆∞∆°ng th·ª©c ƒë∆∞·ª£c start, Render s·∫Ω ƒë∆∞·ª£c th√™m v√†o DOM th√¥ng qua $el\nB√¢y gi·ªù ch√∫ng ta s·∫Ω ƒëi·ªÉm qua 2 ch·ª©c nƒÉng ch√≠nh c·ªßa Controller:\n L√† c·∫ßu n·ªëi trung gian ƒë·ªÉ giao ti·∫øp gi·ªØa Render v√† Model\nTh·ª±c t·∫ø Render s·∫Ω k√≠ch ho·∫°t m·ªôt s·ªë s·ª± ki·ªán t·ªõi Controller v√† ƒë·ªÉ ƒë√°p l·∫°i,Render s·∫Ω th·ª±c hi·ªán m·ªôt s·ªë h√†nh ƒë·ªông\nV·ªõi s·ª± tr·ª£ gi√∫p c·ªßa ActionsMixin, Controller c√≥ th·ªÉ ƒëƒÉng k√Ω m·ªôt s·ªë custom-event m√† Controller ƒëang l·∫Øng nghe v√† x·ª≠ l√Ω  1 2 3 4 5  custom_events: _.extend({}, ActionMixin.custom_events, { navigation_move: \u0026#39;_onNavigationMove\u0026#39;, open_record: \u0026#39;_onOpenRecord\u0026#39;, switch_view: \u0026#39;_onSwitchView\u0026#39;, }),   Controller c≈©ng x·ª≠ l√Ω m·ªôt s·ªë s·ª± ki·ªán khi ch√∫ng ta click v√†o c√°c n√∫t tr√™n giao di·ªán c√≥ s·∫µn c·ªßa Odoo\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  /** * This is the main entry point for the controller. Changes from the search * view arrive in this method, and internal changes can sometimes also call * this method. It is basically the way everything notifies the controller * that something has changed. * * The update method is responsible for fetching necessary data, then * updating the renderer and wait for the rendering to complete. * * @param {Object} params will be given to the model and to the renderer * @param {Object} [options={}] * @param {boolean} [options.reload=true] if true, the model will reload data * @returns {Promise} */ async update(params, options = {}) { const shouldReload = \u0026#39;reload\u0026#39; in options ? options.reload : true; if (shouldReload) { this.handle = await this.dp.add(this.model.reload(this.handle, params)); } const localState = this.renderer.getLocalState(); const state = this.model.get(this.handle, { withSampleData: true }); const promises = [ this._updateRendererState(state, params).then(() =\u0026gt; { this.renderer.setLocalState(localState); }), this._update(this.model.get(this.handle), params) ]; await this.dp.add(Promise.all(promises)); this.updateButtons(); this.el.classList.toggle(\u0026#39;o_view_sample_data\u0026#39;, this.model.isInSampleMode()); },    Truy c·∫≠p v√†o Control Panel v√† Search Panel  1 2 3 4 5 6 7 8 9 10 11 12  if (this.withControlPanel) { this._updateControlPanelProps(this.initialState); this._controlPanelWrapper = new ComponentWrapper(this, this.ControlPanel, this.controlPanelProps); this._controlPanelWrapper.env.bus.on(\u0026#39;focus-view\u0026#39;, this, () =\u0026gt; this._giveFocus()); promises.push(this._controlPanelWrapper.mount(this.el, { position: \u0026#39;first-child\u0026#39; })); } if (this.withSearchPanel) { this._searchPanelWrapper = new ComponentWrapper(this, this.SearchPanel, this.searchPanelProps); const content = this.el.querySelector(\u0026#39;:scope .o_content\u0026#39;); content.classList.add(\u0026#39;o_controller_with_searchpanel\u0026#39;); promises.push(this._searchPanelWrapper.mount(content, { position: \u0026#39;first-child\u0026#39; })); }   View Kh·ªüi t·∫°o 1 view th∆∞·ªùng c√≥ 2 tham s·ªë:\n1 2 3  init: function (viewInfo, params) { //... }   M·ª•c ti√™u ch√≠nh c·ªßa qu√° tr√¨nh kh·ªüi t·∫°o l√† ƒëi·ªÅn c√°c ƒë·ªëi t∆∞·ª£ng c·∫•u h√¨nh s·∫Ω ƒë∆∞·ª£c chuy·ªÉn ƒë·∫øn c√°c sub_component ƒë·ªÉ t·∫°o ch√∫ng:\n1 2 3 4  this.rendererParams = {}; this.controllerParams = {}; this.modelParams = {}; this.loadParams = {};   3 d√≤ng ƒë·∫ßu th·ªÉ hi·ªán r√µ ·ª©ng v·ªõi 3 ph·∫ßn l√† : Renderer, Controller v√† Model, c√≤n ***this.loadParams = {};***LoadParams s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ t·∫£i d·ªØ li·ªáu ban ƒë·∫ßu v·ªõi _loadData v√† n√≥ s·∫Ω ch·ª©a th√¥ng tin n·∫øu view ƒëang ƒë∆∞·ª£c ‚Äúm·ªü‚Äù v·ªõi group-bey, context, domain, limit\nM·ª•c ti√™u ƒë·ªëi v·ªõi m√¨nh l√† hi·ªÉu c√°ch th·ª©c JS View th·ª±c hi·ªán khi ch√∫ng ta t·∫°o ra v√† b·∫Øt ƒë·∫ßu t·ª´ XML m√† ch√∫ng ta th∆∞·ªùng code h·∫±ng ng√†y nh∆∞ th·∫ø n√†o?\n","description":"","id":7,"section":"posts","tags":["Odoo","OWL","Javascript"],"title":"Odoo JavaScript - Ph·∫ßn 3: T·ªïng quan v·ªÅ ki·∫øn tr√∫c MVC trong Odoo","uri":"https://hungpt.info/en/posts/odoo-javascript-classes-and-mvc-architecture_part3/"},{"content":"B√†i vi·∫øt l·∫ßn n√†y, ch√∫ng ta c√πng ƒëi t√¨m hi·ªÉu s√¢u h∆°n v·ªÅ web.Widget class nh√©!\nB√™n c·∫°nh vi·ªác extend t·ª´ nh·ªØng mixin kh√°c nh∆∞ ·ªü ph·∫ßn 1 m√¨nh c√≥ n√≥i th√¨ m·ª•c ƒë√≠ch ch√≠nh c·ªßa web.Widget ƒë√≥ ch√≠nh l√† render Qweb, th·ª±c hi·ªán qu·∫£n l√Ω life cycle v√† th√™m v√†o DOM.\nWeb.Widget c√≥ c√°c thu·ªôc t√≠nh l·∫•y c·∫£m h·ª©ng t·ª´ BackboneJS hi·ªÉn th·ªã trong l·ªõp nh∆∞ tagName,id, className, attributes, events, template\nxmlDependencies, cssLibs, jsLibs v√† assetLibs l√† nh·ªØng th·ª©c s·∫Ω ƒë∆∞·ª£c t√¨m v√† load tr∆∞·ªõc khi Widget ƒë∆∞·ª£c render.\nC·∫ßn ch√∫ √Ω, ***web.Widget c√≥ 2 thu·ªôc t√≠nh ·∫©n r·∫•t quan tr·ªçng nh∆∞ sau:\n el: l√† 1 DOM element ƒë∆∞·ª£c set gi√° tr·ªã khi ch√∫ng ta g·ªçi h√†m setElement $el : l√† bi·∫øn Jquery ƒë·∫°i di·ªán cho el\nCh√∫ √Ω: N·∫øu b·∫°n mu·ªën truy c·∫≠p ƒë·∫øn this.el ho·∫∑c this.$el ·ªü sai th·ªùi ƒëi·ªÉm c·ªßa life cycle th√¨ c√≥ th·ªÉ tr·∫£ v·ªÅ l√† undifine, 2 thu·ªôc t√≠nh n√†y ch·ªâ c√≥ gi√° tr·ªã khi ch√∫ng ta h√†m renderElement ho·∫∑c h√†m attach to ƒë∆∞·ª£c g·ªçi.  Render template Qweb 1 2 3 4 5 6 7 8 9 10 11 12 13 14  /** * Renders the element. The default implementation renders the widget using * QWeb, `this.template` must be defined. The context given to QWeb contains * the \u0026#34;widget\u0026#34; key that references `this`. */ renderElement: function () { var $el; if (this.template) { $el = $(core.qweb.render(this.template, {widget: this}).trim()); } else { $el = this._makeDescriptive(); } this._replaceElement($el); },   Lifecycle V√≤ng ƒë·ªùi c·ªßa 1 widget bao g·ªìm init -\u0026gt; willStart -\u0026gt;[rendering]-\u0026gt; start -\u0026gt; destroy, t∆∞∆°ng ·ª©ng v·ªõi c√°c h√†m c√≥ trong Widget.\n H√†m init  1 2 3 4 5 6 7 8 9 10 11 12 13  init: function (parent) { mixins.PropertiesMixin.init.call(this); this.setParent(parent); // Bind on_/do_* methods to this  // We might remove this automatic binding in the future  for (var name in this) { if(typeof(this[name]) === \u0026#34;function\u0026#34;) { if((/^on_|^do_/).test(name)) { this[name] = this[name].bind(this); } } } },    H√†m willStart s·∫Ω th·ª±c hi·ªán b·∫•t ƒë·ªìng b·ªô vi·ªác t·∫£i th∆∞ vi·ªán li√™n quan, file xml  1 2 3 4 5 6 7 8 9 10 11 12 13 14  * @returns {Promise} */ willStart: function () { var proms = []; if (this.xmlDependencies) { proms.push.apply(proms, _.map(this.xmlDependencies, function (xmlPath) { return ajax.loadXML(xmlPath, core.qweb); })); } if (this.jsLibs || this.cssLibs || this.assetLibs) { proms.push(this._loadLibs(this)); } return Promise.all(proms); },    H√†m start  1 2 3 4 5  * @returns {Promise} */ start: function () { return Promise.resolve(); },    H√†m destroy s·∫Ω lo·∫°i b·ªè $ el kh·ªèi DOM v√† x√≥a c√°c ph·∫ßn t·ª≠ con.  1 2 3 4 5 6  destroy: function () { mixins.PropertiesMixin.destroy.call(this); if (this.$el) { this.$el.remove(); } },   Insert DOM web.Widget c√≥ c√°c h√†m appendTo, insertAfter, attachTo, prependTo ƒë·ªÅu nh·∫≠n ƒë·ªëi s·ªë l√† 1 jquery element, b·∫°n c√≥ th·ªÉ t√¨m hi·ªÉu th√™m trong code core c·ªßa Odoo.\nT·ªïng k·∫øt Widget l√† 1 trong nh·ªØng th√†nh ph·∫ßn quan tr·ªçng nh·∫•t c·ªßa Framework, m√¨nh khuy√™n b·∫°n n√™n d√†nh th·ªùi gian ƒëi s√¢u v√†o m√£ ngu·ªìn, ƒë·ªçc l·∫°i ph·∫ßn gi·∫£i th√≠ch c·ªßa m√¨nh v√† xem qua t√†i li·ªáu n√†y\n","description":"","id":8,"section":"posts","tags":["Odoo","OWL","Javascript"],"title":"Odoo JavaScript - Ph·∫ßn 2: T·ªïng quan v·ªÅ classes v√† ki·∫øn tr√∫c MVC trong Odoo","uri":"https://hungpt.info/en/posts/odoo-javascript-classes-and-mvc-architecture_part2/"},{"content":"Trong Python, mixin ƒë·ªÅ c·∫≠p ƒë·∫øn nh∆∞ m·ªôt l·ªõp cung c·∫•p c√°c ph∆∞∆°ng th·ª©c c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng l·∫°i.T√≠nh nƒÉng n√†y c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng trong n·ªÅn t·∫£ng Odoo. B√†i vi·∫øt n√†y ch√∫ng ta s·∫Ω th·∫£o lu·∫≠n v·ªÅ c√°ch s·ª≠ d·ª•ng c√°c class mixin trong Odoo 15.\nD∆∞·ªõi ƒë√¢y m√¨nh c√≥ m·ªôt v√≠ d·ª• v·ªÅ 1 module trong ƒë√≥ c√≥ 3 ƒë·ªëi t∆∞·ª£ng t∆∞∆°ng ·ª©ng v·ªõi 3 model Teacher, Students, Parent. Trong ƒë√≥ m·ªói ƒë·ªëi t∆∞·ª£ng m√¨nh s·∫Ω c√≥ 1 tr∆∞·ªùng ƒë·ªÉ l∆∞u tr·ªØ ng√†y sinh v√† 1 tr∆∞·ªùng l∆∞u tr·ªØ tu·ªïi ƒë∆∞·ª£c t·ª± ƒë·ªông t√≠nh t·ª´ tr∆∞·ªùng ng√†y sinh. T\nTrong tr∆∞·ªùng h·ª£p n√†y, ph∆∞∆°ng th·ª©c t√≠nh tu·ªïi t·ª´ ng√†y sinh ƒë∆∞·ª£c vi·∫øt ·ªü 3 ch·ªó t∆∞∆°ng ·ª©ng v·ªõi 3 model, v√¨ v·∫≠y ·ªü ƒë√¢y ch√∫ng ta s·∫Ω c·∫ßn ƒë·∫øn mixin ƒë·ªÉ c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng l·∫°i v√† kh√¥ng ph·∫£i vi·∫øt c√πng 1 ƒëo·∫°n code ·ªü nhi·ªÅu ch·ªó kh√°c nhau.\nStudent Model class Student(models.Model): _name = \u0026quot;student.student\u0026quot; _description = \u0026quot;Student\u0026quot; name = fields.Char(string=\u0026quot;Name\u0026quot;, required=True) partner_id = fields.Many2one('res.partner', string=\u0026quot;Partner\u0026quot;) phone = fields.Char(string=\u0026quot;Phone Number\u0026quot;) email = fields.Char(string=\u0026quot;Email\u0026quot;, required=True) status = fields.Char(string=\u0026quot;Status\u0026quot;) date = fields.Date(string=\u0026quot;Date\u0026quot;, default=fields.Date.today()) total_grade = fields.Float(string=\u0026quot;Total Grade\u0026quot;) dob = fields.Date(string=\u0026quot;DOB\u0026quot;) age = fields.Integer(string=\u0026quot;Age\u0026quot;, compute='_compute_age') Parent Model class Parent(models.Model): _name = \u0026quot;student.parent\u0026quot; _description = \u0026quot;Parent\u0026quot; name = fields.Char(string=\u0026quot;Name\u0026quot;, required=True) phone = fields.Char(string=\u0026quot;Phone Number\u0026quot;) email = fields.Char(string=\u0026quot;Email\u0026quot;) partner_id = fields.Many2one('res.partner', string=\u0026quot;Partner\u0026quot;, required=True) date = fields.Date(string=\u0026quot;Date\u0026quot;, default=fields.Date.today()) student_ids = fields.Many2many('student.student', string=\u0026quot;Students\u0026quot;) dob = fields.Date(string=\u0026quot;DOB\u0026quot;) age = fields.Integer(string=\u0026quot;Age\u0026quot;, compute='_compute_age') Teacher Model class Teacher(models.Model): _name = \u0026quot;teacher.teacher\u0026quot; _description = \u0026quot;Teacher\u0026quot; name = fields.Char(string=\u0026quot;Name\u0026quot;, required=True) phone = fields.Char(string=\u0026quot;Phone Number\u0026quot;) email = fields.Char(string=\u0026quot;Email\u0026quot;) partner_id = fields.Many2one('res.partner', string=\u0026quot;Partner\u0026quot;, required=True) date = fields.Date(string=\u0026quot;Date\u0026quot;, default=fields.Date.today()) student_ids = fields.Many2many('student.student', string=\u0026quot;Students\u0026quot;) dob = fields.Date(string=\u0026quot;DOB\u0026quot;) age = fields.Integer(string=\u0026quot;Age\u0026quot;, compute='_compute_age') B√¢y gi·ªù ch√∫ng ta s·∫Ω t·∫°o ra 1 class mixin ƒë·ªÉ vi·∫øt ph∆∞∆°ng th·ª©c t√≠nh tu·ªïi t·ª´ ng√†y sinh nh∆∞ sau:\nMixin Class from odoo import fields from dateutil.relativedelta import relativedelta import logging _logger = logging.getLogger(__name__) class GetAgeMixin: def get_age_from_dob(self, dob): \u0026quot;\u0026quot;\u0026quot; :return: Returns age. \u0026quot;\u0026quot;\u0026quot; age = 0 today = fields.Date.today() if dob: age = relativedelta(today, dob).years return age Ch√∫ng ta s·∫Ω k·∫ø th·ª´a l·∫°i l·ªõp Mixin n√†y nh∆∞ sau:\nclass Student(models.Model, GetAgeMixin): _name = \u0026quot;student.student\u0026quot; _description = \u0026quot;Student\u0026quot; V√† ch√∫ng ta s·∫Ω vi·∫øt h√†m compute nh∆∞ sau:\n@api.depends('dob') def _compute_age(self): for rec in self: rec.age = self.get_age_from_dob(rec.dob) Tuy r·∫±ng ·ªü v√≠ d·ª• n√†y, logic ·ªü trong mixin kh√¥ng ph·ª©c t·∫°p, tuy nhi√™n v·ªõi tr∆∞·ªùng h·ª£p th·ª±c t·∫ø ƒë√¥i khi logic ph·ª©c t·∫°p khi·∫øn ƒëo·∫°n code x·ª≠ l√Ω r·∫•t d√†i, vi·ªác √°p d·ª•ng mixin v√†o s·∫Ω khi·∫øn ch√∫ng ta c√≥ c·∫£m nh·∫≠n r√µ r·ªát h·ªØu √≠ch c·ªßa n√≥ mang l·∫°i\n","description":"","id":9,"section":"posts","tags":["Odoo15","OWL","Javascript"],"title":"Class Mixin l√† g√¨ v√† C√°ch s·ª≠ d·ª•ng class Mixin trong Odoo 15","uri":"https://hungpt.info/en/posts/what-is-mixin-class-how-to-use-mixin-classes-in-odoo-15/"},{"content":"Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω ƒëi qua nh·ªØng ki·∫øn th·ª©c c∆° b·∫£n v·ªÅ Odoo JavaScript Framework v·ªõi m·ª•c ti√™u cu·ªëi c√πng l√† t·∫°o\nm·ªôt module trong OWL.\nK·ªÉ t·ª´ Odoo 14 (v√† c·∫£ Odoo 15, 16), h·ªá th·ªëng JavaScript MVC c·ªët l√µi trong Odoo v·∫´n ch∆∞a ƒë∆∞·ª£c vi·∫øt l·∫°i b·∫±ng OWL. V√¨ v·∫≠y ch√∫ng ta s·∫Ω t√¨m hi·ªÉu ki·∫øn tr√∫c MVC c·ªßa Odoo nh∆∞ng tr∆∞·ªõc ti√™n, ch√∫ng ta ph·∫£i xem x√©t 2 th√†nh ph·∫ßn ch√≠nh c·ªßa c√°c class trong JavaScript m√† m·ªçi ph·∫ßn ƒë·ªÅu ƒë∆∞·ª£c x√¢y d·ª±ng d·ª±a tr√™n ‚Äòweb.Class‚Äô v√† ‚Äòweb.Widget‚Äô.\nweb.Class trong Odoo L·ªõp web.js ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong odoo /addons/web/static/src/js/core/class.js l√† m·ªôt ƒëo·∫°n code kh√° c≈©\nVi·ªác k·∫ø th·ª´a c√°c l·ªõp trong javascript trong Odoo ƒë∆∞·ª£c vi·∫øt nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  * @class Class */ function OdooClass(){} var initializing = false; var fnTest = /xyz/.test(function(){xyz();}) ? /\\b_super\\b/ : /.*/; /** * Subclass an existing class * * @param {Object} prop class-level properties (class attributes and instance methods) to set on the new class */ OdooClass.extend = function() { var _super = this.prototype; // Support mixins arguments  var args = _.toArray(arguments); args.unshift({}); var prop = _.extend.apply(_,args); // Instantiate a web class (but only create the instance,  // don\u0026#39;t run the init constructor)  initializing = true; var This = this; var prototype = new This(); initializing = false;   ƒêi·ªÅu n√†y gi√∫p Odoo c√≥ th·ªÉ l√†m nh·ªØng vi·ªác nh∆∞:\n1 2 3 4 5 6 7 8 9  var Class = require(\u0026#39;web.Class\u0026#39;); var mixins = require(\u0026#39;web.mixins\u0026#39;); var ServicesMixin = require(\u0026#39;web.ServicesMixin\u0026#39;); var MyCustomClass = core.Class.extend(mixins.PropertiesMixin, ServicesMixin, { myProperty: \u0026#39;test\u0026#39; // ... }   K·∫øt lu·∫≠n l·∫°i th√¨ Web.Class l√† th·ª© cho ph√©p b·∫°n th·ª±c hi·ªán .extend() v√† .include tr√™n m·ªçi Widget JavaScript c·ªßa Odoo, v.v.\nweb.Widget Odoo Class. Widget Class l√† l·ªõp m·ªü r·ªông c·ªßa web.class k·∫øt h·ª£p c√πng v·ªõi DOM th√¥ng qua Jquery v√† ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong /addons/web/static/src/js/core/widget.js\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  var Widget = core.Class.extend(mixins.PropertiesMixin, ServicesMixin, { // Backbone-ish API  tagName: \u0026#39;div\u0026#39;, id: null, className: null, attributes: {}, events: {}, /** * The name of the QWeb template that will be used for rendering. Must be * redefined in subclasses or the default render() method can not be used. * * @type {null|string} */ template: null,   B·∫±ng c√°ch m·ªü r·ªông web.class, Class Widget n√†y c√≥ th·ªÉ c√≥ 2 mixin, PropertiesMixin v√† ServicesMixin.\nweb.Widget extends the PropertiesMixin PropertiesMixin ƒë∆∞·ª£c cho l√† x·ª≠ l√Ω c√°c thu·ªôc t√≠nh(properties) tuy nhi√™n khi ch√∫ng ta xem code c·ªßa mixin n√†y:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60  /** * @name PropertiesMixin * @mixin */ var PropertiesMixin = _.extend({}, EventDispatcherMixin, { init: function () { EventDispatcherMixin.init.call(this); this.__getterSetterInternalMap = {}; }, set: function (arg1, arg2, arg3) { var map; var options; if (typeof arg1 === \u0026#34;string\u0026#34;) { map = {}; map[arg1] = arg2; options = arg3 || {}; } else { map = arg1; options = arg2 || {}; } var self = this; var changed = false; _.each(map, function (val, key) { var tmp = self.__getterSetterInternalMap[key]; if (tmp === val) return; // seriously, why are you doing this? it is obviously a stupid design.  // the properties mixin should not be concerned with handling fields details.  // this also has the side effect of introducing a dependency on utils. Todo:  // remove this, or move it elsewhere. Also, learn OO programming.  if (key === \u0026#39;value\u0026#39; \u0026amp;\u0026amp; self.field \u0026amp;\u0026amp; self.field.type === \u0026#39;float\u0026#39; \u0026amp;\u0026amp; tmp \u0026amp;\u0026amp; val){ var digits = self.field.digits; if (_.isArray(digits)) { if (utils.float_is_zero(tmp - val, digits[1])) { return; } } } changed = true; self.__getterSetterInternalMap[key] = val; if (! options.silent) self.trigger(\u0026#34;change:\u0026#34; + key, self, { oldValue: tmp, newValue: val }); }); if (changed) self.trigger(\u0026#34;change\u0026#34;, self); }, get: function (key) { return this.__getterSetterInternalMap[key]; } }); return { ParentedMixin: ParentedMixin, EventDispatcherMixin: EventDispatcherMixin, PropertiesMixin: PropertiesMixin, };   PropertiesMixin l·∫°i extends EventDispatcherMixin, m·ª•c ƒë√≠ch ch√≠nh c·ªßa PropertiesMixin ƒë√≥ ch√≠nh l√† x·ª≠ l√Ω c√°c trigger event tr√™n UI\nC√≥ m·ªôt ƒëo·∫°n code kh√° h√†i h∆∞·ªõc m√† hi·ªán t·∫°i n√≥ v·∫´n c√≤n trong core c·ªßa odoo\n1 2 3 4 5 6 7 8 9 10  _.each(map, function (val, key) { var tmp = self.__getterSetterInternalMap[key]; if (tmp === val) return; // seriously, why are you doing this? it is obviously a stupid design.  // the properties mixin should not be concerned with handling fields details.  // this also has the side effect of introducing a dependency on utils. Todo:  // remove this, or move it elsewhere. Also, learn OO programming.  if (key === \u0026#39;value\u0026#39; \u0026amp;\u0026amp; self.field \u0026amp;\u0026amp; self.field.type === \u0026#39;float\u0026#39; \u0026amp;\u0026amp; tmp \u0026amp;\u0026amp; val){ var digits = self.field.digits;   Also, learn OO programming. =)))\nB·∫£n th√¢n EventDispatcherMixin c≈©ng extend t·ª´ ParentedMixin do ƒë√≥, n√≥ c≈©ng c√≥ th·ªÉ g·ªçi ƒë∆∞·ª£c c√°c function nh∆∞ getParent ho·∫∑c getChildren\nweb.Widget extends the ServicesMixin Mixin n√†y cung c·∫•p cho Widget kh·∫£ nƒÉng loadViews, do_action, get_session v√† th·ª±c hi·ªán h√†m RPC th√¥ng qua h√†m _rpc.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183  odoo.define(\u0026#39;web.ServicesMixin\u0026#39;, function (require) { \u0026#34;use strict\u0026#34;; var rpc = require(\u0026#39;web.rpc\u0026#39;); /** * @mixin * @name ServicesMixin */ var ServicesMixin = { /** * @param {string} service * @param {string} method * @return {any} result of the service called */ call: function (service, method) { var args = Array.prototype.slice.call(arguments, 2); var result; this.trigger_up(\u0026#39;call_service\u0026#39;, { service: service, method: method, args: args, callback: function (r) { result = r; }, }); return result; }, /** * @private * @param {Object} libs - @see ajax.loadLibs * @param {Object} [context] - @see ajax.loadLibs * @param {Object} [tplRoute=this._loadLibsTplRoute] - @see ajax.loadLibs * @returns {Promise} */ _loadLibs: function (libs, context, tplRoute) { return this.call(\u0026#39;ajax\u0026#39;, \u0026#39;loadLibs\u0026#39;, libs, context, tplRoute || this._loadLibsTplRoute); }, /** * Builds and executes RPC query. Returns a promise resolved with * the RPC result. * * @param {string} params either a route or a model * @param {string} options if a model is given, this argument is a method * @returns {Promise} */ _rpc: function (params, options) { var query = rpc.buildQuery(params); var prom = this.call(\u0026#39;ajax\u0026#39;, \u0026#39;rpc\u0026#39;, query.route, query.params, options, this); if (!prom) { prom = new Promise(function () {}); prom.abort = function () {}; } var abort = prom.abort ? prom.abort : prom.reject; if (!abort) { throw new Error(\u0026#34;a rpc promise should always have a reject function\u0026#34;); } prom.abort = abort.bind(prom); return prom; }, loadFieldView: function (modelName, context, view_id, view_type, options) { return this.loadViews(modelName, context, [[view_id, view_type]], options).then(function (result) { return result[view_type]; }); }, loadViews: function (modelName, context, views, options) { var self = this; return new Promise(function (resolve) { self.trigger_up(\u0026#39;load_views\u0026#39;, { modelName: modelName, context: context, views: views, options: options, on_success: resolve, }); }); }, loadFilters: function (modelName, actionId, context) { var self = this; return new Promise(function (resolve, reject) { self.trigger_up(\u0026#39;load_filters\u0026#39;, { modelName: modelName, actionId: actionId, context: context, on_success: resolve, }); }); }, createFilter: function (filter) { var self = this; return new Promise(function (resolve, reject) { self.trigger_up(\u0026#39;create_filter\u0026#39;, { filter: filter, on_success: resolve, }); }); }, deleteFilter: function (filterId) { var self = this; return new Promise(function (resolve, reject) { self.trigger_up(\u0026#39;delete_filter\u0026#39;, { filterId: filterId, on_success: resolve, }); }); }, // Session stuff  getSession: function () { var session; this.trigger_up(\u0026#39;get_session\u0026#39;, { callback: function (result) { session = result; } }); return session; }, /** * Informs the action manager to do an action. This supposes that the action * manager can be found amongst the ancestors of the current widget. * If that\u0026#39;s not the case this method will simply return an unresolved * promise. * * @param {any} action * @param {any} options * @returns {Promise} */ do_action: function (action, options) { var self = this; return new Promise(function (resolve, reject) { self.trigger_up(\u0026#39;do_action\u0026#39;, { action: action, options: options, on_success: resolve, on_fail: reject, }); }); }, /** * Displays a notification. * * @param {Object} options * @param {string} options.title * @param {string} [options.subtitle] * @param {string} [options.message] * @param {string} [options.type=\u0026#39;warning\u0026#39;] \u0026#39;info\u0026#39;, \u0026#39;success\u0026#39;, \u0026#39;warning\u0026#39;, \u0026#39;danger\u0026#39; or \u0026#39;\u0026#39; * @param {boolean} [options.sticky=false] * @param {string} [options.className] */ displayNotification: function (options) { return this.call(\u0026#39;notification\u0026#39;, \u0026#39;notify\u0026#39;, options); }, /** * @deprecated will be removed as soon as the notification system is reviewed * @see displayNotification */ do_notify: function (title, message, sticky, className) { return this.displayNotification({ type: \u0026#39;warning\u0026#39;, title: title, message: message, sticky: sticky, className: className, }); }, /** * @deprecated will be removed as soon as the notification system is reviewed * @see displayNotification */ do_warn: function (title, message, sticky, className) { console.warn(title, message); return this.displayNotification({ type: \u0026#39;danger\u0026#39;, title: title, message: message, sticky: sticky, className: className,return }); }, }; return ServicesMixin; });   ·ªû function do_action ch√∫ng ta c√≥ th·ªÉ th·∫•y r·∫±ng b·∫£n ch·∫•t v·∫´n l√† g·ªçi ƒë·∫øn h√†m trigger_up, tuy nhi√™n mixin n√†y l·∫°i kh√¥ng extend EventDispatcherMixin do ƒë√≥ ƒë·ªÉ c√≥ th·ªÉ d·ª•ng h·∫øt c√°c function c·ªßa mixin n√†y b·∫°n ph·∫£i extend c·∫£ EventsDispatcherMixin v√†o class c·ªßa b·∫°n, kh√° l√† phi·ªÅn ph·ª©c nh·ªâ?üòÅ\nOK, H√£y t√≥m t·∫Øt l·∫°i m·ªõ h·ªón ƒë·ªôn n√†y, v·∫≠y web.Widget c√≥ th·ªÉ l√†m g√¨?üòÑ web.Widget c√≥ th·ªÉ truy c·∫≠p v√†o:\n ParentedMixin v·ªõi c√°c ph∆∞∆°ng th·ª©c nh∆∞ getChildren, getParent‚Ä¶ EventDispatcherMixin ƒë·ªÉ ki·ªÉm so√°t c√°c event th√¥ng qua trigger_up PropertiesMixin v·ªõi get v√† set ServicesMixin v·ªõi c√°c ph∆∞∆°ng th·ª©c nh∆∞ rpc, load_view‚Ä¶ ","description":"","id":10,"section":"posts","tags":["Odoo","OWL","Javascript"],"title":"Odoo JavaScript - Ph·∫ßn 1: T·ªïng quan v·ªÅ classes v√† ki·∫øn tr√∫c MVC trong Odoo","uri":"https://hungpt.info/en/posts/odoo-javascript-classes-and-mvc-architecture/"},{"content":"Fiber l√† g√¨? Fiber l√† m·ªôt khung web l·∫•y c·∫£m h·ª©ng t·ª´ Express Web Framewok c·ªßa NodeJs ƒë∆∞·ª£c x√¢y d·ª±ng tr√™n Fasthttp, c√¥ng c·ª• HTTP nhanh nh·∫•t d√†nh cho Go.\nƒê∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ d·ªÖ d√†ng m·ªçi th·ª© nh·∫±m ph√°t tri·ªÉn nhanh ch√≥ng m√† kh√¥ng c·∫ßn l∆∞u √Ω ƒë·∫øn hi·ªáu su·∫•t v√† ph√¢n b·ªï b·ªô nh·ªõ.\nC√°c t√≠nh nƒÉng c·ªßa Fiber Framework  Robust routing / ƒê·ªãnh tuy·∫øn m·∫°nh m·∫Ω Serve static files / Cung c·∫•p c√°c t·ªáp tƒ©nh Extreme performance . Hi·ªáu su·∫•t c·ª±c cao Low memory footprint / S·ª≠ d·ª•ng b·ªô nh·ªõ th·∫•p API endpoints / ƒêi·ªÉm cu·ªëi API Middleware \u0026amp; Next support Rapid server-side programming / L·∫≠p tr√¨nh ph√≠a m√°y ch·ªß nhanh ch√≥ng Template engines / C√¥ng c·ª• m·∫´u H·ªó tr·ª£ WebSocket Rate Limiter / Gi·ªõi h·∫°n t·ª∑ l·ªá ƒê∆∞·ª£c d·ªãch sang 15 ng√¥n ng·ªØ V√† nhi·ªÅu h∆°n n·ªØa‚Ä¶  Set up the Project 1.T·∫°o th∆∞ m·ª•c\n1 2 3  $ mkdir Gofiber $ cd Gofiber   Kh·ªüi t·∫°o project  1  $ go mod init github.com/\u0026lt;your GitHub username\u0026gt;/Gofiber   T·∫°o c√°c th∆∞ m·ª•c c·∫ßn thi·∫øt  1  $ mkdir service storage models   Install the Required Libraries 1.C√†i ƒë·∫∑t Gofiber\n1  $ go get -u github.com/gofiber/fiber/v2   C√†i ƒë·∫∑t Gorm  1  $ go get -u gorm.io/gorm   Install Gorm Postgres driver.  1  $ go get -u gorm.io/driver/postgres   Install Godotenv, used for loading environment variables.  1  $ go get github.com/joho/godotenv   Install Validator.  1  $ go get github.com/go-playground/validator/v10   C√†i ƒë·∫∑t database  Chuy·ªÉn sang user postgres ƒë·ªÉ thao t√°c  $ sudo -iu postgres psql Kh·ªüi t·∫°o database  CREATE DATABASE gofiber; Exit  \\q Kh·ªüi t·∫°o file .env v√† paste c·∫•u h√¨nh sau  DB_HOST=localhost DB_PORT=5432 DB_USER=yourusername DB_PASS=yourpassword DB_NAME=gofiber DB_SSLMODE=disable T·∫°o file postgres.go v√† paste ƒëo·∫°n code sau  package storage import ( \u0026quot;fmt\u0026quot; \u0026quot;gorm.io/driver/postgres\u0026quot; \u0026quot;gorm.io/gorm\u0026quot; ) type Config struct { Host string Port string Password string User string DBName string SSLMode string } func NewConnection(config *Config) (*gorm.DB, error) { dsn := fmt.Sprintf( \u0026quot;host=%s port=%s user=%s password=%s dbname=%s sslmode=%s\u0026quot;, config.Host, config.Port, config.User, config.Password, config.DBName, config.SSLMode, ) db, err := gorm.Open(postgres.Open(dsn), \u0026amp;gorm.Config{}) if err != nil { return db, err } return db, nil } T·∫°o model Ch√∫ng ta s·∫Ω t·∫°o 1 folder models v√† t·∫°o 1 file m·ªõi l√† books.go\npackage models import \u0026quot;gorm.io/gorm\u0026quot; type Books struct { ID uint `gorm:\u0026quot;primary key;autoIncrement\u0026quot; json:\u0026quot;id\u0026quot;` Author *string `json:\u0026quot;author\u0026quot;` Title *string `json:\u0026quot;title\u0026quot;` Publisher *string `json:\u0026quot;publisher\u0026quot;` } func MigrateBooks(db *gorm.DB) error { err := db.AutoMigrate(\u0026amp;Books{}) return err } T·∫°o service M·ª•c ƒë√≠ch ƒë·ªÉ ch√∫ng ta x√¢y d·ª±ng 1 c·∫ßu n·ªëi ƒë·ª©ng gi·ªØa ƒë·ªÉ k·∫øt n·ªëi t·ªõi Database\ntype Book struct { Author string `json:\u0026quot;author\u0026quot; validate:\u0026quot;required\u0026quot;` Title string `json:\u0026quot;title\u0026quot; validate:\u0026quot;required\u0026quot;` Publisher string `json:\u0026quot;publisher\u0026quot; validate:\u0026quot;required\u0026quot;` } type Repository struct { DB *gorm.DB } ·ªû ƒë√¢y m√¨nh ƒë√£ t·∫°o m·ªôt c·∫•u tr√∫c ƒë·ªÉ ng∆∞·ªùi d√πng truy·ªÅn l√™n.validate:required l√† th·∫ª s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ƒë·∫£m b·∫£o ng∆∞·ªùi d√πng kh√¥ng b·ªè qua b·∫•t k·ª≥ tr∆∞·ªùng n√†o khi t·∫°o gi√° tr·ªã.\nSau b∆∞·ªõc n√†y m√¨nh s·∫Ω t·∫°o c√°c h√†m th·ª±c hi·ªán c√°c ch·ª©c nƒÉng nh∆∞ sau:\n Create books Update book by id Delete book by id Get all books Get books by id  Create Books func (r *Repository) CreateBook(context *fiber.Ctx) error { book := Book{} err := context.BodyParser(\u0026amp;book) if err != nil { context.Status(http.StatusUnprocessableEntity).JSON( \u0026amp;fiber.Map{\u0026quot;message\u0026quot;: \u0026quot;request failed\u0026quot;}) return err } validator := validator.New() err = validator.Struct(Book{}) if err != nil { context.Status(http.StatusUnprocessableEntity).JSON( \u0026amp;fiber.Map{\u0026quot;message\u0026quot;: err}, ) return err } err = r.DB.Create(\u0026amp;book).Error if err != nil { context.Status(http.StatusBadRequest).JSON( \u0026amp;fiber.Map{\u0026quot;message\u0026quot;: \u0026quot;could not create book\u0026quot;}) return err } context.Status(http.StatusOK).JSON(\u0026amp;fiber.Map{ \u0026quot;message\u0026quot;: \u0026quot;book has been successfully added\u0026quot;, }) return nil } Update Books by ID func (r *Repository) UpdateBook(context *fiber.Ctx) error { id := context.Params(\u0026quot;id\u0026quot;) if id == \u0026quot;\u0026quot; { context.Status(http.StatusInternalServerError).JSON(\u0026amp;fiber.Map{ \u0026quot;message\u0026quot;: \u0026quot;id cannot be empty\u0026quot;, }) return nil } bookModel := \u0026amp;models.Books{} book := Book{} err := context.BodyParser(\u0026amp;book) if err != nil { context.Status(http.StatusUnprocessableEntity).JSON( \u0026amp;fiber.Map{\u0026quot;message\u0026quot;: \u0026quot;request failed\u0026quot;}) return err } err = r.DB.Model(bookModel).Where(\u0026quot;id = ?\u0026quot;, id).Updates(book).Error if err != nil { context.Status(http.StatusBadRequest).JSON(\u0026amp;fiber.Map{ \u0026quot;message\u0026quot;: \u0026quot;could not update book\u0026quot;, }) return err } context.Status(http.StatusOK).JSON(\u0026amp;fiber.Map{ \u0026quot;message\u0026quot;: \u0026quot;book has been successfully updated\u0026quot;, }) return nil } Delete Book by ID func (r *Repository) DeleteBook(context *fiber.Ctx) error { bookModel := \u0026amp;models.Books{} id := context.Params(\u0026quot;id\u0026quot;) if id == \u0026quot;\u0026quot; { context.Status(http.StatusInternalServerError).JSON(\u0026amp;fiber.Map{ \u0026quot;message\u0026quot;: \u0026quot;id cannot be empty\u0026quot;, }) return nil } err := r.DB.Delete(bookModel, id) if err.Error != nil { context.Status(http.StatusBadRequest).JSON(\u0026amp;fiber.Map{ \u0026quot;message\u0026quot;: \u0026quot;could not delete book\u0026quot;, }) return err.Error } context.Status(http.StatusOK).JSON(\u0026amp;fiber.Map{ \u0026quot;message\u0026quot;: \u0026quot;book has been successfully deleted\u0026quot;, }) return nil Get All Books func (r *Repository) GetBooks(context *fiber.Ctx) error { bookModels := \u0026amp;[]models.Books{} err := r.DB.Find(bookModels).Error if err != nil { context.Status(http.StatusBadRequest).JSON( \u0026amp;fiber.Map{\u0026quot;message\u0026quot;: \u0026quot;could not get books\u0026quot;}) return err } context.Status(http.StatusOK).JSON(\u0026amp;fiber.Map{ \u0026quot;message\u0026quot;: \u0026quot;books gotten successfully\u0026quot;, \u0026quot;data\u0026quot;: bookModels, }) return nil } Get Books by ID func (r *Repository) GetBookByID(context *fiber.Ctx) error { id := context.Params(\u0026quot;id\u0026quot;) bookModel := \u0026amp;models.Books{} if id == \u0026quot;\u0026quot; { context.Status(http.StatusInternalServerError).JSON(\u0026amp;fiber.Map{ \u0026quot;message\u0026quot;: \u0026quot;id cannot be empty\u0026quot;, }) return nil } err := r.DB.Where(\u0026quot;id = ?\u0026quot;, id).First(bookModel).Error if err != nil { context.Status(http.StatusBadRequest).JSON( \u0026amp;fiber.Map{\u0026quot;message\u0026quot;: \u0026quot;could not get book\u0026quot;}) return err } context.Status(http.StatusOK).JSON(\u0026amp;fiber.Map{ \u0026quot;message\u0026quot;: \u0026quot;books id gotten successfully\u0026quot;, \u0026quot;data\u0026quot;: bookModel, }) return nil } C√†i ƒë·∫∑t Routes func (r *Repository) SetupRoutes(app *fiber.App) { api := app.Group(\u0026quot;/api\u0026quot;) api.Post(\u0026quot;/create_books\u0026quot;, r.CreateBook) api.Delete(\u0026quot;/delete_book/:id\u0026quot;, r.DeleteBook) api.Put(\u0026quot;/update_book/:id\u0026quot;, r.UpdateBook) api.Get(\u0026quot;/get_books/:id\u0026quot;, r.GetBookByID) api.Get(\u0026quot;/books\u0026quot;, r.GetBooks) } T·∫°o main function func main() { err := godotenv.Load(\u0026quot;.env\u0026quot;) if err != nil { log.Fatal(err) } config := \u0026amp;storage.Config{ Host: os.Getenv(\u0026quot;DB_HOST\u0026quot;), Port: os.Getenv(\u0026quot;DB_PORT\u0026quot;), Password: os.Getenv(\u0026quot;DB_PASS\u0026quot;), User: os.Getenv(\u0026quot;DB_USER\u0026quot;), SSLMode: os.Getenv(\u0026quot;DB_SSLMODE\u0026quot;), DBName: os.Getenv(\u0026quot;DB_NAME\u0026quot;), } db, err := storage.NewConnection(config) if err != nil { log.Fatal(\u0026quot;could not load database\u0026quot;) } err = models.MigrateBooks(db) if err != nil { log.Fatal(\u0026quot;could not migrate db\u0026quot;) } r := \u0026amp;service.Repository{ DB: db, } app := fiber.New() r.SetupRoutes(app) app.Listen(\u0026quot;:8080\u0026quot;) } C√°c b·∫°n c√≥ tham kh·∫£o nhi·ªÅu v√≠ d·ª•, ·ª©ng d·ª•ng c·ªßa Fiber Web Framework\n","description":"","id":11,"section":"posts","tags":["Golang"],"title":"Vi·∫øt API s·ª≠ d·ª•ng Fiber Framework + Postgresql trong Golang","uri":"https://hungpt.info/en/posts/api_golang_with_postgresql_part1/"},{"content":"ƒê·ªëi v·ªõi l·∫≠p tr√¨nh vi√™n odoo, Widget l√† m·ªôt th·ª© kh√° m·ªõi m·∫ª b·ªüi v√¨ ch√∫ng ta hi·∫øm khi l·∫≠p tr√¨nh v·ªõi ng√¥n ng·ªØ javascript.\nH·∫ßu nh∆∞ t·∫•t c·∫£ logic ƒë∆∞·ª£c vi·∫øt v·ªõi python, ngo·∫°i tr·ª´ khi t√πy ch·ªânh ƒëi·ªÉm b√°n h√†ng(POS) ho·∫∑c m√¥-ƒëun th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠(Website).\nƒê·ªëi v·ªõi nh·ªØng l·∫≠p tr√¨nh vi√™n odoo, theo c√° nh√¢n m√¨nh th·∫•y th√¨ javascript l√† ph·∫ßn cu·ªëi c√πng m√† b·∫°n n√™n h·ªçc. T·ªët h∆°n h·∫øt b·∫°n n√™n l·∫≠p trung code v·ªõi python\ntr·ª´ khi d·ª± √°n b·∫°n l√†m li√™n quan ƒë·∫øn POS ho·∫∑c Website\nƒê·ªëi v·ªõi odoo c√≥ 3 lƒ©nh v·ª±c ch√≠nh m√† javascript ƒëc s·ª≠ d·ª•ng, ƒë√≥ l√† POS, Website v√† Front-End.\nL∆∞u √Ω : Phi√™n b·∫£n Odoo trong b√†i vi·∫øt l√† Odoo13, v·ªõi c√°c phi√™n b·∫£n kh√°c c√≥ th·ªÉ s·∫Ω kh√¥ng ho·∫°t ƒë·ªông ·ªïn ƒë·ªãnh.\nNh√¨n chung b·∫°n kh√¥ng c·∫ßn c√≥ qu√° nhi·ªÅu ki·∫øn th·ª©c ƒë·ªÉ b·∫Øt ƒë·∫ßu v·ªõi Widget, ch·ªâ c·∫ßn n·∫Øm v·ªØng ƒë∆∞·ª£c Javascript v√† Jquery. Javascript trong Odoo\nƒë∆∞·ª£c vi·∫øt ch·ªß y·∫øu trong web/static/src/js/. B·∫°n c√≥ th·ªÉ tham kh·∫£o t·∫°i ƒë√¢y odoo github page.\nTrong b√†i h∆∞·ªõng d·∫´n ƒë·∫ßu ti√™n n√†y, m√¨nh s·∫Ω t·∫°o 1 Widget. Widget l√† 1 th√†nh ph·∫ßn c·ªßa Odoo, n√≥ ƒë∆∞·ª£c d√πng ƒë·ªÉ hi·ªÉn th·ªã gi√° tr·ªã c·ªßa m·ªôt tr∆∞·ªùng trong c∆° s·ªü d·ªØ li·ªáu. V√≠ d·ª•\nMany2many m·∫∑c ƒë·ªãnh s·∫Ω hi·ªÉn th·ªã d·∫°ng b·∫£ng, nh∆∞ng khi ch√∫ng ta s·ª≠ d·ª•ng many2many_tags, d·ªØ li·ªáu s·∫Ω hi·ªÉn th·ªã d·∫°ng t·ª´ng component con m·ªôt.\nƒê·ªÉ t·∫°o m·ªôt Widget, tr∆∞·ªõc ti√™n b·∫°n ph·∫£i t·∫°o 1 file javascript. Nh∆∞ ·ªü ƒë√¢y, m√¨nh t·∫°o 1 file l√† widget_one.js v√† l∆∞u tr·ªØ t·∫°i th∆∞ m·ª•c your_module_name/static/src/js/.\nTr∆∞·ªõc ti√™n b·∫°n ph·∫£i ch·∫Øc ch·∫Øn widget_one.js ƒë√£ ƒë∆∞·ª£c load trong odoo b·∫±ng c√¢u l·ªánh sau:\n1  console.log(\u0026#39;hello world !\u0026#39;);   Ti·∫øp theo ch√∫ng ta ph·∫£i khai b√°o file javascript n√†y trong m·ªôt file xml l√† asset.xml (t√™n c√≥ th·ªÉ t√πy ch·ªânh)\n1 2 3 4 5 6 7 8 9 10  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;odoo\u0026gt; \u0026lt;data\u0026gt; \u0026lt;template id=\u0026#34;tutorial_javascript_assets_backend\u0026#34; inherit_id=\u0026#34;web.assets_backend\u0026#34; name=\u0026#34;assets backend\u0026#34;\u0026gt; \u0026lt;xpath expr=\u0026#34;script[last()]\u0026#34; position=\u0026#34;after\u0026#34;\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34; src=\u0026#34;/tutorial_javascript/static/src/js/widget_one.js\u0026#34;/\u0026gt; \u0026lt;/xpath\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;/data\u0026gt; \u0026lt;/odoo\u0026gt;   M·ª•c ƒë√≠ch c·ªßa vi·ªác n√†y l√† k·∫ø th·ª´a l·∫°i template web.assets_backend ƒë·ªÉ khai b√°o th√™m file javascipt c·ªßa ch√∫ng ta. ƒêi·ªÅu n√†y\ns·∫Ω kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn ph·∫ßn javascipt ph√≠a module POS v√† module Website th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠.\nSau ƒë√≥ th√™m file xml ph√≠a tr√™n v√†o file manifest.py, v√† kh·ªüi ƒë·ªông l·∫°i service odoo, c√†i ƒë·∫∑t module. Sau khi l√†m m·ªõi tr√¨nh duy·ªát, F12 m·ªü tab console b·∫°n s·∫Ω th·∫•y nh∆∞ sau:\nTi·∫øp theo khi m·ªçi th·ª© ƒë√£ ho·∫°t ƒë·ªông, ch√∫ng ta s·∫Ω s·ª≠a l·∫°i file widget_one.js nh∆∞ sau:\n1 2 3 4 5 6  odoo.define(\u0026#39;tutorial_javascript.widget_one\u0026#39;, function (require) { \u0026#34;use strict\u0026#34;; console.log(\u0026#39;Place your widget code here\u0026#39;); });   L∆∞u √Ω, t·∫•t c·∫£ c√°c Widget ph·∫£i ƒë∆∞·ª£c m·ªü r·ªông, ho·∫∑c l√† th√†nh ph·∫ßn con c·ªßa AbstractField c≈©ng nh∆∞ ƒë∆∞·ª£c th√™m v√†o field_registry. V√¨ v·∫≠y ch√∫ng ta s·∫Ω vi·∫øt ti·∫øp nh∆∞ sau:\n1 2 3 4 5 6 7  odoo.define(\u0026#39;tutorial_javascript.widget_one\u0026#39;, function (require) { \u0026#34;use strict\u0026#34;; var AbstractField = require(\u0026#39;web.AbstractFields\u0026#39;); var FieldRegistry = require(\u0026#39;web.field_registry\u0026#39;); });   Trong b√†i vi·∫øt n√†y, m√¨nh s·∫Ω t·∫°o ra m·ªôt widget ƒë∆°n gi·∫£n ƒë·ªÉ hi·ªán th·ªã m·ªôt ƒëo·∫°n th√¥ng tin ng·∫Øn. ƒê·ªÉ l√†m ƒë∆∞·ª£c vi·ªác n√†y ch√∫ng ta c√≥ th·ªÉ ghi ƒë√® c√°c ph∆∞∆°ng th·ª©c c√≥ s·∫µn nh∆∞\n_render, _renderEdit, ho·∫∑c _renderReadonly.\nƒê·∫ßu ti√™n ch√∫ng ta t·∫°o 1 template m·ªõi v·ªõi code nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;template\u0026gt; \u0026lt;t t-name=\u0026#34;WidgetOneTemplate\u0026#34;\u0026gt; \u0026lt;div\u0026gt; \u0026lt;t t-if=\u0026#34;widget.mode == \u0026#39;edit\u0026#39; \u0026#34;\u0026gt; \u0026lt;p\u0026gt;This is the widget view in edit mode (the user is editing the document)\u0026lt;/p\u0026gt; \u0026lt;/t\u0026gt; \u0026lt;t t-if=\u0026#34;widget.mode == \u0026#39;readonly\u0026#39; \u0026#34;\u0026gt; \u0026lt;p\u0026gt;This is the widget view in readonly mode (the user only sees the document)\u0026lt;/p\u0026gt; \u0026lt;/t\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/t\u0026gt; \u0026lt;/template\u0026gt;   Sau ƒë√≥ khai b√°o trong manifest.py nh∆∞ sau:\nSau ƒë√≥ m√¨nh s·∫Ω vi·∫øt 1 ƒëo·∫°n code cho widget n√†y:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  odoo.define(\u0026#39;tutorial_javascript.widget_one\u0026#39;, function (require) { \u0026#34;use strict\u0026#34;; // import c√°c ƒë·ªëi t∆∞·ª£ng c·∫ßn thi·∫øt ƒë·ªÉ t·∫°o widget  var AbstractField = require(\u0026#39;web.AbstractField\u0026#39;); var FieldRegistry = require(\u0026#39;web.field_registry\u0026#39;); // T·∫°o 1 object v·ªõi t√™n t√πy ch·ªânh  // ƒë·ª´ng quy√™n k·∫ø th·ª´a l·∫°i web.AbstractField  var WidgetOne = AbstractField.extend({ template: \u0026#39;WidgetOneTemplate\u0026#39;, // template ch√≠nh l√† t√™n template ch√∫ng ta khai c√°i trong file xml  }); // ƒëƒÉng k√Ω, nh√∫ng object widget ch√∫ng ta v·ª´a t·∫°o v√†o web.field_registry object  // b√¢y gi·ªù ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng widget odoo\u0026#39;s view/xml file  // v√≠ d·ª• v·ªõi code nh∆∞ d∆∞·ªõi ƒë√¢y  // \u0026lt;field name=\u0026#34;field_one\u0026#34; widget=\u0026#34;widget_one\u0026#34; /\u0026gt;  // the \u0026#39;widget_one\u0026#39; name is up to you, as long as it\u0026#39;s always connected/without spaces  FieldRegistry.add(\u0026#39;widget_one\u0026#39;, WidgetOne); // tr·∫£ v·ªÅ widget object  // v√¨ v·∫≠y ch√∫ng ta c√≥ th·ªÉ k·∫ø th·ª´a ho·∫∑c ghi ƒë√® tr√™n c√°c module kh√°c  return WidgetOne; });   ƒê√¢y l√† ph·∫ßn ƒë·∫ßu ti√™n trong lo·∫°t b√†i Javascript trong Odoo, hy v·ªçng b√†i vi·∫øt s·∫Ω gi√∫p √≠ch cho b·∫°n üòÄ\n","description":"","id":12,"section":"posts","tags":["Odoo","OWL"],"title":"(Javascript trong Odoo) Ph·∫ßn 1 T·∫°o widget","uri":"https://hungpt.info/en/posts/odoo-javascript-programming-tutorial-part-one-create-widget-view/"},{"content":"Trong ph·∫ßn 1, ch√∫ng ta ƒë√£ t·∫°o ra 1 Widget ƒë·ªÉ hi·ªÉn th·ªã m·ªôt ƒëo·∫°n text vƒÉn b·∫£n. Sang ph·∫ßn 2 n√†y, ch√∫ng ta c√πng nhau x√¢y d·ª±ng m·ªôt logic cho widget n√†y.\nTi·∫øp theo b·∫°n c·∫ßn khai b√°o 1 tr∆∞·ªùng nh∆∞ sau:\n1  field_one = fields.Integer(\u0026#39;Field One\u0026#39;)   Th√¥ng th∆∞·ªùng khi ch√∫ng ta khai b√°o 1 field nh∆∞ tr√™n v√† th√™m ch√∫ng v√†o XML, m·∫∑c ƒë·ªãnh Odoo s·∫Ω cho ch√∫ng ta s·ª≠a gi√° tr·ªã tr√™n giao di·ªán ki·ªÉu nh∆∞ sau:\nNh∆∞ng ƒë·ªÉ c√≥ th·ªÉ h·∫°n ch·∫ø th√™m vi·ªác ng∆∞·ªùi d√πng nh·∫≠p v√†o kh√¥ng ph·∫£i k√Ω t·ª± l√† s·ªë nguy√™n, ·ªü ƒë√¢y m√¨nh s·∫Ω th√™m 2 n√∫t tƒÉng gi·∫£m + - v√† tr∆∞·ªùng gi√° tr·ªã ƒë·ªÉ readonly.\nD∆∞·ªõi ƒë√¢y l√† ƒëo·∫°n code:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;template\u0026gt; \u0026lt;t t-name=\u0026#34;WidgetOneTemplate\u0026#34;\u0026gt; \u0026lt;div\u0026gt; \u0026lt;t t-if=\u0026#34;widget.mode == \u0026#39;edit\u0026#39; \u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;input-group\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;input-group-prepend\u0026#34;\u0026gt; \u0026lt;button class=\u0026#34;btn btn-danger btn-minus\u0026#34;\u0026gt; - \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; class=\u0026#34;form-control\u0026#34; t-att-value=\u0026#34;widget.value\u0026#34; disabled=\u0026#34;disabled\u0026#34; /\u0026gt; \u0026lt;div class=\u0026#34;input-group-append\u0026#34;\u0026gt; \u0026lt;button class=\u0026#34;btn btn-success btn-plus\u0026#34;\u0026gt; + \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/t\u0026gt; \u0026lt;t t-if=\u0026#34;widget.mode == \u0026#39;readonly\u0026#39; \u0026#34;\u0026gt; \u0026lt;span t-esc=\u0026#34;widget.value\u0026#34; /\u0026gt; \u0026lt;/t\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/t\u0026gt; \u0026lt;/template\u0026gt;   Trong form ·ªü ch·∫ø ƒë·ªô ch·ªânh s·ª≠a s·∫Ω nh∆∞ sau:\nSau ƒë√≥, ·ªü file widget_one.js m√¨nh s·∫Ω ti·∫øn h√†nh th√™m event v·ªõi 2 button l√† +-, d∆∞·ªõi ƒë√¢y l√† ƒëo·∫°n code:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  var WidgetOne = AbstractField.extend({ template: \u0026#39;WidgetOneTemplate\u0026#39;, // fill with the template name that will be rendered by odoo  events: { // list of event, like jquery event  \u0026#39;click .btn-minus\u0026#39;: \u0026#39;btn_minus_action\u0026#39;, \u0026#39;click .btn-plus\u0026#39;: \u0026#39;btn_plus_action\u0026#39;, }, btn_minus_action: function(){ var new_value = this.value - 1; this._setValue(new_value.toString()); console.log(this.value); }, btn_plus_action: function(){ var new_value = this.value + 1; this._setValue(new_value.toString()); console.log(this.value); }, });   C√°c odoo vi·∫øt s·ª± ki·ªán trong js c≈©ng g·∫ßn gi·ªëng nh∆∞ jquery ch·ªâ c√≥ ƒëi·ªÅu l√† h∆°i ƒë·∫£o ng∆∞·ª£c 1 ch√∫t. ƒê·ªëi v·ªõi jquery ch√∫ng ta s·∫Ω vi·∫øt nh∆∞ sau:\n1  $(\u0026#39;.btn-minus.\u0026#39;).click(btn_minus_action);   Th·ª±c t·∫ø ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng Jquery ƒë·ªÉ thay th·∫ø cho ƒëo·∫°n code ph√≠a tr√™n, tuy nhi√™n theo c√° nh√¢n m√¨nh th·∫•y th√¨ s·ª≠ d·ª•ng code c·ªßa Odoo s·∫Ω d·ªÖ hi·ªÉu h∆°n.\nTuy nhi√™n n·∫øu c√≥ c∆° h·ªôi m√¨nh s·∫Ω chia s·∫ª th√™m v·ªÅ v·∫•n ƒë·ªÅ n√†y(c≈©ng kh√¥ng ph·∫£i l√† kh√¥ng c√≥ c√°chüòÑ)\nƒê·ªÉ c√≥ th·ªÉ thay ƒë·ªïi gi√° tr·ªã c·ªßa field ch√∫ng ta c√≥ th·ªÉ d√πng ph∆∞∆°ng th·ª©c this._setValue(new_value), nh∆∞ng ch√∫ √Ω ki·ªÉu d·ªØ li·ªáu c·ªßa new_value, trong v√≠ d·ª• c·ªßa ch√∫ng ta\nbi·∫øn m√† ch√∫ng ta truy·ªÅn v√†o h√†m _setValue ph·∫£i l√† string. Th·ª±c ra m·∫∑c ƒë·ªãnh kh√¥ng h·∫≥n v·∫≠y, v√≠ d·ª• khi ch√∫ng ta nh·∫≠p gi√° tr·ªã v√†o √¥ input l√† 12345678, odoo hi·ªÉu ·ªü ƒë√¢y l√† 1\nchu·ªói string v√† t·ª± ƒë·ªông chuy·ªÉn sang integer ƒë·ªÉ c·ªông tr·ª´ nh√¢n chia.\nV·ªõi ƒëo·∫°n code tr√™n ch√∫ng ta c·∫ßn ch√∫ √Ω toString(), t·∫°i sao ch√∫ng ta l·∫°i c·∫ßn √©p ki·ªÉu v·ªÅ string? L√Ω do m√¨nh ƒë√£ gi·∫£i th√≠ch b√™n tr√™n, ƒë∆°n gi·∫£n l√† ch√∫ng ta c·∫ßn ph·∫£i √©p ki·ªÉu\nv·ªÅ nh∆∞ v·∫≠y\nOh, nh∆∞ng khoan ƒë√£! T·∫°i sao gi√° tr·ªã field c·ªßa ch√∫ng ta v·∫´n l√† 0 v√† kh√¥ng h·ªÅ thay ƒë·ªïi.\nƒêi·ªÅu n√†y ch·ªâ ra r·∫±ng, khi ch√∫ng ta th·ª±c hi·ªán thay ƒë·ªïi gi√° tr·ªã c·ªßa field th√¨ giao di·ªán kh√¥ng t·ª± ƒë·ªông render l·∫°i.\nƒê·ªÉ c√≥ th·ªÉ l√†m ƒë∆∞·ª£c ƒëi·ªÅu n√†y ch√∫ng ta c·∫ßn ph·∫£i override l·∫°i ph∆∞∆°ng th·ª©c _render ho·∫∑c _renderEdit. Trong v√≠ d·ª• c·ªßa ch√∫ng ta, m√¨nh s·∫Ω override l·∫°i h√†m _render.\nC√≥ nhi·ªÅu c√°ch ƒë·ªÉ thay ƒë·ªïi giao di·ªán ng∆∞·ªùi d√πng (m√¨nh s·∫Ω ƒë·ªÅ c·∫≠p trong 1 b√†i vi·∫øt s·ªõm), tuy nhi√™n ·ªü ƒë√¢y m√¨nh s·∫Ω d√πng qweb v√† vi·∫øt n√≥ v√†o trong h√†m _render nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  odoo.define(\u0026#39;tutorial_javascript.widget_one\u0026#39;, function (require) { \u0026#34;use strict\u0026#34;; var AbstractField = require(\u0026#39;web.AbstractField\u0026#39;); var FieldRegistry = require(\u0026#39;web.field_registry\u0026#39;); var core = require(\u0026#39;web.core\u0026#39;); var qweb = core.qweb; var WidgetOne = AbstractField.extend({ template: \u0026#39;WidgetOneTemplate\u0026#39;, events: { \u0026#39;click .btn-minus\u0026#39;: \u0026#39;btn_minus_action\u0026#39;, \u0026#39;click .btn-plus\u0026#39;: \u0026#39;btn_plus_action\u0026#39;, }, btn_minus_action: function(){ var new_value = this.value - 1; this._setValue(new_value.toString()); }, btn_plus_action: function(){ var new_value = this.value + 1; this._setValue(new_value.toString()); }, _render: function () { console.log(this.value); this.$el.html($(qweb.render(this.template, {\u0026#39;widget\u0026#39;: this}))); }, }); FieldRegistry.add(\u0026#39;widget_one\u0026#39;, WidgetOne); return WidgetOne; });   Tham s·ªë ƒë·∫ßu ti√™n m√† m√¨nh truy·ªÅn v√†o qweb.render() ƒë√≥ l√† template m√† ch√∫ng ta mu·ªën render l·∫°i, tham s·ªë th·ª© 2 ·ªü ƒë√¢y ch√≠nh l√† widget c·ªßa ch√∫ng ta, khi thay ƒë·ªïi gi√° tr·ªã c·ªßa field\n,·ªü ƒë√¢y l√† widget do ch√∫ng ta ƒë√£ vi·∫øt n√≥ trong xml nh∆∞ b√™n d∆∞·ªõi:\nRestart Odoo, refresh tr√¨nh duy·ªát ch√∫ng ta th·∫•y r·∫±ng m·ªçi th·ª© ƒë√£ ch·∫°y ch√≠nh x√°c!\nƒê√¢y l√† ph·∫ßn hai trong lo·∫°t b√†i Javascript trong Odoo, hy v·ªçng b√†i vi·∫øt s·∫Ω gi√∫p √≠ch cho b·∫°n üòÄ\n","description":"","id":13,"section":"posts","tags":["Odoo","OWL"],"title":"(Javascript trong Odoo) Ph·∫ßn 2 T·∫°o logic cho widget","uri":"https://hungpt.info/en/posts/odoo-javascript-programming-tutorial-part-two-widget-logic/"},{"content":"Tr∆∞·ªõc ti√™n ch√∫ng ta h√£y c√πng n√≥i l·∫°i v·ªÅ kh√°i ni·ªám Template trong Ansible v√† t·∫°i sao ch√∫ng ta ph·∫£i d√πng n√≥\nNhu c·∫ßu r·∫•t ƒë∆°n gi·∫£n, c√πng m·ªôt file c·∫•u h√¨nh c·ªßa m·ªôt ph·∫ßn m·ªÅm nh∆∞ng khi tri·ªÉn khai tr√™n c√°c server kh√°c nhau th√¨ l·∫°i c·∫ßn c·∫•u h√¨nh IP kh√°c nhau? V·ªõi Jinja2 template, Ansible s·∫Ω kh√¥ng nh·ªØng gi·∫£i quy·∫øt ƒë∆∞·ª£c m√† c√≤n l√†m r·∫•t t·ªët vi·ªác ƒë√≥ v√¨ Jina2 template r·∫•t d·ªÖ ƒë·ªçc v√† d·ªÖ ti·∫øp c·∫≠n\nAnsible s·ª≠ d·ª•ng c√°c file Template Jinja2 ƒë·ªÉ ƒë∆∞a c√°c n·ªôi dung ƒë·ªông nh∆∞ gi√° tr·ªã c√°c bi·∫øn(IP, hostname, version‚Ä¶) v√†o file template\n","description":"","id":16,"section":"posts","tags":["Devops","Ansible","AWS"],"title":"[D√†nh cho Beginner] Ph·∫ßn 3: Template trong Ansible","uri":"https://hungpt.info/en/posts/template_in_ansible/"},{"content":"Tr∆∞·ªõc ti√™n ch√∫ng ta h√£y c√πng n√≥i l·∫°i v·ªÅ kh√°i ni·ªám Playbook trong Ansible\nV·ªÅ Playbook Playbook th√¥ng th∆∞·ªùng l√† nh·ªØng t·∫•m b·∫£ng ghi s∆° ƒë·ªì v·ªã tr√≠, chi·∫øn thu·∫≠t di chuy·ªÉn c·ªßa t·ª´ng c·∫ßu th·ªß m√† c√°c HLV s·ª≠ d·ª•ng ƒë·ªÉ truy·ªÅn ƒë·∫°t cho c·∫ßu th·ªß (n·∫øu b·∫°n xem ƒë√° b√≥ng). V√≠ d·ª• nh∆∞ C√¥ng Ph∆∞·ª£ng ƒë√° h·ªô c√¥ng, Huy To√†n ƒë·ªôt ph√° c√°nh tr√°i hay Qu·∫ø Ng·ªçc H·∫£i ƒë√° h·∫≠u v·ªá.\nAnsible s·ª≠ d·ª•ng kh√°i ni·ªám Playbook c≈©ng mang √Ω nghƒ©a t∆∞∆°ng t·ª±. Vi·ªác tri·ªÉn khai h·ªá th·ªëng m·ªõi c≈©ng t∆∞∆°ng t·ª± nh∆∞ s∆° ƒë·ªì chi·∫øn thu·∫≠t, c√°c group [webservers], [databases] c≈©ng nh∆∞ tuy·∫øn ti·ªÅn ƒë·∫°o, h·∫≠u v·ªá, c√°c d·ªãch v·ª• c≈©ng nh∆∞ k·∫øt n·ªëi t·ªõi c√°c th√†nh ph·∫ßn kh√°c nhau trong h·ªá th·ªëng c·ªßa t·ª´ng server c≈©ng gi·ªëng nhi·ªám v·ª• c·ªßa m·ªôt c·∫ßu th·ªß tr√™n s√¢n.\nTh·ª±c h√†nh Ti·∫øp theo ch√∫ng ta h√£y c√πng th·ª±c h√†nh lu√¥n nh√©!\nM√¥ h√¨nh b√†i lab v·∫´n nh∆∞ b√†i tr∆∞·ªõc, ch√∫ng ta s·∫Ω c√≥ 3 m√°y ·∫£o EC2 tr√™n AWS, c√†i ƒë·∫∑t Ansible cho 1 m√°y EC2 ubuntu\nƒê·ªÉ in ra th√¥ng tin trong qu√° tr√¨nh ch·∫°y Playbook, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng module Debug trong Ansible. ƒê·ªÉ hi·ªÉn th·ªã th√¥n tin debug c√≥ 2 ph∆∞∆°ng √°n ph·ªï bi·∫øn l√†: mgs v√† var. V·∫´n trong th∆∞ m·ª•c websrv ch√∫ng ta ƒë√£ t·∫°o ·ªü b√†i tr∆∞·ªõc v·ªõi file host, t·∫°o th√™m 1 file PlaybookVar.yaml sau ƒë√≥ ƒë∆∞a n·ªôi dung sau v√†o:\n--- - name: Test variable hosts: webserver gather_facts: true tasks: - name: \u0026quot;Show target server IP\u0026quot; debug: msg: ‚ÄúTarget system (Web server) IP= {{inventory_hostname}}‚Äù #var: inventory_hostname Save l·∫°i v√† ch·∫°y l·ªánh:\n1  ansible-playbook -i hosts playbookVar.yml   Ch√∫ng ta c√≥ th·ªÉ ƒë·ªãnh nghƒ©a bi·∫øn ngay trong file Playbook nh∆∞ sau, bi·∫øn khai b√°o tr√πng t√™n trong file hosts v√† trong Playbook th√¨ Ansible ∆∞u ti√™n trong playbook h∆°n :\n--- - name: Test variable hosts: webserver gather_facts: true tasks: - name: \u0026quot;Show NTP Server Infor\u0026quot; debug: # msg: ‚ÄúTarget system (Web server) IP= {{inventory_hostname}}‚Äù var: ntp_server_test, ntp_port_test vars: ntp_server_test: 192.168.11.1 ntp_port_test: \u0026quot;UDP 1313\u0026quot; Ch√∫ng ta s·∫Ω c√≥ k·∫øt qu·∫£ nh∆∞ sau:\nHo·∫∑c ch√∫ng ta c≈©ng c√≥ th·ªÉ ƒë·ªãnh nghƒ©a bi·∫øn trong file ri√™ng:\n T·∫°o th∆∞ m·ª•c ch·ª©a c√°c file khai b√°o bi·∫øn ri√™ng : mkdir vars \u0026amp;\u0026amp; cd vars T·∫°o file ch·ª©a c√°c bi·∫øn khi c√†i DB server v√† vi·∫øt n·ªôi dung sau:  mysqlservice: mysqld mysql_port: 3306 db_user: foouser upassword: abc Ti·∫øp theo ch√∫ng ta s·∫Ω hi·ªáu ch·ªânh l·∫°i file playbook ƒë·ªÉ import file ch·ª©a bi·∫øn ri√™ng v√† hi·ªÉn th·ªã gi√° tr·ªã c·ªßa c√°c bi·∫øn:\n--- - name: Test variable hosts: webserver gather_facts: true tasks: - name: \u0026quot;Show NTP Server Infor\u0026quot; debug: # msg: ‚ÄúTarget system (Web server) IP= {{inventory_hostname}}‚Äù var: ntp_server['IP'], httpd_port[1], mysql_port vars: ntp_server: IP: 192.168.122.1 ntp_port: \u0026quot;UDP 1312\u0026quot; httpd_port: - 80 - 443 vars_files: - ./vars/dbserver Sau ƒë√≥ ch·∫°y l·ªánh ansible-playbook -i hosts playbookvar.yaml ƒë·ªÉ ph√¢n t√≠ch ƒë√¢u l√† bi·∫øn ki·ªÉu Array, ƒë√¢u l√† ki·ªÉu Object\nCh√∫ng ta c≈©ng c√≥ th·ªÉ in c√°c gi√° tr·ªã c·ªßa bi·∫øn OUTPUT t·ª´ l·ªánh kh√°c nh∆∞ sau:\n--- - name: Test variable hosts: webserver gather_facts: true tasks: - name: \u0026quot;Show NTP Server Infor\u0026quot; debug: # msg: ‚ÄúTarget system (Web server) IP= {{inventory_hostname}}‚Äù var: ntp_server['IP'], httpd_port[1], mysql_port - name: Check uptime target server shell: uptime register: output - name: \u0026quot;Show uptime from shell\u0026quot; debug: var: output vars: ntp_server: IP: 192.168.122.1 ntp_port: \u0026quot;UDP 1312\u0026quot; httpd_port: - 80 - 443 vars_files: - ./vars/dbserver Sau ƒë√≥ ch·∫°y th·ª≠, ch√∫ng ta s·∫Ω th·∫•y bi·∫øn uptime trong m·ª•c ‚Äústdout_lines‚Äù\nTi·∫øp theo ch√∫ng ta c√≥ th·ªÉ ƒë·ªçc d·ªØ li·ªáu t·ª´ c√°c bi·∫øn Built-in c·ªßa Ansible. Khi Ansible b·∫Øt ƒë·∫ßu ch·∫°y Playbook, m·∫∑c ƒë·ªãnh n√≥ s·∫Ω ƒë·ªçc c√°c th√¥ng s·ªë c·ªßa Target server v√†o bi·∫øn m√¥i tr∆∞·ªùng g·ªçi l√† Facts\nCh√∫ng ta s·∫Ω t·∫°o 1 playbook m·ªõi v√† vi·∫øt n·ªôi dung nh∆∞ sau:\n--- - hosts: webserver gather_facts: true tasks: - name: \u0026quot;Show ansiblr Facts\u0026quot; debug: var: ansible_facts Sau ƒë√≥ ch√∫ng ta ch·∫°y l·ªánh s·∫Ω ƒë∆∞·ª£c k·∫øt qu·∫£ nh∆∞ sau:\nubuntu@ip-10-32-1-210:~/websrv$ ansible-playbook -i hosts playbookFacts.yaml PLAY [webserver] *************************************************************** TASK [Gathering Facts] ********************************************************* [WARNING]: Platform linux on host 16.163.95.41 is using the discovered Python interpreter at /usr/bin/python, but future installation of another Python interpreter could change this. See https://docs.ansible.com/ansible/2.9/referen ce_appendices/interpreter_discovery.html for more information. ok: [16.163.95.41] TASK [Show ansiblr Facts] ****************************************************** ok: [16.163.95.41] =\u0026gt; { \u0026quot;ansible_facts\u0026quot;: { \u0026quot;_facts_gathered\u0026quot;: true, \u0026quot;all_ipv4_addresses\u0026quot;: [ \u0026quot;10.32.1.186\u0026quot; ], \u0026quot;all_ipv6_addresses\u0026quot;: [ \u0026quot;fe80::42d:d5ff:fef3:7b08\u0026quot; ], \u0026quot;ansible_local\u0026quot;: {}, \u0026quot;apparmor\u0026quot;: { \u0026quot;status\u0026quot;: \u0026quot;disabled\u0026quot; }, \u0026quot;architecture\u0026quot;: \u0026quot;x86_64\u0026quot;, \u0026quot;bios_date\u0026quot;: \u0026quot;10/16/2017\u0026quot;, \u0026quot;bios_version\u0026quot;: \u0026quot;1.0\u0026quot;, \u0026quot;cmdline\u0026quot;: { \u0026quot;BOOT_IMAGE\u0026quot;: \u0026quot;/boot/vmlinuz-5.10.135-122.509.amzn2.x86_64\u0026quot;, \u0026quot;biosdevname\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;console\u0026quot;: \u0026quot;ttyS0,115200n8\u0026quot;, \u0026quot;net.ifnames\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;nvme_core.io_timeout\u0026quot;: \u0026quot;4294967295\u0026quot;, \u0026quot;rd.emergency\u0026quot;: \u0026quot;poweroff\u0026quot;, \u0026quot;rd.shell\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;ro\u0026quot;: true, \u0026quot;root\u0026quot;: \u0026quot;UUID=2318d4b7-b8cd-4579-ab46-47af13e15000\u0026quot; }, \u0026quot;date_time\u0026quot;: { \u0026quot;date\u0026quot;: \u0026quot;2022-10-15\u0026quot;, \u0026quot;day\u0026quot;: \u0026quot;15\u0026quot;, \u0026quot;epoch\u0026quot;: \u0026quot;1665854220\u0026quot;, \u0026quot;hour\u0026quot;: \u0026quot;17\u0026quot;, \u0026quot;iso8601\u0026quot;: \u0026quot;2022-10-15T17:17:00Z\u0026quot;, \u0026quot;iso8601_basic\u0026quot;: \u0026quot;20221015T171700106679\u0026quot;, \u0026quot;iso8601_basic_short\u0026quot;: \u0026quot;20221015T171700\u0026quot;, \u0026quot;iso8601_micro\u0026quot;: \u0026quot;2022-10-15T17:17:00.106749Z\u0026quot;, \u0026quot;minute\u0026quot;: \u0026quot;17\u0026quot;, \u0026quot;month\u0026quot;: \u0026quot;10\u0026quot;, \u0026quot;second\u0026quot;: \u0026quot;00\u0026quot;, \u0026quot;time\u0026quot;: \u0026quot;17:17:00\u0026quot;, \u0026quot;tz\u0026quot;: \u0026quot;UTC\u0026quot;, \u0026quot;tz_offset\u0026quot;: \u0026quot;+0000\u0026quot;, \u0026quot;weekday\u0026quot;: \u0026quot;Saturday\u0026quot;, \u0026quot;weekday_number\u0026quot;: \u0026quot;6\u0026quot;, \u0026quot;weeknumber\u0026quot;: \u0026quot;41\u0026quot;, \u0026quot;year\u0026quot;: \u0026quot;2022\u0026quot; }, \u0026quot;default_ipv4\u0026quot;: { \u0026quot;address\u0026quot;: \u0026quot;10.32.1.186\u0026quot;, \u0026quot;alias\u0026quot;: \u0026quot;eth0\u0026quot;, \u0026quot;broadcast\u0026quot;: \u0026quot;10.32.1.255\u0026quot;, \u0026quot;gateway\u0026quot;: \u0026quot;10.32.1.1\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;eth0\u0026quot;, \u0026quot;macaddress\u0026quot;: \u0026quot;06:2d:d5:f3:7b:08\u0026quot;, \u0026quot;mtu\u0026quot;: 9001, \u0026quot;netmask\u0026quot;: \u0026quot;255.255.255.0\u0026quot;, \u0026quot;network\u0026quot;: \u0026quot;10.32.1.0\u0026quot;, \u0026quot;type\u0026quot;: \u0026quot;ether\u0026quot; }, \u0026quot;default_ipv6\u0026quot;: {}, \u0026quot;device_links\u0026quot;: { \u0026quot;ids\u0026quot;: { \u0026quot;nvme0n1\u0026quot;: [ \u0026quot;nvme-Amazon_Elastic_Block_Store_vol04b1c50673dda9abc\u0026quot;, \u0026quot;nvme-Amazon_Elastic_Block_Store_vol04b1c50673dda9abc-ns-1\u0026quot;, \u0026quot;nvme-nvme.1d0f-766f6c3034623163353036373364646139616263-416d617a6f6e20456c617374696320426c6f636b2053746f7265-00000001\u0026quot; ], \u0026quot;nvme0n1p1\u0026quot;: [ \u0026quot;nvme-Amazon_Elastic_Block_Store_vol04b1c50673dda9abc-ns-1-part1\u0026quot;, \u0026quot;nvme-Amazon_Elastic_Block_Store_vol04b1c50673dda9abc-part1\u0026quot;, \u0026quot;nvme-nvme.1d0f-766f6c3034623163353036373364646139616263-416d617a6f6e20456c617374696320426c6f636b2053746f7265-00000001-part1\u0026quot; ], \u0026quot;nvme0n1p128\u0026quot;: [ \u0026quot;nvme-Amazon_Elastic_Block_Store_vol04b1c50673dda9abc-ns-1-part128\u0026quot;, \u0026quot;nvme-Amazon_Elastic_Block_Store_vol04b1c50673dda9abc-part128\u0026quot;, \u0026quot;nvme-nvme.1d0f-766f6c3034623163353036373364646139616263-416d617a6f6e20456c617374696320426c6f636b2053746f7265-00000001-part128\u0026quot; ] }, \u0026quot;labels\u0026quot;: { \u0026quot;nvme0n1p1\u0026quot;: [ \u0026quot;\\\\x2f\u0026quot; ] }, \u0026quot;masters\u0026quot;: {}, \u0026quot;uuids\u0026quot;: { \u0026quot;nvme0n1p1\u0026quot;: [ \u0026quot;2318d4b7-b8cd-4579-ab46-47af13e15000\u0026quot; ] } }, \u0026quot;devices\u0026quot;: { \u0026quot;nvme0n1\u0026quot;: { \u0026quot;holders\u0026quot;: [], \u0026quot;host\u0026quot;: \u0026quot;Non-Volatile memory controller: Amazon.com, Inc. Device 8061\u0026quot;, \u0026quot;links\u0026quot;: { \u0026quot;ids\u0026quot;: [ \u0026quot;nvme-Amazon_Elastic_Block_Store_vol04b1c50673dda9abc\u0026quot;, \u0026quot;nvme-Amazon_Elastic_Block_Store_vol04b1c50673dda9abc-ns-1\u0026quot;, \u0026quot;nvme-nvme.1d0f-766f6c3034623163353036373364646139616263-416d617a6f6e20456c617374696320426c6f636b2053746f7265-00000001\u0026quot; ], \u0026quot;labels\u0026quot;: [], \u0026quot;masters\u0026quot;: [], \u0026quot;uuids\u0026quot;: [] }, \u0026quot;model\u0026quot;: \u0026quot;Amazon Elastic Block Store\u0026quot;, \u0026quot;partitions\u0026quot;: { \u0026quot;nvme0n1p1\u0026quot;: { \u0026quot;holders\u0026quot;: [], \u0026quot;links\u0026quot;: { \u0026quot;ids\u0026quot;: [ \u0026quot;nvme-Amazon_Elastic_Block_Store_vol04b1c50673dda9abc-ns-1-part1\u0026quot;, \u0026quot;nvme-Amazon_Elastic_Block_Store_vol04b1c50673dda9abc-part1\u0026quot;, \u0026quot;nvme-nvme.1d0f-766f6c3034623163353036373364646139616263-416d617a6f6e20456c617374696320426c6f636b2053746f7265-00000001-part1\u0026quot; ], \u0026quot;labels\u0026quot;: [ \u0026quot;\\\\x2f\u0026quot; ], \u0026quot;masters\u0026quot;: [], \u0026quot;uuids\u0026quot;: [ \u0026quot;2318d4b7-b8cd-4579-ab46-47af13e15000\u0026quot; ] }, \u0026quot;sectors\u0026quot;: \u0026quot;16773087\u0026quot;, \u0026quot;sectorsize\u0026quot;: 512, \u0026quot;size\u0026quot;: \u0026quot;8.00 GB\u0026quot;, \u0026quot;start\u0026quot;: \u0026quot;4096\u0026quot;, \u0026quot;uuid\u0026quot;: \u0026quot;2318d4b7-b8cd-4579-ab46-47af13e15000\u0026quot; }, \u0026quot;nvme0n1p128\u0026quot;: { \u0026quot;holders\u0026quot;: [], \u0026quot;links\u0026quot;: { \u0026quot;ids\u0026quot;: [ \u0026quot;nvme-Amazon_Elastic_Block_Store_vol04b1c50673dda9abc-ns-1-part128\u0026quot;, \u0026quot;nvme-Amazon_Elastic_Block_Store_vol04b1c50673dda9abc-part128\u0026quot;, \u0026quot;nvme-nvme.1d0f-766f6c3034623163353036373364646139616263-416d617a6f6e20456c617374696320426c6f636b2053746f7265-00000001-part128\u0026quot; ], \u0026quot;labels\u0026quot;: [], \u0026quot;masters\u0026quot;: [], \u0026quot;uuids\u0026quot;: [] }, \u0026quot;sectors\u0026quot;: \u0026quot;2048\u0026quot;, \u0026quot;sectorsize\u0026quot;: 512, \u0026quot;size\u0026quot;: \u0026quot;1.00 MB\u0026quot;, \u0026quot;start\u0026quot;: \u0026quot;2048\u0026quot;, \u0026quot;uuid\u0026quot;: null } }, \u0026quot;removable\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;rotational\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;sas_address\u0026quot;: null, \u0026quot;sas_device_handle\u0026quot;: null, \u0026quot;scheduler_mode\u0026quot;: \u0026quot;none\u0026quot;, \u0026quot;sectors\u0026quot;: \u0026quot;16777216\u0026quot;, \u0026quot;sectorsize\u0026quot;: \u0026quot;512\u0026quot;, \u0026quot;size\u0026quot;: \u0026quot;8.00 GB\u0026quot;, \u0026quot;support_discard\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;vendor\u0026quot;: null, \u0026quot;virtual\u0026quot;: 1 } }, \u0026quot;discovered_interpreter_python\u0026quot;: \u0026quot;/usr/bin/python\u0026quot;, \u0026quot;distribution\u0026quot;: \u0026quot;Amazon\u0026quot;, \u0026quot;distribution_file_parsed\u0026quot;: true, \u0026quot;distribution_file_path\u0026quot;: \u0026quot;/etc/system-release\u0026quot;, \u0026quot;distribution_file_variety\u0026quot;: \u0026quot;Amazon\u0026quot;, \u0026quot;distribution_major_version\u0026quot;: \u0026quot;2\u0026quot;, \u0026quot;distribution_release\u0026quot;: \u0026quot;NA\u0026quot;, \u0026quot;distribution_version\u0026quot;: \u0026quot;2\u0026quot;, \u0026quot;dns\u0026quot;: { \u0026quot;nameservers\u0026quot;: [ \u0026quot;10.32.0.2\u0026quot; ], \u0026quot;options\u0026quot;: { \u0026quot;attempts\u0026quot;: \u0026quot;5\u0026quot;, \u0026quot;timeout\u0026quot;: \u0026quot;2\u0026quot; }, \u0026quot;search\u0026quot;: [ \u0026quot;ap-east-1.compute.internal\u0026quot; ] }, \u0026quot;domain\u0026quot;: \u0026quot;ap-east-1.compute.internal\u0026quot;, \u0026quot;effective_group_id\u0026quot;: 1000, \u0026quot;effective_user_id\u0026quot;: 1000, \u0026quot;env\u0026quot;: { \u0026quot;HOME\u0026quot;: \u0026quot;/home/ec2-user\u0026quot;, \u0026quot;LANG\u0026quot;: \u0026quot;C.UTF-8\u0026quot;, \u0026quot;LC_ADDRESS\u0026quot;: \u0026quot;C.UTF-8\u0026quot;, \u0026quot;LC_IDENTIFICATION\u0026quot;: \u0026quot;C.UTF-8\u0026quot;, \u0026quot;LC_MEASUREMENT\u0026quot;: \u0026quot;C.UTF-8\u0026quot;, \u0026quot;LC_MONETARY\u0026quot;: \u0026quot;C.UTF-8\u0026quot;, \u0026quot;LC_NAME\u0026quot;: \u0026quot;C.UTF-8\u0026quot;, \u0026quot;LC_NUMERIC\u0026quot;: \u0026quot;C.UTF-8\u0026quot;, \u0026quot;LC_PAPER\u0026quot;: \u0026quot;C.UTF-8\u0026quot;, \u0026quot;LC_TELEPHONE\u0026quot;: \u0026quot;C.UTF-8\u0026quot;, \u0026quot;LC_TIME\u0026quot;: \u0026quot;C.UTF-8\u0026quot;, \u0026quot;LESSOPEN\u0026quot;: \u0026quot;||/usr/bin/lesspipe.sh %s\u0026quot;, \u0026quot;LOGNAME\u0026quot;: \u0026quot;ec2-user\u0026quot;, \u0026quot;LS_COLORS\u0026quot;: \u0026quot;rs=0:di=38;5;27:ln=38;5;51:mh=44;38;5;15:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=05;48;5;232;38;5;15:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;34:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.Z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.axv=38;5;13:*.anx=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.axa=38;5;45:*.oga=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:\u0026quot;, \u0026quot;MAIL\u0026quot;: \u0026quot;/var/mail/ec2-user\u0026quot;, \u0026quot;PATH\u0026quot;: \u0026quot;/usr/local/bin:/usr/bin\u0026quot;, \u0026quot;PWD\u0026quot;: \u0026quot;/home/ec2-user\u0026quot;, \u0026quot;SHELL\u0026quot;: \u0026quot;/bin/bash\u0026quot;, \u0026quot;SHLVL\u0026quot;: \u0026quot;2\u0026quot;, \u0026quot;SSH_CLIENT\u0026quot;: \u0026quot;18.162.41.145 50404 22\u0026quot;, \u0026quot;SSH_CONNECTION\u0026quot;: \u0026quot;18.162.41.145 50404 10.32.1.186 22\u0026quot;, \u0026quot;SSH_TTY\u0026quot;: \u0026quot;/dev/pts/0\u0026quot;, \u0026quot;TERM\u0026quot;: \u0026quot;xterm-256color\u0026quot;, \u0026quot;USER\u0026quot;: \u0026quot;ec2-user\u0026quot;, \u0026quot;XDG_RUNTIME_DIR\u0026quot;: \u0026quot;/run/user/1000\u0026quot;, \u0026quot;XDG_SESSION_ID\u0026quot;: \u0026quot;34\u0026quot;, \u0026quot;_\u0026quot;: \u0026quot;/usr/bin/python\u0026quot; }, \u0026quot;eth0\u0026quot;: { \u0026quot;active\u0026quot;: true, \u0026quot;device\u0026quot;: \u0026quot;eth0\u0026quot;, \u0026quot;features\u0026quot;: { \u0026quot;esp_hw_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;esp_tx_csum_hw_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;fcoe_mtu\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;generic_receive_offload\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;generic_segmentation_offload\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;highdma\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;hw_tc_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;l2_fwd_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;large_receive_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;loopback\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;macsec_hw_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;netns_local\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;ntuple_filters\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;receive_hashing\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;rx_all\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_checksumming\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_fcs\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_gro_hw\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_gro_list\u0026quot;: \u0026quot;off\u0026quot;, \u0026quot;rx_udp_tunnel_port_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_vlan_filter\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_vlan_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_vlan_stag_filter\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_vlan_stag_hw_parse\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;scatter_gather\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;tcp_segmentation_offload\u0026quot;: \u0026quot;off\u0026quot;, \u0026quot;tls_hw_record\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tls_hw_rx_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tls_hw_tx_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_checksum_fcoe_crc\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_checksum_ip_generic\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_checksum_ipv4\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;tx_checksum_ipv6\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_checksum_sctp\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_checksumming\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;tx_esp_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_fcoe_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_gre_csum_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_gre_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_gso_list\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_gso_partial\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_gso_robust\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_ipxip4_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_ipxip6_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_lockless\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_nocache_copy\u0026quot;: \u0026quot;off\u0026quot;, \u0026quot;tx_scatter_gather\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;tx_scatter_gather_fraglist\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_sctp_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_tcp6_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_tcp_ecn_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_tcp_mangleid_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_tcp_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_tunnel_remcsum_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_udp_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_udp_tnl_csum_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_udp_tnl_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_vlan_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_vlan_stag_hw_insert\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;udp_fragmentation_offload\u0026quot;: \u0026quot;off\u0026quot;, \u0026quot;vlan_challenged\u0026quot;: \u0026quot;off [fixed]\u0026quot; }, \u0026quot;hw_timestamp_filters\u0026quot;: [], \u0026quot;ipv4\u0026quot;: { \u0026quot;address\u0026quot;: \u0026quot;10.32.1.186\u0026quot;, \u0026quot;broadcast\u0026quot;: \u0026quot;10.32.1.255\u0026quot;, \u0026quot;netmask\u0026quot;: \u0026quot;255.255.255.0\u0026quot;, \u0026quot;network\u0026quot;: \u0026quot;10.32.1.0\u0026quot; }, \u0026quot;ipv6\u0026quot;: [ { \u0026quot;address\u0026quot;: \u0026quot;fe80::42d:d5ff:fef3:7b08\u0026quot;, \u0026quot;prefix\u0026quot;: \u0026quot;64\u0026quot;, \u0026quot;scope\u0026quot;: \u0026quot;link\u0026quot; } ], \u0026quot;macaddress\u0026quot;: \u0026quot;06:2d:d5:f3:7b:08\u0026quot;, \u0026quot;module\u0026quot;: \u0026quot;ena\u0026quot;, \u0026quot;mtu\u0026quot;: 9001, \u0026quot;pciid\u0026quot;: \u0026quot;0000:00:05.0\u0026quot;, \u0026quot;promisc\u0026quot;: false, \u0026quot;timestamping\u0026quot;: [ \u0026quot;tx_software\u0026quot;, \u0026quot;rx_software\u0026quot;, \u0026quot;software\u0026quot; ], \u0026quot;type\u0026quot;: \u0026quot;ether\u0026quot; }, \u0026quot;fibre_channel_wwn\u0026quot;: [], \u0026quot;fips\u0026quot;: false, \u0026quot;form_factor\u0026quot;: \u0026quot;Other\u0026quot;, \u0026quot;fqdn\u0026quot;: \u0026quot;ip-10-32-1-186.ap-east-1.compute.internal\u0026quot;, \u0026quot;gather_subset\u0026quot;: [ \u0026quot;all\u0026quot; ], \u0026quot;hostname\u0026quot;: \u0026quot;ip-10-32-1-186\u0026quot;, \u0026quot;hostnqn\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;interfaces\u0026quot;: [ \u0026quot;lo\u0026quot;, \u0026quot;eth0\u0026quot; ], \u0026quot;is_chroot\u0026quot;: true, \u0026quot;iscsi_iqn\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;kernel\u0026quot;: \u0026quot;5.10.135-122.509.amzn2.x86_64\u0026quot;, \u0026quot;kernel_version\u0026quot;: \u0026quot;#1 SMP Thu Aug 11 22:41:16 UTC 2022\u0026quot;, \u0026quot;lo\u0026quot;: { \u0026quot;active\u0026quot;: true, \u0026quot;device\u0026quot;: \u0026quot;lo\u0026quot;, \u0026quot;features\u0026quot;: { \u0026quot;esp_hw_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;esp_tx_csum_hw_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;fcoe_mtu\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;generic_receive_offload\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;generic_segmentation_offload\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;highdma\u0026quot;: \u0026quot;on [fixed]\u0026quot;, \u0026quot;hw_tc_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;l2_fwd_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;large_receive_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;loopback\u0026quot;: \u0026quot;on [fixed]\u0026quot;, \u0026quot;macsec_hw_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;netns_local\u0026quot;: \u0026quot;on [fixed]\u0026quot;, \u0026quot;ntuple_filters\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;receive_hashing\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_all\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_checksumming\u0026quot;: \u0026quot;on [fixed]\u0026quot;, \u0026quot;rx_fcs\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_gro_hw\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_gro_list\u0026quot;: \u0026quot;off\u0026quot;, \u0026quot;rx_udp_tunnel_port_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_vlan_filter\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_vlan_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_vlan_stag_filter\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;rx_vlan_stag_hw_parse\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;scatter_gather\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;tcp_segmentation_offload\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;tls_hw_record\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tls_hw_rx_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tls_hw_tx_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_checksum_fcoe_crc\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_checksum_ip_generic\u0026quot;: \u0026quot;on [fixed]\u0026quot;, \u0026quot;tx_checksum_ipv4\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_checksum_ipv6\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_checksum_sctp\u0026quot;: \u0026quot;on [fixed]\u0026quot;, \u0026quot;tx_checksumming\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;tx_esp_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_fcoe_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_gre_csum_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_gre_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_gso_list\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_gso_partial\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_gso_robust\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_ipxip4_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_ipxip6_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_lockless\u0026quot;: \u0026quot;on [fixed]\u0026quot;, \u0026quot;tx_nocache_copy\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_scatter_gather\u0026quot;: \u0026quot;on [fixed]\u0026quot;, \u0026quot;tx_scatter_gather_fraglist\u0026quot;: \u0026quot;on [fixed]\u0026quot;, \u0026quot;tx_sctp_segmentation\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;tx_tcp6_segmentation\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;tx_tcp_ecn_segmentation\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;tx_tcp_mangleid_segmentation\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;tx_tcp_segmentation\u0026quot;: \u0026quot;on\u0026quot;, \u0026quot;tx_tunnel_remcsum_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_udp_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_udp_tnl_csum_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_udp_tnl_segmentation\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_vlan_offload\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;tx_vlan_stag_hw_insert\u0026quot;: \u0026quot;off [fixed]\u0026quot;, \u0026quot;udp_fragmentation_offload\u0026quot;: \u0026quot;off\u0026quot;, \u0026quot;vlan_challenged\u0026quot;: \u0026quot;on [fixed]\u0026quot; }, \u0026quot;hw_timestamp_filters\u0026quot;: [], \u0026quot;ipv4\u0026quot;: { \u0026quot;address\u0026quot;: \u0026quot;127.0.0.1\u0026quot;, \u0026quot;broadcast\u0026quot;: \u0026quot;host\u0026quot;, \u0026quot;netmask\u0026quot;: \u0026quot;255.0.0.0\u0026quot;, \u0026quot;network\u0026quot;: \u0026quot;127.0.0.0\u0026quot; }, \u0026quot;ipv6\u0026quot;: [ { \u0026quot;address\u0026quot;: \u0026quot;::1\u0026quot;, \u0026quot;prefix\u0026quot;: \u0026quot;128\u0026quot;, \u0026quot;scope\u0026quot;: \u0026quot;host\u0026quot; } ], \u0026quot;mtu\u0026quot;: 65536, \u0026quot;promisc\u0026quot;: false, \u0026quot;timestamping\u0026quot;: [ \u0026quot;tx_software\u0026quot;, \u0026quot;rx_software\u0026quot;, \u0026quot;software\u0026quot; ], \u0026quot;type\u0026quot;: \u0026quot;loopback\u0026quot; }, \u0026quot;lsb\u0026quot;: {}, \u0026quot;machine\u0026quot;: \u0026quot;x86_64\u0026quot;, \u0026quot;machine_id\u0026quot;: \u0026quot;ec2a0c93cafdf59f762c6748bad6ea6e\u0026quot;, \u0026quot;memfree_mb\u0026quot;: 578, \u0026quot;memory_mb\u0026quot;: { \u0026quot;nocache\u0026quot;: { \u0026quot;free\u0026quot;: 794, \u0026quot;used\u0026quot;: 146 }, \u0026quot;real\u0026quot;: { \u0026quot;free\u0026quot;: 578, \u0026quot;total\u0026quot;: 940, \u0026quot;used\u0026quot;: 362 }, \u0026quot;swap\u0026quot;: { \u0026quot;cached\u0026quot;: 0, \u0026quot;free\u0026quot;: 0, \u0026quot;total\u0026quot;: 0, \u0026quot;used\u0026quot;: 0 } }, \u0026quot;memtotal_mb\u0026quot;: 940, \u0026quot;module_setup\u0026quot;: true, \u0026quot;mounts\u0026quot;: [ { \u0026quot;block_available\u0026quot;: 1668655, \u0026quot;block_size\u0026quot;: 4096, \u0026quot;block_total\u0026quot;: 2094075, \u0026quot;block_used\u0026quot;: 425420, \u0026quot;device\u0026quot;: \u0026quot;/dev/nvme0n1p1\u0026quot;, \u0026quot;fstype\u0026quot;: \u0026quot;xfs\u0026quot;, \u0026quot;inode_available\u0026quot;: 4145004, \u0026quot;inode_total\u0026quot;: 4193216, \u0026quot;inode_used\u0026quot;: 48212, \u0026quot;mount\u0026quot;: \u0026quot;/\u0026quot;, \u0026quot;options\u0026quot;: \u0026quot;rw,noatime,attr2,inode64,logbufs=8,logbsize=32k,noquota\u0026quot;, \u0026quot;size_available\u0026quot;: 6834810880, \u0026quot;size_total\u0026quot;: 8577331200, \u0026quot;uuid\u0026quot;: \u0026quot;2318d4b7-b8cd-4579-ab46-47af13e15000\u0026quot; } ], \u0026quot;nodename\u0026quot;: \u0026quot;ip-10-32-1-186.ap-east-1.compute.internal\u0026quot;, \u0026quot;os_family\u0026quot;: \u0026quot;RedHat\u0026quot;, \u0026quot;pkg_mgr\u0026quot;: \u0026quot;yum\u0026quot;, \u0026quot;proc_cmdline\u0026quot;: { \u0026quot;BOOT_IMAGE\u0026quot;: \u0026quot;/boot/vmlinuz-5.10.135-122.509.amzn2.x86_64\u0026quot;, \u0026quot;biosdevname\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;console\u0026quot;: [ \u0026quot;tty0\u0026quot;, \u0026quot;ttyS0,115200n8\u0026quot; ], \u0026quot;net.ifnames\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;nvme_core.io_timeout\u0026quot;: \u0026quot;4294967295\u0026quot;, \u0026quot;rd.emergency\u0026quot;: \u0026quot;poweroff\u0026quot;, \u0026quot;rd.shell\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;ro\u0026quot;: true, \u0026quot;root\u0026quot;: \u0026quot;UUID=2318d4b7-b8cd-4579-ab46-47af13e15000\u0026quot; }, \u0026quot;processor\u0026quot;: [ \u0026quot;0\u0026quot;, \u0026quot;GenuineIntel\u0026quot;, \u0026quot;Intel(R) Xeon(R) Platinum 8259CL CPU @ 2.50GHz\u0026quot;, \u0026quot;1\u0026quot;, \u0026quot;GenuineIntel\u0026quot;, \u0026quot;Intel(R) Xeon(R) Platinum 8259CL CPU @ 2.50GHz\u0026quot; ], \u0026quot;processor_cores\u0026quot;: 1, \u0026quot;processor_count\u0026quot;: 1, \u0026quot;processor_threads_per_core\u0026quot;: 2, \u0026quot;processor_vcpus\u0026quot;: 2, \u0026quot;product_name\u0026quot;: \u0026quot;t3.micro\u0026quot;, \u0026quot;product_serial\u0026quot;: \u0026quot;NA\u0026quot;, \u0026quot;product_uuid\u0026quot;: \u0026quot;NA\u0026quot;, \u0026quot;product_version\u0026quot;: \u0026quot;NA\u0026quot;, \u0026quot;python\u0026quot;: { \u0026quot;executable\u0026quot;: \u0026quot;/usr/bin/python\u0026quot;, \u0026quot;has_sslcontext\u0026quot;: true, \u0026quot;type\u0026quot;: \u0026quot;CPython\u0026quot;, \u0026quot;version\u0026quot;: { \u0026quot;major\u0026quot;: 2, \u0026quot;micro\u0026quot;: 18, \u0026quot;minor\u0026quot;: 7, \u0026quot;releaselevel\u0026quot;: \u0026quot;final\u0026quot;, \u0026quot;serial\u0026quot;: 0 }, \u0026quot;version_info\u0026quot;: [ 2, 7, 18, \u0026quot;final\u0026quot;, 0 ] }, \u0026quot;python_version\u0026quot;: \u0026quot;2.7.18\u0026quot;, \u0026quot;real_group_id\u0026quot;: 1000, \u0026quot;real_user_id\u0026quot;: 1000, \u0026quot;selinux\u0026quot;: { \u0026quot;status\u0026quot;: \u0026quot;Missing selinux Python library\u0026quot; }, \u0026quot;selinux_python_present\u0026quot;: false, \u0026quot;service_mgr\u0026quot;: \u0026quot;systemd\u0026quot;, \u0026quot;ssh_host_key_ecdsa_public\u0026quot;: \u0026quot;AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBMQHztuwL47pwpF7HDjl61XRcALUQSBkQB+xJhMA5m7+z0CZxtyY1W93Jz7YcFEbYuGNzbnb51i67iTOG+0+oOs=\u0026quot;, \u0026quot;ssh_host_key_ed25519_public\u0026quot;: \u0026quot;AAAAC3NzaC1lZDI1NTE5AAAAIGctEOyP5SdD+z5uIV/UPvpn8e2cbgw0zNjFegk8haAf\u0026quot;, \u0026quot;ssh_host_key_rsa_public\u0026quot;: \u0026quot;AAAAB3NzaC1yc2EAAAADAQABAAABAQC+oJTDejKkf4IX/+vwayNQ3OSD+HwRnDIQT73cbZsDpMo0Hnl2ORwVxwCibih2nTc9VrF839ItfP8NBIQHADFz6EqAMJQ+qyMMy5Vlm+w1AajSNk7SxZEfGqo4w8bbXnLgmWmCk5Q5lhzIXvwsECnLs98Ld3tGSKqHgCJLJ1qec/UNa4NGoyey+0wwAvUfjAInjUWE20U5ZHAq7Ji8fxo6Ws6hZ0tgy/XZ5EkqV0jVwqzsCl6eQH11q/Dm9N+YetNr5oJrIH/R5syiSc6ChgFjXBhjoonf5YzUuPoPdXqR6y8snuuZKGIadG3a72G0pZbpx5u97bQZODwcC267NG+v\u0026quot;, \u0026quot;swapfree_mb\u0026quot;: 0, \u0026quot;swaptotal_mb\u0026quot;: 0, \u0026quot;system\u0026quot;: \u0026quot;Linux\u0026quot;, \u0026quot;system_capabilities\u0026quot;: [ \u0026quot;\u0026quot; ], \u0026quot;system_capabilities_enforced\u0026quot;: \u0026quot;True\u0026quot;, \u0026quot;system_vendor\u0026quot;: \u0026quot;Amazon EC2\u0026quot;, \u0026quot;uptime_seconds\u0026quot;: 11454, \u0026quot;user_dir\u0026quot;: \u0026quot;/home/ec2-user\u0026quot;, \u0026quot;user_gecos\u0026quot;: \u0026quot;EC2 Default User\u0026quot;, \u0026quot;user_gid\u0026quot;: 1000, \u0026quot;user_id\u0026quot;: \u0026quot;ec2-user\u0026quot;, \u0026quot;user_shell\u0026quot;: \u0026quot;/bin/bash\u0026quot;, \u0026quot;user_uid\u0026quot;: 1000, \u0026quot;userspace_architecture\u0026quot;: \u0026quot;x86_64\u0026quot;, \u0026quot;userspace_bits\u0026quot;: \u0026quot;64\u0026quot;, \u0026quot;virtualization_role\u0026quot;: \u0026quot;guest\u0026quot;, \u0026quot;virtualization_type\u0026quot;: \u0026quot;kvm\u0026quot; } } PLAY RECAP ********************************************************************* 16.163.95.41 : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0 Ch√∫ng ta c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c python_version v·ªõi vi·ªác ch√∫ng ta s·ª≠a l·∫°i file Playbook nh∆∞ sau:\n--- - hosts: webserver gather_facts: true tasks: - name: \u0026quot;Show ansiblr Facts\u0026quot; debug: var: ansible_facts['python_version'] v√† ƒë√¢y l√† k·∫øt qu·∫£:\nb√†i vi·∫øt l·∫ßn n√†y c·ªßa m√¨nh t·∫°m d·ª´ng ·ªü ƒë√¢y, hy v·ªçng khi b·∫°n l√†m theo nh·ªØng b∆∞·ªõc m√¨nh ƒë√£ vi·∫øt, b·∫°n c√≥ th·ªÉ hi·ªÉu ƒë∆∞·ª£c ph·∫ßn n√†o v·ªÅ bi·∫øn trong Ansible, h·ªçc ph·∫£i ƒëi ƒë√¥i v·ªõi h√†nh ƒë√∫ng k n√†o!!!!\n","description":"","id":17,"section":"posts","tags":["Devops","Aws"],"title":"[D√†nh cho Beginner] Ph·∫ßn 2: Bi·∫øn trong Ansible","uri":"https://hungpt.info/en/posts/bien_trong_ansible/"},{"content":"AWS Amplify l√† g√¨? AWS Amplify l√† m·ªôt t·∫≠p h·ª£p c√°c c√¥ng c·ª• v√† t√≠nh nƒÉng ƒë∆∞·ª£c t·∫°o ra c√≥ ch·ªß ƒë√≠ch, gi√∫p nh√† ph√°t tri·ªÉn web v√† di ƒë·ªông frontend x√¢y d·ª±ng c√°c ·ª©ng d·ª•ng fullstack m·ªôt c√°ch nhanh ch√≥ng v√† d·ªÖ d√†ng tr√™n AWS v·ªõi kh·∫£ nƒÉng t·∫≠n d·ª•ng linh ho·∫°t c√°c d·ªãch v·ª• AWS phong ph√∫ khi c√°c tr∆∞·ªùng h·ª£p s·ª≠ d·ª•ng c·ªßa b·∫°n ti·∫øn tri·ªÉn.\n1. Chu·∫©n b·ªã ƒêƒÉng nh·∫≠p v√†o github.com\nM√°y Ubuntu EC2, security group m·ªü port 443(https)\nGithub Token, ƒë·ªÉ ƒë·∫•y code l√™n github\nKi·ªÉm tra chi ph√≠ s·ª≠ d·ª•ng d·ªãch v·ª•\nAplify : https://aws.amazon.com.amplify/pricing\n2. T·∫°o repository tr√™n giao di·ªán github.com  Nh·∫•n v√†o d·∫•u c·ªông g√≥c tr√™n c√πng b√™n ph·∫£i (New repository) ƒêi·ªÅn t√™n : simpleCICD Ch·ªçn private, Create repository  3. ƒê·∫©y code t·ª´ m√°y ·∫£o EC2  T·∫°o th∆∞ m·ª•c m·ªõi : mkdir simpleCICD cd simpleCICD T·∫°o file index.html nh∆∞ h√¨nh b√™n d∆∞·ªõi: touch index.html  \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;utf-8\u0026quot; /\u0026gt; \u0026lt;link rel=\u0026quot;icon\u0026quot; href=\u0026quot;%PUBLIC_URL%/favicon.ico\u0026quot; /\u0026gt; \u0026lt;meta name=\u0026quot;viewport\u0026quot; content=\u0026quot;width=device-width, initial-scale=1\u0026quot; /\u0026gt; \u0026lt;meta name=\u0026quot;theme-color\u0026quot; content=\u0026quot;#000000\u0026quot; /\u0026gt; \u0026lt;meta name=\u0026quot;description\u0026quot; content=\u0026quot;Web site created using create-react-app\u0026quot; /\u0026gt; \u0026lt;link rel=\u0026quot;apple-touch-icon\u0026quot; href=\u0026quot;%PUBLIC_URL%/logo192.png\u0026quot; /\u0026gt; \u0026lt;link rel=\u0026quot;manifest\u0026quot; href=\u0026quot;%PUBLIC_URL%/manifest.json\u0026quot; /\u0026gt; \u0026lt;title\u0026gt;React App\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;noscript\u0026gt;You need to enable JavaScript to run this app.\u0026lt;/noscript\u0026gt; \u0026lt;div\u0026gt; test simplify CICD simpleCICD \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;  Kh·ªüi t·∫°o m·ªôt git repo m·ªõi trong th∆∞ m·ª•c simpleCICD git init git remote add origin https://github.com/zyn1030z/simpleCICD.git git add . git commit -m ‚Äúmy first commit‚Äù git push ‚Äìset-upstream origin master(push code l√™n nh√°nh master, ƒëƒÉng nh·∫≠p user v√† token)\n  4. Kh·ªüi t·∫°o AWS Amplify Tr√™n giao di·ªán AWS Console\n Search aws amplify, ch·ªçn Amplify Hosting, ch·ªçn ti·∫øp Github, Continue(ƒêƒÉng nh·∫≠p s·∫µn Github n√™n t√≠ch h·ª£p ƒë∆∞·ª£c\nlu√¥n)\n Nh·∫•n v√†o Authorize aws-amplify-console\n Ch·ªçn ti·∫øp Respository simpleCICD v√† nh√°nh Main, ·∫•n Next\n Ch·ªçn t√≠ch v√†o √¥: Allow AWS Amplify to automatically deploy all files hosted in your project root directory v√†\n·∫•n Next ch·ªçn ti·∫øp Save and Deploy\n Ta th·∫•y c√°c quy tr√¨nh t·ª± ƒë·ªông (ch·ªù kho·∫£n 1 ƒë·∫øn 3 ph√∫t), ƒë·∫øn khi ho√†n t·∫•t\n K·∫øt qu·∫£ h·ªá th·ªëng t·∫°o ra 1 ƒë∆∞·ªùng link (https://main...amplifyapp.com), b√™n ph√≠a tr√°i d∆∞·ªõi bi·ªÉu t∆∞·ª£ng m≈©i t√™n.\nNh·∫•n v√†o ƒë·∫•y ƒë·ªÉ th·∫•y trang web c·ªßa ch√∫ng ta ƒë√£ ƒë∆∞·ª£c deploy. N·∫øu ·∫•n s·ªõm s·∫Ω nh·∫≠n ƒë∆∞·ª£c th√¥ng b√°o, khi n√†o xong trang web\ns·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y\n  5. T·∫°o nh√°nh cho coder Quay l·∫°i m√°y EC2, t·∫°o th√™m nh√°nh git branch cho Coder, sau ƒë√≥ push code l√™n github:\n T·∫°o th√™m 1 branch n·ªØa(dev) : git btanch dev Ki·ªÉm ta l·∫°i : git branch T·∫°o th√™m nh√°nh m·ªõi (Staging) : git branch Staging Ki·ªÉm tra l·∫°i : git branch(Staging ƒë√£ ƒë∆∞·ª£c t·∫°o th√™m t·ªïng c·ªông 3 nh√°nh) Chuy·ªÉn sang branch dev : git checkout dev S·ª≠a 1 s·ªë d√≤ng ·ªü ƒëo·∫°n code trong file index.html ch√∫ng ta ƒë√£ t·∫°o git add .* T·∫°o ghi ch√∫ : git commit -m ‚Äòmofify dev branch‚Äô push code l√™n github : git p√∫h ‚Äìset-upstream origin dev\n T∆∞∆°ng t·ª± ch√∫ng ta c≈©ng s·∫Ω l√†m v·ªõi nh√°nh Staging\n  6. Connect branch tr√™n AWS Tr√™n giao di·ªán AWS: ph·∫ßn aws amplify, ch·ªçn Connect branch ƒë·ªÉ k·∫øt n·ªëi th√™m c√°c Repository branch v√† deploy\nc√°c branch ri√™ng:\nNh·∫•n v√†o Connect branch v√† l√†m gi·ªëng v·ªõi nh√°nh main nh∆∞ng ph·∫ßn branch th√¨ l·∫ßn l∆∞·ª£t ch·ªçn dev v√† staging\nNh∆∞ v·∫≠y ch√∫ng ta ƒë√£ tri·ªÉn khai ƒë∆∞·ª£c code t·ª± ƒë·ªông t·ª´ Github l√™n Host tr√™n aws ƒë·ªÉ ch·∫°y trang web theo\nc√°c Branch kh√°c nhau: dev, main,staging\n","description":"","id":19,"section":"posts","tags":["Devops","AWS"],"title":"[D√†nh cho Beginner] AWS Amplify host CI/CD","uri":"https://hungpt.info/en/posts/aws_amplify_host_cicd/"},{"content":"Trong m·ªôt m√¥i tr∆∞·ªùng v·ªõi nhi·ªÅu server th√¨ ta s·∫Ω c√≥ v√¥ v√†n th·ª© ph·∫£i lo. T·ª´ setup crontab, update c√°c g√≥i ph·∫ßn m·ªÅm m·ªõi, deploy ·ª©ng d·ª•ng m·ªõi, ch·ªânh s·ª≠a file c·∫•u h√¨nh‚Ä¶. Nh·ªØng c√¥ng vi·ªác n√†y tuy kh√¥ng kh√≥, nh∆∞ng r·∫•t m·∫•t th·ªùi gian c·ªßa nh·ªØng ng∆∞·ªùi qu·∫£n tr·ªã (SysAdmin/SysEngineer/DevOps).\nV·∫≠y c√≥ c√°ch n√†o ƒë·ªÉ t·ª± ƒë·ªông h√≥a nh·ªØng thao t√°c nh√†m ch√°n, l·∫∑p ƒëi l·∫∑p l·∫°i n√†y kh√¥ng?\n‚ÄúC√πng m·ªôt vi·ªác m√† l√†m qu√° 2 l·∫ßn th√¨ c√≥ g√¨ ƒë√≥ kh√¥ng ·ªïn r·ªìi‚Äù\nT·ª´ m·ªôt gi·∫£ng vi√™n c≈© t·ª´ng d·∫°y m√¨nh\nC√¢u tr·∫£ l·ªùi ch√≠nh l√† ·ª©ng d·ª•ng nh·ªØng tool automation ƒë·ªÉ qu·∫£n tr·ªã h·ªá th·ªëng. Hi·ªán nay c√≥ r·∫•t nhi·ªÅu tool nh∆∞ v·∫≠y tr√™n th·ªã tr∆∞·ªùng c·ª• th·ªÉ nh∆∞: Chef, Puppet, CFEngine, StackStorm, Ansible, SaltStack‚Ä¶ Trong b√†i n√†y, m√¨nh s·∫Ω gi·ªõi thi·ªáu ƒë·∫øn c√°c b·∫°n m·ªôt c√¥ng c·ª• r·∫•t m·∫°nh m·∫Ω trong vi·ªác qu·∫£n tr·ªã h·ªá th·ªëng, ƒë√≥ ch√≠nh l√† Ansible.\n1. Gi·ªõi thi·ªáu Ansible Nh∆∞ ƒë√£ n√≥i ·ªü tr√™n, Ansible l√† m·ªôt c√¥ng c·ª• d√πng ƒë·ªÉ t·ª± ƒë·ªông h√≥a vi·ªác c·∫•u h√¨nh tr√™n nhi·ªÅu server. So v·ªõi c√°c c√¥ng c·ª• kh√°c v·ªõi t√≠nh nƒÉng t∆∞∆°ng ƒë∆∞∆°ng th√¨ Ansible d·ªÖ h·ªçc v√† d·ªÖ ti·∫øp c·∫≠n h∆°n r·∫•t nhi·ªÅu. C·ªông ƒë·ªìng ng∆∞·ªùi d√πng c≈©ng nhi·ªÅu h∆°n so v·ªõi\nc√°c c√¥ng c·ª• kh√°c.\nSo s√°nh m·ªôt v√†i th√¥ng s·ªë v·ªÅ Ansible, SaltStack, Chef, Puppet tr√™n GitHub (11/2018)\nC√≥ th·ªÉ th·∫•y Ansible l√† c√¥ng c·ª• t·ª± ƒë·ªông h√≥a ph·ªï bi·∫øn nh·∫•t tr√™n GitHub v·ªõi s·ªë sao ƒë∆∞·ª£c ng∆∞·ªùi d√πng b√¨nh ch·ªçn cho project n√†y l√† 33,500 sao. Ansible c≈©ng l√† tool d·ªÖ ti·∫øp c·∫≠n v√† l√†m quen do ƒë∆∞·ª£c build b·∫±ng Python v√† s·ª≠ d·ª•ng file c·∫•u h√¨nh theo d·∫°ng YAML (YAML Ain‚Äôt Markup Language) d·ªÖ ƒë·ªçc v√† d·ªÖ hi·ªÉu.\n2. Ki·∫øn tr√∫c Ansible s·ª≠ d·ª•ng ki·∫øn tr√∫c agentless ƒë·ªÉ giao ti·∫øp v·ªõi c√°c m√°y kh√°c m√† kh√¥ng c·∫ßn agent. C∆° b·∫£n nh·∫•t l√† giao ti·∫øp th√¥ng qua giao th·ª©c SSH tr√™n Linux, WinRM tr√™n Windows ho·∫∑c giao ti·∫øp qua ch√≠nh API c·ªßa thi·∫øt b·ªã ƒë√≥ cung c·∫•p.\nAnsible c√≥ th·ªÉ giao ti·∫øp v·ªõi r·∫•t nhi·ªÅu platform, OS v√† lo·∫°i thi·∫øt b·ªã kh√°c nhau. T·ª´ Ubuntu, CentOS, VMware, Windows cho t·ªõi AWS, Azure, c√°c thi·∫øt b·ªã m·∫°ng Cisco v√† Juniper‚Ä¶.v√¢n v√¢n v√† m√¢y m√¢y‚Ä¶.(ho√†n to√†n kh√¥ng c·∫ßn agent khi giao ti·∫øp).\nCh√≠nh c√°ch thi·∫øt k·∫ø n√†y l√†m tƒÉng t√≠nh ti·ªán d·ª•ng c·ªßa Ansible do kh√¥ng c·∫ßn ph·∫£i setup b·∫£o tr√¨ agent tr√™n nhi·ªÅu host. C√≥ th·ªÉ coi ƒë√¢y l√† m·ªôt th·∫ø m·∫°nh c·ªßa Ansible so v·ªõi c√°c c√¥ng c·ª• c√≥ c√πng ch·ª©c nƒÉng nh∆∞ Chef, Puppet, SaltStack (Salt th√¨ h·ªó tr·ª£ c·∫£ 2 mode l√† agent v√† agentless, c√≥ th·ªùi gian th√¨ m√¨nh s·∫Ω vi·∫øt 1 b√†i v·ªÅ Salt).\n3. ·ª®ng d·ª•ng Ansible c√≥ r·∫•t nhi·ªÅu ·ª©ng d·ª•ng trong tri·ªÉn khai ph·∫ßn m·ªÅm v√† qu·∫£n tr·ªã h·ªá th·ªëng.\n Provisioning: Kh·ªüi t·∫°o VM, container h√†ng lo·∫°t trong m√¥i tr∆∞·ªùng cloud d·ª±a tr√™n API (OpenStack, AWS, Google Cloud, Azure‚Ä¶) Configuration Management: Qu·∫£n l√Ω c·∫•u h√¨nh t·∫≠p trung c√°c d·ªãch v·ª• t·∫≠p trung, kh√¥ng c·∫ßn ph·∫£i t·ªën c√¥ng ch·ªânh s·ª≠a c·∫•u h√¨nh tr√™n t·ª´ng server. Application Deployment: Deploy ·ª©ng d·ª•ng h√†ng lo·∫°t, qu·∫£n l√Ω hi·ªáu qu·∫£ v√≤ng ƒë·ªùi c·ªßa ·ª©ng d·ª•ng t·ª´ giai ƒëo·∫°n dev cho t·ªõi production. Security \u0026amp; Compliance: Qu·∫£n l√Ω c√°c ch√≠nh s√°ch v·ªÅ an to√†n th√¥ng tinm·ªôt c√°ch ƒë·ªìng b·ªô tr√™n nhi·ªÅu m√¥i tr∆∞·ªùng v√† s·∫£n ph·∫©m kh√°c nhau (deploy policy, c·∫•u h√¨nh firewall h√†ng lo·∫°t tr√™n nhi·ªÅu server‚Ä¶).  4. C√†i ƒë·∫∑t Ansiable B∆∞·ªõc 1: T·∫°o EC2 Tr√™n AWS t·∫°o 03 Launch template cho EC2 s·ª≠ d·ª•ng AMI: Amazon Linux 2, Ubuntu 20, RedHat. Ch√∫ √Ω Advanced network configuration ch·ªçn Auto IP Public: Enable\nTi·∫øn h√†nh ssh v√†o EC2 ubuntu\nT·∫°o 1 th∆∞ m·ª•c, trong th∆∞ m·ª•c ƒë√≥ ch√∫ng ta s·∫Ω t·∫°o 1 file host ƒë·ªÉ l∆∞u ip c·ªßa 2 m√°y EC2 c√≤n l·∫°i nh∆∞ sau\nSau ƒë√≥ ch√∫ng ta ch·∫°y l·ªánh\nansible -i hosts webserver -m ping S·∫Ω c√≥ 1 l·ªói nh∆∞ sau b·ªüi ch√∫ng ta ch∆∞a c√≥ private key ƒë·ªÉ ssh v√†o 2 m√°y EC2 c√≤n l·∫°i\nCh√∫ng ta s·∫Ω ph·∫£i t·∫£i file l√™n m√°y EC2 ubuntu n√†y v·ªõi l·ªánh sau:\n1  scp -i web1.pem web1.pem ubuntu@16.162.23.244:/home/ubuntu/.ssh   B·∫°n l·∫ßn l∆∞·ª£t g√µ 2 l·ªánh n√†y ƒë·ªÉ convert file pem th√†nh private key v√† t·∫°o public key ƒë·ªÉ ssh t·ªõi 2 m√°y EC2 c√≤n l·∫°i\nN·∫øu v·∫´n ch∆∞a ƒë∆∞·ª£c b·∫°n s·∫Ω ph·∫£i th√™m ansible_ssh_user=ec2-user\nCh·∫°y l·ªánh sau ch√∫ng ta s·∫Ω ƒë∆∞·ª£c k·∫øt qu·∫£\nTi·∫øp theo ch√∫ng ta s·∫Ω thao t√°c v·ªõi playbook trong Ansible, ch√∫ng ta s·∫Ω vi·∫øt 1 playbook ƒë∆°n gi·∫£n nh∆∞ sau:\n1 2 3  - hosts: webserver tasks: - ping:   Sau ƒë√≥ ch√∫ng ta ch·∫°y l·ªánh sau v·ªõi playbook.yml l√† file ch√∫ng ta s·∫Ω vi·∫øt code ·ªü tr√™n\n1  ansible-playbook -i hosts playbook.yaml   K·∫øt qu·∫£ ch√∫ng ta s·∫Ω ƒë∆∞·ª£c nh∆∞ sau:\nB√†i vi·∫øt l·∫ßn n√†y c·ªßa m√¨nh d·ª´ng l·∫°i ·ªü ƒë√¢y, ·ªü ph·∫ßn sau ch√∫ng ta s·∫Ω c√πng t√¨m hi·ªÉu s√¢u h∆°n v·ªÅ Ansible nh√©!\n","description":"","id":20,"section":"posts","tags":["Devops","Ansible","AWS"],"title":"[D√†nh cho Beginner] Ph·∫ßn 1: Ansible L√† G√¨? H∆∞·ªõng D·∫´n C√†i ƒê·∫∑t Ansible? Vi·∫øt 1 Playbook ƒë∆°n gi·∫£n","uri":"https://hungpt.info/en/posts/ansible_cat_dat/"},{"content":"ƒê·ªÉ qu·∫£n l√Ω State trong React Function Component, ch√∫ng ta d√πng Hook useState().\nH√†m useState tr·∫£ v·ªÅ 1 m·∫£ng 2 ph·∫ßn t·ª≠, ph·∫ßn t·ª≠ ƒë·∫ßu ti√™n l√† ƒë·ªÉ kh·ªüi t·∫°o state, ph·∫ßn t·ª≠ th·ª© 2 l√† h√†m ƒë·ªÉ c·∫≠p nh·∫≠t state. Tham s·ªë truy·ªÅn v√†o h√†m useState l√† gi√° tr·ªã kh·ªüi t·∫°o c·ªßa state. V√≠ d·ª•:\nKhai b√°o State Ph·∫£i khai b√°o useState ·ªü top level c·ªßa m·ªôt Function Component (ho·∫∑c m·ªôt custom Hook), kh√¥ng khai b√°o ·ªü trong m·ªôt scope n√†o kh√°c nh∆∞ v√≤ng l·∫∑p, ƒëi·ªÅu ki·ªán, hay function con. V√≠ d·ª• khai b√°o state nh∆∞ sau l√† sai:\n1 2 3 4 5 6 7  export default function App() { function handleClick() { const [count, setCount] = useState(0); // Ph·∫£i khai b√°o state ·ªü top-level c·ªßa Function component  } ... }   C√≥ th·ªÉ khai b√°o nhi·ªÅu bi·∫øn state kh√°c nhau. V√≠ d·ª•:\n1 2 3 4 5 6 7 8 9 10 11  export default function App() { const [count1, setCount1] = useState(0); const [count2, setCount2] = useState(0); return ( \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;{count1}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;{count2}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; ); }   C·∫≠p nh·∫≠t State M·ªói khi state ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√¨ Component s·∫Ω re-render (function ƒë∆∞·ª£c ch·∫°y l·∫°i v√† giao di·ªán ƒë∆∞·ª£c c·∫≠p nh·∫≠t l·∫°i theo state). C·∫ßn ch√∫ √Ω l√† kh√¥ng ƒë∆∞·ª£c thay ƒë·ªïi tr·ª±c ti·∫øp bi·∫øn state (immutable) m√† ph·∫£i c·∫≠p nh·∫≠t th√¥ng qua h√†m c·∫≠p nh·∫≠t state.\nV√≠ d·ª• nh∆∞ sau l√† sai:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  export default function App() { const [count, setCount] = useState(0); function handleClick() { count++; // Kh√¥ng ƒë∆∞·ª£c thay ƒë·ªïi tr·ª±c ti·∫øp state nh∆∞ n√†y  } return ( \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;{count}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt; \u0026lt;button onClick={handleClick}\u0026gt;Increase count\u0026lt;/button\u0026gt; \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; ); }   V√≠ d·ª• nh∆∞ n√†y l√† ƒë√∫ng:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  export default function App() { const [count, setCount] = useState(0); function handleClick() { setCount(count + 1); // Thay ƒë·ªïi state b·∫±ng c√°ch g·ªçi h√†m setCount  } return ( \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;{count}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt; \u0026lt;button onClick={handleClick}\u0026gt;Increase count\u0026lt;/button\u0026gt; \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; ); }   Ch√∫ √Ω v·ªõi c√°c state l√† array ho·∫∑c object th√¨ n√™n copy gi√° tr·ªã ra 1 bi·∫øn m·ªõi ƒë·ªÉ kh√¥ng l√†m thay ƒë·ªïi gi√° tr·ªã c≈© (pass by reference). V√≠ d·ª•:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  export default function App() { const [arr, setArr] = useState([1, 2, 3]); // C√°ch sai  function addItemToArray1(item) { arr.push(item); // H√†m push l√†m thay ƒë·ªïi gi√° tr·ªã c·ªßa state arr  setArr(arr); // React kh√¥ng ph√°t hi·ªán c√≥ s·ª± thay ƒë·ªïi state n√†o n√™n kh√¥ng c·∫≠p nh·∫≠t l·∫°i giao di·ªán  } // C√°ch ƒë√∫ng  function addItemToArray2(item) { setArr([...arr, item]); // Kh√¥ng thay ƒë·ªïi tr·ª±c ti·∫øp state arr m√† t·∫°o ra 1 m·∫£ng m·ªõi b·∫±ng spread syntax  } }   C·∫≠p nh·∫≠t state s·ª≠ d·ª•ng callback function Thay v√¨ c·∫≠p nh·∫≠t state b·∫±ng c√°ch truy·ªÅn v√†o gi√° tr·ªã m·ªõi, th√¨ ch√∫ng ta c√≥ th·ªÉ c·∫≠p nh·∫≠t state b·∫±ng c√°ch truy·ªÅn v√†o m·ªôt h√†m callback (c√≥ tham s·ªë l√† gi√° tr·ªã c≈©) v√† tr·∫£ v·ªÅ k·∫øt qu·∫£ l√† gi√° tr·ªã m·ªõi. V√≠ d·ª•:\n1  setCount((prevCount) =\u0026gt; prevCount + 1);   D√πng c√°ch n√†y th√¨ khi c·∫≠p nh·∫≠t state s·∫Ω ƒë·∫£m b·∫£o gi√° tr·ªã m·ªõi ph·ª• thu·ªôc v√†o gi√° tr·ªã c≈© ch·ª© kh√¥ng ph·ª• thu·ªôc v√†o gi√° tr·ªã c·ªßa state ·ªü th·ªùi ƒëi·ªÉm hi·ªán t·∫°i. Tham kh·∫£o th√™m https://reactjs.org/docs/hooks-reference.html#usestate.\nV√≠ d·ª• v·ªõi ·ª©ng d·ª•ng ƒë·∫øm s·ªë l∆∞·ª£t b·∫•m n√∫t, n·∫øu s·ª≠a l·∫°i h√†m tƒÉng s·ªë l∆∞·ª£t b·∫•m th√†nh tƒÉng s·ªë l∆∞·ª£t b·∫•m sau 1 kho·∫£ng th·ªùi gian (v√≠ d·ª• 3 gi√¢y).\nN·∫øu c·∫≠p nh·∫≠t state b·∫±ng c√°ch sau th√¨ khi ng∆∞·ªùi d√πng b·∫•m n√∫t nhi·ªÅu l·∫ßn trong kho·∫£ng th·ªùi gian 3 gi√¢y, th√¨ sau 3 gi√¢y gi√° tr·ªã c·ªßa state c≈©ng ch·ªâ tƒÉng l√™n 1 (l·∫•y gi√° tr·ªã c·ªßa state ·ªü th·ªùi ƒëi·ªÉm hi·ªán t·∫°i c·ªông th√™m 1).\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  export default function App() { const [count, setCount] = useState(0); function handleClick() { setTimeout(() =\u0026gt; { setCount(count + 1); // Thay ƒë·ªïi state d·ª±a theo gi√° tr·ªã c·ªßa state hi·ªán t·∫°i  }, 3000); } return ( \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;{count}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt; \u0026lt;button onClick={handleClick}\u0026gt;Increase count after 3 seconds\u0026lt;/button\u0026gt; \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; ); }   N·∫øu c·∫≠p nh·∫≠t state b·∫±ng c√°ch truy·ªÅn v√†o m·ªôt h√†m th√¨ trong 3 gi√¢y delay, ng∆∞·ªùi d√πng b·∫•m n√∫t bao nhi√™u l·∫ßn th√¨ gi√° tr·ªã c·ªßa state s·∫Ω tƒÉng l√™n b·∫•y nhi√™u.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  export default function App() { const [count, setCount] = useState(0); function handleClick() { setTimeout(() =\u0026gt; { setCount((prevCount) =\u0026gt; prevCount + 1); // Thay ƒë·ªïi state d·ª±a theo gi√° tr·ªã c·ªßa state tr∆∞·ªõc ƒë√≥  }, 3000); } return ( \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;{count}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt; \u0026lt;button onClick={handleClick}\u0026gt;Increase count after 3 seconds\u0026lt;/button\u0026gt; \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; ); }   Nh∆∞ v·∫≠y t√πy t·ª´ng tr∆∞·ªùng h·ª£p m√† ch√∫ng ta s·∫Ω l·ª±a ch·ªçn c√°ch s·ª≠ d·ª•ng sao cho h·ª£p l√Ω.\n","description":"","id":22,"section":"posts","tags":["Reactjs","Javascript"],"title":"S·ª≠ d·ª•ng useState() Hook trong React nh∆∞ n√†o cho ƒë√∫ng?","uri":"https://hungpt.info/en/posts/su-dung-usestate-hook-trong-react-nhu-nao-cho-dung/"},{"content":"Xin ch√†o m·ªçi ng∆∞·ªùi. H√¥m nay ch√∫ng ta s·∫Ω c√πng t√¨m hi·ªÉu c√°ch ƒë·ªÉ c√≥ th·ªÉ tri·ªÉn khai 1 ·ª©ng d·ª•ng NodeJS tr√™n EC2 v√† th√¥ng tin d·ªØ li·ªáu ƒë∆∞·ª£c\nl∆∞u ·ªü S3 tr√™n AWS nh√©!\nM√¥ h√¨nh tri·ªÉn khai M√¨nh s·∫Ω n√≥i qua ch√∫t v·ªÅ m√¥ h√¨nh tri·ªÉn khai c·ªßa b√†i Lab n√†y, y√™u c·∫ßu c·ªßa b√†i lab bao g·ªìm:\n Chu·∫©n b·ªã EC2 ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh IAM Rule truy c·∫≠p S3 C√†i ƒë·∫∑t NodeJS l√™n EC2 L·∫•y code NodeJS truy c·∫≠p S3 v√† hi·ªÉn th·ªã n·ªôi dung(danh s√°ch file, ·∫£nh) trong S3 l√™n web\nCh√∫ng ta s·∫Ω ƒë·∫øn b√†i lab ngay b√¢y gi·ªù üòÑ  1. Chu·∫©n b·ªã EC2 ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh IAM Rule truy c·∫≠p S3 Tr∆∞·ªõc h·∫øt m√¨nh ƒë√£ t·∫°o 1 VPC, v·ªõi subnet public v√† subnet private ·ªü b√†i tr∆∞·ªõc, b·∫°n c√≥ th·ªÉ ƒë·ªçc l·∫°i b√†i VPC trong AWS c·ªßa m√¨nh\nB∆∞·ªõc 1: T·∫°o EC2, S3 Bucket v·ªõi giao di·ªán AWS Console Ch√∫ng ta l·∫ßn l∆∞·ª£t t·∫°o EC2 v√† S3 Bucket nh∆∞ sau:\nch√∫ √Ω ·ªü b∆∞·ªõc t·∫°o Network setting ch√∫ng ta s·∫Ω ch·ªçn VPC public m√† ch√∫ng ta t·∫°o ·ªü b√†i tr∆∞·ªõc\nC√°c b∆∞·ªõc kh√°c b·∫°n l√†m t∆∞∆°ng t·ª± nh∆∞ b√†i h∆∞·ªõng d·∫´n v·ªÅ EC2\nTi·∫øp theo m√¨nh s·∫Ω t·∫°o 1 S3 Bucket, n·∫øu b·∫°n ch∆∞a bi·∫øt S3 Bucket l√† g√¨ th√¨ S3 Bucket l√† d·ªãch v·ª• ƒë√°m m√¢y l∆∞u tr·ªØ do ƒë√≥ b·∫°n c√≥ th·ªÉ t·∫£i l√™n c√°c t·ªáp, c√°c t√†i li·ªáu,\nc√°c d·ªØ li·ªáu t·∫£i v·ªÅ c·ªßa ng∆∞·ªùi d√πng ho·∫∑c c√°c b·∫£n sao l∆∞u.\nƒê·ªÉ hi·ªÉu v·ªÅ Amazon S3, b·∫°n c·∫ßn n·∫Øm 1 s·ªë kh√°i ni·ªám c∆° b·∫£n:\n Amazon S3 l∆∞u tr·ªØ d·ªØ li·ªáu nh∆∞ c√°c object trong c√°c bucket. M·ªôt object g·ªìm 1 file v√† metadata m√¥ t·∫£ cho file (t√πy ch·ªçn). ƒê·ªÉ l∆∞u 1 object trong Amazon S3, b·∫°n t·∫£i file l√™n 1 bucket. Khi ƒë√£ t·∫£i file, b·∫°n c√≥ th·ªÉ g√°n quy·ªÅn cho ƒë·ªëi t∆∞·ª£ng c≈©ng nh∆∞ b·ªï sung metadata. Bucket l√† c√°c th√πng ch·ª©a cho c√°c object. B·∫°n c√≥ th·ªÉ t·∫°o 1 hay nhi·ªÅu bucket. V·ªõi m·ªói bucket, b·∫°n c√≥ th·ªÉ ƒëi·ªÅu khi·ªÉn vi·ªác truy xu·∫•t ƒë·∫øn n√≥ (ai c√≥ th·ªÉ t·∫°o, x√≥a v√† xem c√°c object trong bucket), xem nh·∫≠t k√Ω truy xu·∫•t ƒë·∫øn bucket v√† ƒë·∫øn c√°c object b√™n trong, c≈©ng nh∆∞ ch·ªçn region m√† Amazon S3 s·∫Ω l∆∞u bucket v√† n·ªôi dung trong n√≥. Ch√∫ √Ω l√† m·ªói m·ªôt t√†i kho·∫£n ch·ªâ t·∫°o ƒë∆∞·ª£c t·ªëi ƒëa l√† 100 buckets, v√† Bucket c√≥ t√™n l√† duy nh·∫•t\nM√¨nh s·∫Ω t·∫°o 1 S3 Bucket nh∆∞ sau:\nB·∫°n c·∫ßn b·ªè t√≠ch ch·ªçn m·ª•c n√†y\n  B∆∞·ªõc 2: T·∫°o IAM Role T·∫°o 1 rule cho ph√©p EC2 truy c·∫≠p S3 nh∆∞ sau\nB∆∞·ªõc 3: Ch·ªânh s·ª≠a Bucket Policy B∆∞·ªõc 4: Ki·ªÉm tra EC2 truy c·∫≠p S3 m√† kh√¥ng c·∫ßn l∆∞u tr·ªØ use/key/pass 2. C√†i ƒë·∫∑t NodeJS l√™n EC2 3. L·∫•y code NodeJS truy c·∫≠p S3 v√† hi·ªÉn th·ªã n·ªôi dung(danh s√°ch file, ·∫£nh) trong S3 l√™n web","description":"","id":23,"section":"posts","tags":["Devops","AWS","CI/CD"],"title":"[D√†nh cho Beginner] H∆∞·ªõng d·∫´n tri·ªÉn khai ·ª©ng d·ª•ng NodeJS cho AWS tr√™n EC2 v√† S3","uri":"https://hungpt.info/en/posts/deploy_nodejd_ec2_s3_in_aws/"},{"content":"N·∫øu b·∫°n ƒë·ªçc soure code c·ªßa core Odoo, ƒë√¥i khi b·∫°n s·∫Ω t√¨m th·∫•y safe_eval. B·∫°n ƒë√£ bao gi·ªù t·ª± h·ªèi, safe_eval l√† g√¨ ch∆∞a? V√† n√≥ s·ª≠ d·ª•ng ƒë·ªÉ l√†m g√¨?\nN·∫øu b·∫°n ƒë·ªçc m√£ ngu·ªìn c·ªßa Odoo, b·∫°n s·∫Ω th·∫•y r·∫±ng, safe_eval th·ª±c ra ch·ªâ l√† m·ªôt h√†m/module ƒë∆∞·ª£c vi·∫øt b·∫±ng python.\nN·∫øu b·∫°n kh√¥ng bi·∫øt, module eval ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ x·ª≠ l√Ω c√°c bi·ªÉu th·ª©c v·ªõi ki·ªÉu d·ªØ li·ªáu l√† chu·ªói, ƒë·ªÉ ch√∫ng c√≥ th·ªÉ ƒë∆∞·ª£c ƒë·ªçc d∆∞·ªõi d·∫°ng\nph√©p to√°n ho·∫∑c th·∫≠m ch√≠ l√† 1 ƒëo·∫°n m√£ python h·ª£p l·ªá. Gi·∫£ s·ª≠ ch√∫ng ta c√≥ 1 bi·∫øn v·ªõi ki·ªÉu d·ªØ li·ªáu l√† chu·ªói nh∆∞ b√™n d∆∞·ªõi ƒë√¢y:\nmy_string = '100 + 5' B·∫±ng c√°ch s·ª≠ d·ª•ng eval ch√∫ng ta c√≥ th·ªÉ bi·∫øn chu·ªói tr√™n th√†nh 1 ph√©p to√°n h·ª£p l·ªá nh∆∞ sau:\nmy_string = '100 + 5' value = eval(my_string) print(value) Nh∆∞ b·∫°n th·∫•y k·∫øt qu·∫£ c·ªßa ph√©p to√°n l√† 105 l√† k·∫øt qu·∫£ c·ªßa ph√©p t√≠nh 100 + 5.\nModule eval c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng ·ªü nh·ªØng tr∆∞·ªùng h·ª£p bi·ªÉu th·ª©c ƒë∆∞·ª£c g√°n v√†o c√°c bi·∫øn nh∆∞ sau:\na = 100 b = 5 my_string = 'a + b' value = eval(my_string) Ho·∫∑c ch√∫ng ta c≈©ng c√≥ th·ªÉ bi·∫øt nh∆∞ sau:\nmy_string = 'a + b' value = eval(my_string, {'a': 100, 'b': 5}) Nh∆∞ m√¨nh ƒë√£ vi·∫øt tr∆∞·ªõc ƒë√≥, module safe_eval th·ª±c s·ª± ch·ªâ l√† th∆∞ vi·ªán t√≠ch h·ª£p eval c·ªßa python v√† s·ª≠a ƒë·ªïi m·ªôt ch√∫t.\nDo ƒë√≥, ƒëoan m√£ tr√™n c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c vi·∫øt b·∫±ng module safe_eval nh∆∞ sau:\nfrom odoo.tools.safe_eval import safe_eval my_string = 'a + b' value = safe_eval(my_string, {'a': 100, 'b': 5}) V·∫≠y s·ª± kh√°c bi·ªát khi ch√∫ng ta s·ª≠ d·ª•ng eval v√† safe_eval ·ªü ƒë√¢y l√† g√¨?\nsafe_eval s·∫Ω ƒë∆∞a v√†o danh s√°ch c·∫•m 1 s·ªë bi·ªÉu th·ª©c, nh∆∞ng v·ªõi eval th√¨ v·ªõi nh·ªØng bi·ªÉu th·ª©c nh∆∞ v·∫≠y th√¨ kh√¥ng v·∫•n ƒë·ªÅ g√¨?\nH√†m ƒë·∫ßu ti√™n m√† safe_eval ƒë∆∞a v√†o danh s√°ch c·∫•m l√† import. M√¨nh c√≥ 1 v√≠ d·ª• ·ªü d∆∞·ªõi ƒë√¢y:\nmy_string = \u0026quot;__import__('odoo').tools.float_round(a/b,pricision)\u0026quot; Nh∆∞ng ƒë·ªëi v·ªõi eval bi·ªÉu th·ª©c tr√™n l·∫°i kh√¥ng g√¢y ra l·ªói nh∆∞ sau:\neval_value = eval(my_string, {'a': 15, 'b': 2, 'pricision': 0}) Nh∆∞ng n·∫øu chuy·ªÉn bi·ªÉu th·ª©c n√†y sang b√™n safe_eval th√¨ l·∫°i g√¢y ra l·ªói:\nsafe_eval_value = safe_eval(my_string, {'a': 15, 'b': 2, 'pricision': 0} S·∫Ω c√≥ l·ªói nh∆∞ h√¨nh d∆∞·ªõi ƒë√¢y\nCh√∫ng ta c≈©ng c√≥ th·ªÉ thay ƒë·ªïi ch·∫ø ƒë·ªô safe_eval, theo m·∫∑c ƒë·ªãnh khi ch√∫ng ta g·ªçi safe_eval, odoo s·∫Ω th·ª±c thi module eval c·ªßa python.\nNh∆∞ng ch√∫ng ta c≈©ng c√≥ th·ªÉ thay th·∫ø module eval b·∫±ng 1 module kh√°c, v√≠ d·ª• nh∆∞ ƒëo·∫°n code d∆∞·ªõi ƒë√¢y:\nmy_string = \u0026quot;c = a + b\u0026quot; my_value = {'c': 1} print('my_value==before==', my_value) # my_value==before== {'c': 1} safe_eval(my_string, {'a': 4, 'b': 7}, my_value, mode=\u0026quot;exec\u0026quot;, nocopy=True) print('my_value==after==', my_value) # my_value==after== {'c': 11} Trong tr∆∞·ªùng h·ª£p b·∫°n kh√¥ng r√µ, n·∫øu ch√∫ng ta truy·ªÅn bi·ªÉu th·ª©c c = a + b v√†o module eval, n√≥ s·∫Ω g√¢y ra l·ªói b·ªüi v√¨ c = a + b\nkh√¥ng ph·∫£i l√† 1 bi·ªÉu th·ª©c. Nh∆∞ng n·∫øu b·∫£n truy·ªÅn mode=‚Äúexec th√¨ ƒëo·∫°n code tr√™n s·∫Ω kh√¥ng g√¢y ra l·ªói. Nh∆∞ng v·ªõi mode=‚Äúexec‚Äù\nth√¨ s·∫Ω kh√¥ng tr·∫£ v·ªÅ gi√° tr·ªã, do ƒë√≥ ch√∫ng ta ph·∫£i truy·ªÅn v√†o ƒë·ªëi s·ªë th·ª© 3 l√† bi·∫øn my_value ƒë·ªÉ l∆∞u tr·ªØ gi√° tr·ªã t√≠nh to√°n.\nL∆∞u √Ω ch√∫t l√† n·∫øu nh∆∞ b·∫°n g·ªçi module safe_eval ·ªü ch·∫ø ƒë·ªô th·ª±c thi, ch√∫ng ta ph·∫£i ƒë·∫∑t gi√° tr·ªã c·ªßa ƒë·ªëi s·ªë no_copy = True, n·∫øu kh√¥ng\ngi√° tr·ªã my_value s·∫Ω kh√¥ng thay ƒë·ªïi.\nV·∫≠y, trong Odoo safe_eval ƒë∆∞·ª£c s·ª≠ d·ª•ng ch√≠nh ƒë·ªÉ l√†m g√¨?.\nƒê·∫ßu ti√™n safe_eval ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ƒë√°nh gi√°, validate 1 mi·ªÅn chu·ªói. V√≠ d·ª• trong module pos_loyalty trong odoo 14 enterprise. Ho·∫∑c trong\nmodule m√¨nh c√≥ vi·∫øt ·ªü ƒë√¢y ƒë·ªÉ gi·ªõi h·∫°n ƒë·ªông quy·ªÅn truy c·∫≠p n√∫t in.\nTrong module n√†y m√¨nh c√≥ vi·∫øt 1 field l√† condition v·ªõi ki·ªÉu d·ªØ li·ªáu l√† Char, trong view m√¨nh cho hi·ªÉn th·ªã l√™n tr∆∞·ªùng n√†y v·ªõi\nwidget l√† domain m·∫∑c ƒë·ªãnh c·ªßa odoo. Widget n√†y cho m·ªçi ng∆∞·ªùi vi·∫øt domain m·ªôt c√°ch d·ªÖ d√†ng v√† domain ng∆∞·ªùi d√πng nh·∫≠p v√†o v·∫´n ƒë∆∞·ª£c l∆∞u d∆∞·ªõi d·∫°ng Char\nB·ªüi v√¨ t√™n mi·ªÅn ƒë∆∞·ª£c l∆∞u d∆∞·ªõi d·∫°ng Char trong c∆° s·ªü d·ªØ li·ªáu, n√™n t·∫•t nhi√™n ch√∫ng ta kh√¥ng th·ªÉ chuy·ªÉn t√™n mi·ªÅn tr·ª±c ti·∫øp ƒë·∫øn ph∆∞∆°ng th·ª©c t√¨m ki·∫øm ho·∫∑c\nb·∫•t k·ª≥ m·∫≠t ph∆∞∆°ng th·ª©c v√†o kh√°c ƒë∆∞·ª£c. V√¨ v·∫≠y ch√∫ng ta ph·∫£i thay ƒë·ªïi n√≥ th√†nh 1 domain h·ª£p l·ªá l√† 1 List, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng ƒëi·ªÅu n√†y b·∫±ng c√°ch s·ª≠\nd·ª•ng safe_eval. Tuy nhi√™n ƒë·ªëi v·ªõi Odoo, c√°ch convert t·ª´ string qua List c≈©ng kh√¥ng nh·∫•t qu√°n, nh∆∞ ·ªü trong module coupon vi·ªác n√†y\ns·ª≠ d·ª•ng b·ªüi module ast c≈©ng l√† m·ªôt module c√≥ s·∫µn trong python.\nM·ªôt tr∆∞·ªùng h·ª£p kh√°c m√† Odoo s·ª≠ d·ª•ng safe_eval ƒë√≥ l√† vi·ªác t√≠nh to√°n b√°o c√°o l√£i l·ªó v√† b·∫£ng c√¢n ƒë·ªëi k·∫ø to√°n trong Odoo enterprise. B·∫°n c√≥ th·ªÉ\nt√¨m th·∫•y n√≥ theo K·∫ø to√°n ¬ª C·∫•u h√¨nh ¬ª\u0026gt; B√°o c√°o t√†i ch√≠nh ¬ª L√£i l·ªó\nM√¨nh s·∫Ω v√≠ d·ª• th√™m nh∆∞ sau:\nmy_string = 'S00006 + S00007' Ch√∫ng ta s·∫Ω s·ª≠ l√Ω chu·ªói n√†y, l·∫•y n√≥ ra ƒë·ªÉ t√≠nh to√°n c≈©ng nh∆∞ t√¨m ki·∫øm. ƒê·∫ßu ti√™n m√¨nh s·∫Ω t·∫°o ra 1 class ƒë∆∞·ª£c k·∫ø th·ª´a t·ª´ l·ªõp Dict\nclass DataSet(dict): def __init__(self, model, field_to_search, field_to_calculate): super().__init__() self.model = model self.field_to_search = field_to_search self.field_to_calculate = field_to_calculate def __getitem__(self, item): record = self.model.search([(self.field_to_search,'=',item)],limit=1) if record: return getattr(record, self.field_to_calculate) else: return 0 Sau ƒë√≥ khi ch√∫ng ta g·ªçi safe_eval, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng l·ªõp Dataset l√†m ƒë·ªëi s·ªë nh∆∞ ƒëo·∫°n code d∆∞·ªõi ƒë√¢y\nmy_string = 'S00006 + S00007' value = safe_eval(my_string,DataSet(self.env['sale.order'],'name','amount_total'), nocopy=True) Khi safe_Eval c·ªë g·∫Øng l·∫•y gi√° tr·ªã bi·ªÉu th·ª©c, safe_Eval s·∫Ω k√≠ch ho·∫°t ph∆∞∆°ng th·ª©c get_item_. ƒê√¢y l√† l√Ω do ch√∫ng ta ghi ƒë√® ph∆∞∆°ng th·ª©c ƒë·ªÉ n√†y ƒë·ªÉ tr·∫£ v·ªÅ gi√° tr·ªã ƒë·ªông.\nN·∫øu ch√∫ng ta s·ª≠ d·ª•ng safe_eval cho c√°c m·ª•c ƒë√≠ch kh√°c nhau, ch·∫≥ng h·∫°n nh∆∞ l·∫•y gi√° tr·ªã t·ªïng ph·ª• c·ªßa ƒë∆°n h√†ng, nh∆∞ ƒëo·∫°n code d∆∞·ªõi ƒë√¢y:\nmy_string = 'P00006 + P00007' value = safe_eval(my_string,DataSet(self.env['purchase.order'],'name','amount_untaxed'), nocopy=True) ƒê√≥ l√† t·∫•t c·∫£ nh·ªØng g√¨ m√¨nh vi·∫øt v·ªÅ sale_eval, ngay b·∫£n th√¢n t√™n c·ªßa safe_eval ƒë√£ ch·ª©ng minh r·∫±ng safe_eval s·∫Ω ƒë∆∞a m·ªôt s·ªë bi·ªÉu th·ª©c v√†o danh s√°ch ƒëen, m√¨nh\nhy v·ªçng khi s·ª≠ d·ª•ng , ·ª©ng d·ª•ng m√¨nh vi·∫øt c√≥ th·ªÉ an to√†n h∆°n üòÑ. B√†i vi·∫øt c√≤n nhi·ªÅu thi·∫øu s√≥t, mong c√°c b·∫°n th√¥ng c·∫£m nha.\n","description":"","id":24,"section":"posts","tags":["Odoo","Python"],"title":"C√°ch s·ª≠ d·ª•ng safe_eval trong Odoo","uri":"https://hungpt.info/en/posts/safe_eval_in_odoo/"},{"content":"Xin ch√†o m·ªçi ng∆∞·ªùi. H√¥m nay ch√∫ng ta s·∫Ω c√πng t√¨m hi·ªÉu v·ªÅ VPN trong AWS.\n","description":"","id":25,"section":"posts","tags":["Devops"],"title":"[D√†nh cho Beginner] VPN trong AWS","uri":"https://hungpt.info/en/posts/vpn_in_aws/"},{"content":"Xin ch√†o m·ªçi ng∆∞·ªùi. H√¥m nay ch√∫ng ta s·∫Ω c√πng t√¨m hi·ªÉu v·ªÅ IAM (Identity and Access Management) trong AWS.\nCh·∫Øc h·∫≥n khi m·ªõi b·∫Øt ƒë·∫ßu t√¨m hi·ªÉu v·ªÅ Amazon Web Services, IAM l√† m·ªôt trong nh·ªØng kh√°i ni·ªám m√† ch√∫ng ta ti·∫øp x√∫c ƒë·∫ßu ti√™n. C√πng b·∫Øt ƒë·∫ßu th√¥i!\n1.IAM (Identity and Access Management) l√† g√¨? IAM (Identity and Access Management) t·∫°m d·ªãch l√† ‚ÄúQu·∫£n l√Ω truy c·∫≠p v√† nh·∫≠n d·∫°ng‚Äù l√† m·ªôt d·ªãch v·ª• web gi√∫p b·∫°n ki·ªÉm so√°t\ntruy c·∫≠p an to√†n v√†o c√°c t√†i nguy√™n AWS. B·∫°n s·ª≠ d·ª•ng IAM ƒë·ªÉ ki·ªÉm so√°t ai ƒë∆∞·ª£c x√°c th·ª±c (ƒëƒÉng nh·∫≠p) v√† ƒë∆∞·ª£c ·ªßy quy·ªÅn (c√≥ quy·ªÅn) ƒë·ªÉ s·ª≠ d·ª•ng t√†i nguy√™n.\nIAM cung c·∫•p cho b·∫°n m·ªôt s·ªë t√≠nh nƒÉng sau:\n Chia s·∫ª quy·ªÅn truy c·∫≠p v√†o t√†i kho·∫£n AWS c·ªßa b·∫°n: B·∫°n c√≥ th·ªÉ c·∫•p cho ng∆∞·ªùi kh√°c quy·ªÅn qu·∫£n tr·ªã v√† s·ª≠ d·ª•ng t√†i nguy√™n trong t√†i kho·∫£n AWS c·ªßa b·∫°n m√† kh√¥ng ph·∫£i chia s·∫ª m·∫≠t kh·∫©u ho·∫∑c kh√≥a truy c·∫≠p. C·∫•p ph√©p chi ti·∫øt: B·∫°n c√≥ th·ªÉ c·∫•p c√°c quy·ªÅn kh√°c nhau cho nh·ªØng ng∆∞·ªùi kh√°c nhau s·ª≠ d·ª•ng c√°c t√†i nguy√™n kh√°c nhau. Truy c·∫≠p an to√†n v√†o t√†i nguy√™n AWS cho c√°c ·ª©ng d·ª•ng ch·∫°y tr√™n Amazon EC2 B·∫°n c√≥ th·ªÉ cung c·∫•p th√¥ng tin ƒëƒÉng nh·∫≠p an to√†n cho c√°c ·ª©ng d·ª•ng ch·∫°y tr√™n c√°c phi√™n b·∫£n EC2 X√°c th·ª±c ƒëa y·∫øu t·ªë (MFA): B·∫°n c√≥ th·ªÉ th√™m x√°c th·ª±c hai y·∫øu t·ªë v√†o t√†i kho·∫£n c·ªßa m√¨nh v√† cho t·ª´ng ng∆∞·ªùi d√πng ƒë·ªÉ b·∫£o m·∫≠t h∆°n. Th√¥ng tin nh·∫≠n d·∫°ng ƒë·ªÉ ƒë·∫£m b·∫£o: N·∫øu b·∫°n s·ª≠ d·ª•ng AWS CloudTrail, b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c c√°c b·∫£n ghi nh·∫≠t k√Ω bao g·ªìm th√¥ng tin v·ªÅ nh·ªØng ng∆∞·ªùi ƒë√£ y√™u c·∫ßu t√†i nguy√™n trong t√†i kho·∫£n c·ªßa b·∫°n. Th√¥ng tin ƒë√≥ d·ª±a tr√™n danh t√≠nh IAM. S·ª≠ d·ª•ng mi·ªÖn ph√≠: IAM ƒë∆∞·ª£c cung c·∫•p mi·ªÖn ph√≠. B·∫°n ch·ªâ ph·∫£i tr·∫£ ph√≠ cho vi·ªác s·ª≠ d·ª•ng c√°c d·ªãch v·ª• c·ªßa AWS tr√™n t√†i kho·∫£n c·ªßa b·∫°n.  2. User, Group, Role, Policy IAM l√† kh√°i ni·ªám v√¥ c√πng quan tr·ªçng trong b·∫£o m·∫≠t c·ªßa AWS. Hi·ªÉu v·ªÅ c√°ch IAM ho·∫°t ƒë·ªông ch√≠nh l√† hi·ªÉu v·ªÅ vi·ªác x√°c th·ª±c, c·∫•p ph√©p v√† u·ª∑ quy·ªÅn trong AWS.\nKhi ƒëƒÉng k√≠ v√† truy c·∫≠p t√†i kho·∫£n, ƒë·∫ßu ti√™n, b·∫°n s·∫Ω ƒëƒÉng nh·∫≠p v·ªõi t∆∞ c√°ch l√† ng∆∞·ªùi d√πng g·ªëc (T√†i kho·∫£n root)\nTuy nhi√™n, khi b·∫°n s·ª≠ d·ª•ng th√¥ng tin ƒëƒÉng nh·∫≠p t√†i kho·∫£n root, b·∫°n c√≥ quy·ªÅn truy c·∫≠p ƒë·∫ßy ƒë·ªß, kh√¥ng h·∫°n ch·∫ø v√†o t·∫•t c·∫£ c√°c t√†i nguy√™n trong t√†i kho·∫£n AWS c·ªßa b·∫°n, bao g·ªìm quy·ªÅn truy c·∫≠p v√†o th√¥ng tin thanh to√°n v√† kh·∫£ nƒÉng thay ƒë·ªïi m·∫≠t kh·∫©u c·ªßa b·∫°n. M·ª©c truy c·∫≠p n√†y l√† c·∫ßn thi·∫øt khi b·∫°n l·∫ßn ƒë·∫ßu ti√™n thi·∫øt l·∫≠p t√†i kho·∫£n c·ªßa m√¨nh. Tuy nhi√™n, v√¨ l√Ω do b·∫£o m·∫≠t cho c·∫£ b·∫£n th√¢n v√† nh·ªØng ng∆∞·ªùi kh√°c c·∫ßn l√†m vi·ªác v·ªõi t√†i nguy√™n AWS c·ªßa b·∫°n, AWS khuy√™n b·∫°n kh√¥ng n√™n s·ª≠ d·ª•ng th√¥ng tin x√°c th·ª±c ng∆∞·ªùi d√πng root ƒë·ªÉ truy c·∫≠p v√† s·ª≠ d·ª•ng AWS, thay v√†o ƒë√≥ l√† vi·ªác s·ª≠ d·ª•ng t√†i kho·∫£n IAM User. ƒê√≥ c≈©ng l√† l√Ω do v√¨ sao ch√∫ng ta c·∫ßn hi·ªÉu r√µ c√°c kh√°i ni·ªám ti·∫øp sau ƒë√¢y v·ªÅ User, Group, Role, Policy.\nCh√∫ng ta h√£y nh√¨n v√†o s∆° ƒë·ªì d∆∞·ªõi ƒë√¢y ƒë·ªÉ hi·ªÉu t·ª´ng kh√°i ni·ªám.\nUser L√† t√†i kho·∫£n v·ªõi s·ª± u·ª∑ nhi·ªám (Credentials) vƒ©nh vi·ªÖn, ƒë∆∞·ª£c t·∫°o v√† c·∫•p quy·ªÅn b·ªùi t√†i kho·∫£n root. Ch√∫ng ta ƒëƒÉng nh·∫≠p v√†o User b·∫±ng. 1 User bao g·ªìm user name, console password, accesskey,‚Ä¶\nGroup L√† 1 nh√≥m bao g·ªìm nhi·ªÅu user. ƒê·ªìng th·ªùi, 1 user c≈©ng c√≥ th·ªÉ thu·ªôc v·ªÅ nhi·ªÅu group.\nRole L√† 1 t·∫≠p c√°c quy·ªÅn m√† b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë·ªÉ truy c·∫≠p c√°c t√†i nguy√™n AWS m√† b·∫°n c·∫ßn. Tuy nhi√™n, b·∫°n kh√¥ng ƒëƒÉng nh·∫≠p v√†o role, role kh√¥ng c√≥ password or access keys m√† b·∫°n c√≥ th·ªÉ switch sang role sau khi ƒëƒÉng nh·∫≠p b·∫±ng user c·ªßa b·∫°n. C√≥ th·ªÉ hi·ªÉu role l√† m·ªôt t√†i kho·∫£n v·ªõi s·ª± u·ª∑ nhi·ªám (Credentials) t·∫°m th·ªùi ƒë·ªÉ gi·∫£i quy·∫øt nh·ªØng c·ªìng vi·ªác kh√°c nhau v·ªõi vai tr√≤ kh√°c nhau.\nPolicy L√† 1 ƒë·ªëi t∆∞·ª£ng khi li√™n k·∫øt v·ªõi user, group hay role th√¨ s·∫Ω ƒë·ªãnh nghƒ©a quy·ªÅn c·ªßa ch√∫ng.\nM·ªçi th·ª© trong AWS ƒë·ªÅu l√† API, ƒëi·ªÅu n√†y r·∫•t quan tr·ªçng, n√≥ c≈©ng c√≥ nghƒ©a l√† ƒë·ªÉ th·ª±c thi API, tr∆∞·ªõc h·∫øt ch√∫ng ta ph·∫£i x√°c th·ª±c, nh∆∞ng sau ƒë√≥ ch√∫ng ta ph·∫£i ·ªßy quy·ªÅn. ƒê√≥ ch√≠nh l√† l√Ω do v√¨ sao ch√∫ng ta c·∫ßn c√≥ Policy.\nPolicy l√† nh·ªØng file JSON ƒë∆∞·ª£c ƒë√≠nh k√®m tr·ª±c ti·∫øp v√†o User, Group ho·∫∑c Role. 1 Policy s·∫Ω c√≥ d·∫°ng c·∫•u tr√∫c c∆° b·∫£n nh∆∞ sau:\n { \u0026quot;Version\u0026quot;: \u0026quot;2012-10-17\u0026quot;, \u0026quot;Statement\u0026quot;: [ { \u0026quot;Sid\u0026quot;: \u0026quot;Stmt1571671788500\u0026quot;, \u0026quot;Action\u0026quot;: [ \u0026quot;ec2:CreateImage\u0026quot;, \u0026quot;ec2:CreateNetworkAcl\u0026quot;, \u0026quot;ec2:CreateNetworkAclEntry\u0026quot;, \u0026quot;ec2:CreateVpc\u0026quot; ], \u0026quot;Effect\u0026quot;: \u0026quot;Allow\u0026quot;, \u0026quot;Resource\u0026quot;: \u0026quot;*\u0026quot; }, { \u0026quot;Sid\u0026quot;: \u0026quot;Stmt1571717009297\u0026quot;, \u0026quot;Action\u0026quot;: [ \u0026quot;s3:CreateBucket\u0026quot;, \u0026quot;s3:CreateJob\u0026quot;, \u0026quot;s3:DeleteBucket\u0026quot;, \u0026quot;s3:DeleteBucketPolicy\u0026quot;, \u0026quot;s3:DeleteBucketWebsite\u0026quot;, \u0026quot;s3:DeleteObject\u0026quot; ], \u0026quot;Effect\u0026quot;: \u0026quot;Allow\u0026quot;, \u0026quot;Resource\u0026quot;: \u0026quot;*\u0026quot; } ] } Version : Phi√™n b·∫£n c·ªßa ng√¥n ng·ªØ policy\nStatement: L√† th√†nh ph·∫ßn ch√≠nh cho m·ªôt Policy. Ph·∫ßn t·ª≠ n√†y l√† b·∫Øt bu·ªôc. Statement c√≥ th·ªÉ ch·ª©a m·ªôt c√¢u l·ªánh ho·∫∑c m·ªôt m·∫£ng c√°c c√¢u l·ªánh ri√™ng l·∫ª. M·ªói kh·ªëi c√¢u l·ªánh ri√™ng l·∫ª ph·∫£i ƒë∆∞·ª£c ƒë·∫∑t trong d·∫•u ngo·∫∑c nh·ªçn {}. Nhi·ªÅu c√¢u l·ªánh, m·∫£ng ph·∫£i ƒë∆∞·ª£c ƒë·∫∑t trong d·∫•u ngo·∫∑c vu√¥ng [].\n Sid: (statement ID) l√† m·ªôt ID tu·ª≥ ch·ªçn b·∫°n cung c·∫•p cho m·ªói c√¢u l·ªánh trong statement, Effect: L√† 1 th√†nh ph·∫ßn b·∫Øt bu·ªôc v√† ch·ªâ ƒë·ªãnh k·∫øt qu·∫£ statement ƒë∆∞·ª£c ch·∫•p nh·∫≠n ho·∫∑c t·ª´ ch·ªëi (Alllow/Deny) Action: M√¥ t·∫£ h√†nh ƒë·ªông ho·∫∑c h√†nh ƒë·ªông c·ª• th·ªÉ s·∫Ω ƒë∆∞·ª£c ph√©p ho·∫∑c b·ªã t·ª´ ch·ªëi. Resource: Ch·ªâ ƒë·ªãnh nh·ªØng t√†i nguy√™n AWS ƒë∆∞·ª£c √°p d·ª•ng trong c√°c Action. Condition: Ch·ªâ ƒë·ªãnh c√°c ƒëi·ªÅu ki·ªán b·∫Øt bu·ªôc ƒë·ªÉ policy c√≥ hi·ªáu l·ª±c V·ªõi Policy, ch√∫ng ta c√≥ th·ªÉ quy ƒë·ªãnh r√µ User, Group hay Role c√≥ quy·ªÅn h·∫°n s·ª≠ d·ª•ng nh·ªØng t√†i nguy√™n n√†o.  B·∫°n c√≥ th·ªÉ d·ªÖ d√†ng qu·∫£n l√Ω User, Group c≈©ng nh∆∞ Role trong t√†i kho·∫£n AWS c·ªßa m√¨nh t·∫°i m·ª•c Identity and Access Management (IAM) tr√™n giao di·ªán AWS Management Console.\nT√≥m t·∫Øt V·∫≠y nh·ªØng ƒëi·ªÅu ch√∫ng ta c·∫ßn hi·ªÉu m·ªôt c√°ch ng·∫Øn g·ªçn v·ªÅ IAM ƒë√≥ l√†:\nIAM gi√∫p ch√∫ng ta x√°c th·ª±c v√† u·ª∑ quy·ªÅn khi s·ª≠ d·ª•ng t√†i nguy√™n AWS.\nT√†i kho·∫£n root t·∫°o ra c√°c t√†i kho·∫£n user. C√°c user n√†y thu·ªôc v·ªÅ c√°c group nh·∫•t ƒë·ªãnh.\nCh√∫ng ta ƒëƒÉng nh·∫≠p v√†o user, switch sang role v·ªõi 1 vai tr√≤ nh·∫•t ƒë·ªãnh ƒëi k√®m v·ªõi c√°c quy·ªÅn s·ª≠ d·ª•ng t√†i nguy√™n ƒë∆∞·ª£c quy ƒë·ªãnh d·ª±a v√†o policy.\nHy v·ªçng c√≥ th·ªÉ gi√∫p m·ªçi ng∆∞·ªùi hi·ªÉu v·ªÅ IAM.\nC·∫£m ∆°n c√°c b·∫°n ƒë√£ theo d√µi blog! H·∫πn g·∫∑p l·∫°i v√†o nh·ªØng blog ti·∫øp theo!\n","description":"","id":26,"section":"posts","tags":["AWS","Devops"],"title":"[D√†nh cho Beginner] IAM trong AWS","uri":"https://hungpt.info/en/posts/aws_lab_1/"},{"content":"Xin ch√†o m·ªçi ng∆∞·ªùi. H√¥m nay ch√∫ng ta s·∫Ω c√πng t√¨m hi·ªÉu v·ªÅ VPC (Virtual Private Cloud) trong AWS.\nT·ªïng quan v·ªÅ VPC Virtual Private Cloud l√† g√¨ ? Amazon Virtual Private Cloud (Amazon VPC) l√† d·ªãch v·ª• cho ph√©p b·∫°n kh·ªüi ch·∫°y c√°c t√†i nguy√™n AWS trong m·∫°ng ·∫£o c√¥ l·∫≠p theo\nlogic m√† b·∫°n x√°c ƒë·ªãnh.\nB·∫°n c√≥ to√†n quy·ªÅn ki·ªÉm so√°t m√¥i tr∆∞·ªùng m·∫°ng ·∫£o c·ªßa m√¨nh, bao g·ªìm l·ª±a ch·ªçn d·∫£i ƒë·ªãa ch·ªâ IP, t·∫°o c√°c m·∫°ng con,\nc·∫•u h√¨nh c√°c b·∫£ng ƒë·ªãnh tuy·∫øn v√† c·ªïng k·∫øt n·ªëi m·∫°ng. B·∫°n c√≥ th·ªÉ d√πng c·∫£ IPv4 v√† IPv6 cho h·∫ßu h·∫øt c√°c t√†i nguy√™n trong ƒë√°m\nm√¢y ri√™ng ·∫£o, gi√∫p b·∫£o m·∫≠t nghi√™m ng·∫∑t v√† truy c·∫≠p d·ªÖ d√†ng c√°c t√†i nguy√™n c≈©ng nh∆∞ ·ª©ng d·ª•ng.\nL√† m·ªôt trong c√°c d·ªãch v·ª• n·ªÅn t·∫£ng c·ªßa AWS, Amazon VPC s·∫Ω gi√∫p b·∫°n d·ªÖ d√†ng t√πy ch·ªânh c·∫•u h√¨nh m·∫°ng c·ªßa VPC. B·∫°n c√≥ th·ªÉ\nt·∫°o m·ªôt m·∫°ng con c√¥ng khai cho c√°c m√°y ch·ªß web c√≥ quy·ªÅn truy c·∫≠p internet. D·ªãch v·ª• n√†y c≈©ng cho ph√©p b·∫°n ƒë·∫∑t c√°c h·ªá\nth·ªëng backend, nh∆∞ m√°y ch·ªß ·ª©ng d·ª•ng ho·∫∑c c∆° s·ªü d·ªØ li·ªáu, trong m·∫°ng con ri√™ng t∆∞ kh√¥ng c√≥ quy·ªÅn truy c·∫≠p internet. V·ªõi\nAmazon VPC, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng nhi·ªÅu l·ªõp b·∫£o m·∫≠t, bao g·ªìm c√°c nh√≥m b·∫£o m·∫≠t v√† danh s√°ch ki·ªÉm so√°t truy c·∫≠p m·∫°ng, ƒë·ªÉ gi√∫p\nki·ªÉm so√°t quy·ªÅn truy c·∫≠p v√†o c√°c phi√™n b·∫£n Amazon EC2 trong m·ªói m·∫°ng con.\n","description":"","id":27,"section":"posts","tags":["VPC","AWS","Devops","CI/CD"],"title":"[D√†nh cho Beginner] VPC trong AWS","uri":"https://hungpt.info/en/posts/vpc_in_aws/"},{"content":"M√¨nh s·∫Ω quay tr·ªü l·∫°i s·ªõm v·ªõi lo·∫°i b√†i v·ªÅ K8s nh√© üòÑ‚Ä¶\n","description":"","id":28,"section":"posts","tags":["Devops","AWS"],"title":"[K8S] - Ph·∫ßn 1: K8S l√† g√¨ ?","uri":"https://hungpt.info/en/posts/k8s_la_gi_part1/"},{"content":"Trong b√†i vi·∫øt l·∫ßn n√†y ch√∫ng ta s·∫Ω c√πng hi·ªÉu 2 thu·∫≠t ng·ªØ Mount v√† Unmount. Trong ƒë√≥ Mount c√≥ nghƒ©a l√† g·∫Øn v√†o, Unmount\nnghƒ©a l√† th√°o ra g·ª° ra.\nƒê√¢y l√† 2 thu·∫≠t ng·ªØ ch√∫ng ta s·∫Ω d√πng r·∫•t nhi·ªÅu khi l√†m vi·ªác v·ªõi Reactjs, c·ª• th·ªÉ l√†m l√†m vi·ªác v·ªõi component.\nƒê·ªÉ v√≠ d·ª• cho c√°c b·∫°n v·ªÅ 2 thu·∫≠t ng·ªØ n√†y m√¨nh s·∫Ω t·∫°o ra m·ªôt component ƒë∆∞·ª£c vi·∫øt trong file Content.js nh∆∞ sau:\n1 2 3 4 5 6  function Content() { return ( \u0026lt;h1\u0026gt; Xin chao \u0026lt;/h1\u0026gt; ) } export default Content   Sau ƒë√≥ m√¨nh s·∫Ω th√™m component Content n√†y v√†o file App.js nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10  import Content from \u0026#34;./Content\u0026#34;; function App() { return ( \u0026lt;div style={{padding: 32}}\u0026gt; \u0026lt;Content/\u0026gt; \u0026lt;/div\u0026gt; ) } export default App;   B√¢y gi·ªù m√¨nh s·∫Ω th√™m 1 state v√†o ƒë·ªÉ quy·∫øt ƒë·ªãnh vi·ªác ·∫©n hi·ªán c·ªßa component Content n√†y,sau ƒë√≥ th√™m 1 button click ƒë·ªÉ ·∫©n hi·ªán n√≥\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  import {useState} from \u0026#34;react\u0026#34;; import Content from \u0026#34;./Content\u0026#34;; function App() { const [show,setShow] = useState(false) return ( \u0026lt;div style={{padding: 32}}\u0026gt; \u0026lt;button onClick={()=\u0026gt;setShow(!show)}\u0026gt; Click \u0026lt;/button\u0026gt; {show \u0026amp;\u0026amp; \u0026lt;Content/\u0026gt;} \u0026lt;/div\u0026gt; ) } export default App;   ƒê·ªÉ d·ªÖ h√¨nh dung h∆°n, m√¨nh c√≥ h√¨nh d∆∞·ªõi ƒë√¢y\nmount_unmount\nKhi ch√∫ng ta click v√†o button, d√≤ng \u0026lt;h 1\u0026gt; Xin chao \u0026lt;/h 1\u0026gt; s·∫Ω ƒë∆∞·ª£c mount v√† unmount v√†o trong DOM. Th·ª±c ch·∫•t m√¨nh l·∫•y v√≠ d·ª• trong DOM l√† cho c√°c b·∫°n d·ªÖ h√¨nh dung\nth·ª±c ra element cho t·ªõi khi ƒë∆∞·ª£c render v√†o DOM th√¨ th·∫≠t ra l√† b∆∞·ªõc sau c·ªßa mount r·ªìi üòÑ.\nH√†nh vi Mount v√† Unmount ƒë∆∞·ª£c di·ªÖn ra tr∆∞·ªõc ƒë√≥ r·ªìi, th√¨ t·∫°i sao l·∫°i nh∆∞ v·∫≠y? ƒê√≥ l√† v√¨ khi ch√∫ng ta click button, function App\ns·∫Ω ƒë∆∞·ª£c ch·∫°y l·∫°i, khi bi·∫øn show = True th√¨ component Content ƒë∆∞·ª£c g·ªçi, th√¨ t·∫°i th·ªùi ƒëi·ªÉm component Content ƒë∆∞·ª£c ƒë∆∞a v√†o React Element ƒë·ªÉ\ns·ª≠ d·ª•ng th√¥i th√¨ qu√° tr√¨nh Mount ƒë√£ x·∫£y ra ngay th·ªùi ƒëi·ªÉm n√†y r·ªìi.\nCh√∫ √Ω nh·ªè : th·ª±c ra ngay b·∫£n th√¢n App.js c≈©ng ƒë√£ ƒë∆∞·ª£c Mount khi ch√∫ng ta f5 tr√¨nh duy·ªát ƒë√≥ üòÑ b·∫°n th·ª≠ t√¨m hi·ªÉu th√™m t·∫°i sao l·∫°i nh∆∞ v·∫≠y nha.\n","description":"","id":29,"section":"posts","tags":["Reactjs","Javascript"],"title":"Mounted \u0026 Unmounted?","uri":"https://hungpt.info/en/posts/mount_and_unmount/"},{"content":"Trong b√†i vi·∫øt l·∫ßn n√†y, ch√∫ng ta h√£y c√πng t√¨m hi·ªÉu 1 hook m·ªõi trong ReactJS l√† useMemo v√† 1 HOC trong ReactJS l√† memo nh√©!üòÑ\nTrong qu√° tr√¨nh l√†m vi·ªác v·ªõi React, ch√∫ng ta s·∫Ω c√≥ l·ª±a ch·ªçn nh∆∞:\n Hooks render props higher-order-components (HOCs)\nM√¨nh s·∫Ω n√≥i c·ª• th·ªÉ h∆°n 3 ph·∫ßn n√†y kh√°c g√¨ nhau ·ªü b√†i vi·∫øt sau nh√© üòÑ  1. memo trong ReactJS m√¨nh c√≥ 1 ƒëo·∫°n code ƒë∆°n gi·∫£n nh∆∞ sau\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  import {useState} from \u0026#34;react\u0026#34;; import {useEffect} from \u0026#34;react\u0026#34;; import Content from \u0026#34;./Content\u0026#34;; import Chat_content from \u0026#34;./chat_fake/Chat_content\u0026#34;; import UseRef from \u0026#34;./use_ref/UseRef\u0026#34;; import Memo_content from \u0026#34;./memo/Memo_content\u0026#34;; function App() { const [show, setShow] = useState(false) const [number, setNumber] = useState(1) const handleSetnumber = () =\u0026gt; { setNumber(number+1) } return ( \u0026lt;div style={{padding: 32}}\u0026gt; \u0026lt;div\u0026gt; \u0026lt;Memo_content/\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; {number} \u0026lt;/div\u0026gt; \u0026lt;button onClick={handleSetnumber}\u0026gt; Click \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; ) } export default App;   V√† ƒë√¢y l√† code c·ªßa component Memo_content\n1 2 3 4 5 6 7 8 9 10 11 12  import {memo, useEffect, useState} from \u0026#34;react\u0026#34;; function Memo_content() { console.log(\u0026#39;render\u0026#39;) return ( \u0026lt;div\u0026gt; Hello \u0026lt;/div\u0026gt; ) } export default Memo_content;   Ch√∫ng ta c√≥ th·ªÉ th·∫•y, m·ªói khi click ƒë·∫© thay ƒë·ªïi state c·ªßa component cha th√¨ component con l√† Memo_content c≈©ng ƒë∆∞·ª£c\nrender l·∫°i m·∫∑c d√π component con kh√¥ng c√≥ g√¨ thay ƒë·ªïi. V·∫≠y ch√∫ng ta s·∫Ω x·ª≠ l√Ω v·∫•n ƒë·ªÅ n√†y nh∆∞ th·∫ø n√†o?\nR·∫•t ƒë∆°n gi·∫£n, b·∫°n ch·ªâ c·∫ßn th√™m memo ƒë·ªÉ wrap l·∫°i component con nh∆∞ sau:\n1  export default memo(Memo_content);   Th√¥ng th∆∞·ªùng v·ªõi nh·ªØng component n·∫∑ng v·ªÅ x·ª≠ l√Ω logic nh∆∞ bi·ªÉu ƒë·ªì, dashboard m√† ch√∫ng ta kh√¥ng mu·ªën render l·∫°i\ncomponent th√¨ n√™n d√πng c√°ch n√†y, c√≤n th√¥ng th∆∞·ªùng vi·ªác n√†y c≈©ng kh√¥ng qu√° quan tr·ªçng üòÑ theo m√¨nh l√† nh∆∞ v·∫≠y\n2. useMemo trong ReactJS V·∫≠y khi n√†o ch√∫ng ta s·ª≠ d·ª•ng useMemo? ƒê√ì l√† khi ch√∫ng ta kh√¥ng mu·ªën th·ª±c hi·ªán l·∫°i 1 logic n√†o ƒë√≥ kh√¥ng c·∫ßn thi·∫øt.\nV·∫≠y khi n√†o l√† kh√¥ng c·∫ßn thi·∫øt? Ch√∫ng ta h√£y c√πng t√¨m hi·ªÉu qua 1 v√≠ d·ª• ƒë∆°n gi·∫£n m√¨nh ƒë∆∞a ra ·ªü d∆∞·ªõi ƒë√¢y nh√©!\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55  import {useState} from \u0026#34;react\u0026#34;; function App() { const [name, setName] = useState(\u0026#39;\u0026#39;) const [price, setPrice] = useState(\u0026#39;\u0026#39;) const [products, setProducts] = useState([]) const handleSubmit = () =\u0026gt; { setProducts([...products,{ name, price: +price }]) } const total = products.reduce((result, pro) =\u0026gt; { console.log(\u0026#39;bi tinh toan lai\u0026#39;) return result + pro.price },0 ) return ( \u0026lt;div style={{ padding: \u0026#39;10px 200px\u0026#39; }}\u0026gt; \u0026lt;input value={name} placeholder=\u0026#39;Enter name...\u0026#39; onChange={event =\u0026gt; setName(event.target.value)} /\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;input value={price} placeholder=\u0026#39;Enter price...\u0026#39; onChange={event =\u0026gt; setPrice(event.target.value)} /\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;button onClick={handleSubmit} \u0026gt;Add\u0026lt;/button\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;br/\u0026gt; Total : {total} \u0026lt;ul\u0026gt; { products.map((product, index) =\u0026gt; ( \u0026lt;li key={index}\u0026gt;{product.name} - {product.price}\u0026lt;/li\u0026gt; )) } \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; ) } export default App;   V·ªÅ c∆° b·∫£n ·ª©ng d·ª•ng ƒë∆°n gi·∫£n l√† nh∆∞ v·∫≠yüòÑ\nTuy nhi√™n n·∫øu nh∆∞ b·∫°n ƒë·ªÉ √Ω, h√†m t√≠nh to√°n ra price c·ªßa m√¨nh lu√¥n b·ªã g·ªçi khi ch√∫ng ta nh·∫≠p\ngi√° tr·ªã v√†o √¥ price, m·∫∑c d√π khi ƒë√≥ ch√∫ng ta ch∆∞a c·∫ßn t√≠nh l·∫°i total. V√† ƒë√¢y l√†\nl√∫c ch√∫ng ta s·ª≠ d·ª•ng useMemo nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58  import {useState, useMemo} from \u0026#34;react\u0026#34;; function App() { const [name, setName] = useState(\u0026#39;\u0026#39;) const [price, setPrice] = useState(\u0026#39;\u0026#39;) const [products, setProducts] = useState([]) const handleSubmit = () =\u0026gt; { setProducts([...products,{ name, price: +price }]) } const total = useMemo(() =\u0026gt; { const total = products.reduce((result, pro) =\u0026gt; { console.log(\u0026#39;bi tinh toan lai\u0026#39;) return result + pro.price },0 ) },[products]) return ( \u0026lt;div style={{ padding: \u0026#39;10px 200px\u0026#39; }}\u0026gt; \u0026lt;input value={name} placeholder=\u0026#39;Enter name...\u0026#39; onChange={event =\u0026gt; setName(event.target.value)} /\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;input value={price} placeholder=\u0026#39;Enter price...\u0026#39; onChange={event =\u0026gt; setPrice(event.target.value)} /\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;button onClick={handleSubmit} \u0026gt;Add\u0026lt;/button\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;br/\u0026gt; Total : {total} \u0026lt;ul\u0026gt; { products.map((product, index) =\u0026gt; ( \u0026lt;li key={index}\u0026gt;{product.name} - {product.price}\u0026lt;/li\u0026gt; )) } \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; ) } export default App;   T∆∞∆°ng t·ª± nh∆∞ useEffect v√† useCallback, useMemo c≈©ng nh·∫≠n 2 ƒë·ªëi s·ªë,\nƒë·ªëi s·ªë th·ª© nh·∫•t l√† 1 callback, ƒë·ªëi s·ªë th·ª© 2 l√† 1 dependencies, nguy√™n t·∫Øc ho·∫°t ƒë·ªông\nc·ªßa dependencies c≈©ng t∆∞∆°ng t·ª± nh∆∞ useEffect v√† useCallback.\nHy v·ªçng b√†i vi·∫øt s·∫Ω gi√∫p √≠ch cho b·∫°n üòÄ, h·∫πn g·∫∑p l·∫°i m·ªçi ng∆∞·ªùi ·ªü nh·ªØng b√†i vi·∫øt sau.\n","description":"","id":30,"section":"posts","tags":["ReactJS","Javascript"],"title":"C√°ch s·ª≠ d·ª•ng useMemo v√† memo trong ReactJS","uri":"https://hungpt.info/en/posts/use_memo_in_reactjs/"},{"content":"Trong b√†i vi·∫øt l·∫ßn n√†y, ch√∫ng ta h√£y c√πng t√¨m hi·ªÉu 1 hook m·ªõi trong ReactJS l√† useRef nh√©!üòÑ\nV·∫≠y useRef ƒë∆∞·ª£c s·ª≠ d·ª•ng khi n√†o? V√† m·ª•c ƒë√≠ch s·ª≠ d·ª•ng c·ªßa hook n√†y l√† g√¨?\nƒê·∫ßu ti√™n m√¨nh s·∫Ω x√¢y d·ª±ng 1 ·ª©ng d·ª•ng ƒë·∫øm ng∆∞·ª£c ƒë∆°n gi·∫£n nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  import {useState, useEffect, useRef} from \u0026#34;react\u0026#34;; function Content() { const [number, setNumber] = useState(9000) const handle_start = () =\u0026gt; { setInterval(() =\u0026gt; { setNumber(preNumber =\u0026gt; preNumber - 1) },100) } const handle_stop = () =\u0026gt; { } return ( \u0026lt;div\u0026gt; \u0026lt;div style={ {\u0026#39;fontSize\u0026#39;: \u0026#39;100px\u0026#39;} }\u0026gt; {number} \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; \u0026lt;button onClick={handle_start} \u0026gt;Start\u0026lt;/button\u0026gt; \u0026lt;button onClick={handle_stop} \u0026gt;Stop\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ) } export default Content;   Giao di·ªán ƒë∆°n gi·∫£n n√≥ s·∫Ω nh∆∞ th·∫ø n√†y üòÑ\nB√†i to√°n m√¨nh s·∫Ω ƒëi gi·∫£i quy·∫øt ·ªü ƒë√¢y l√† sau khi b·∫•m n√∫t stop th√¨ ·ª©ng d·ª•ng ƒë·∫øm s·ªë s·∫Ω ng·ª´ng l·∫°i t·∫°i con s·ªë hi·ªán th·ªùi. Ch√∫ng ta ƒë√£ setInterval ·ªü button start,\nv·∫≠y ƒë·ªÉ stop ch√∫ng ta ch·ªâ c·∫ßn clearInterval ·ªü button stop th√¥i. Nh∆∞ng function clearInterval() nh·∫≠n ƒë·ªëi s·ªë truy·ªÅn v√†o l√† ID hi·ªán th·ªùi\nC√°ch ƒë∆°n gi·∫£n l√† ch√∫ng ta s·∫Ω th√™m 1 bi·∫øn l√† timeID v√† truy·ªÅn cho gi√° tr·ªã m·ªói khi setState l·∫°i nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  import {useState, useEffect, useRef} from \u0026#34;react\u0026#34;; function Content() { const [number, setNumber] = useState(9000) let timeId const handle_start = () =\u0026gt; { setInterval(() =\u0026gt; { timeId = setNumber(preNumber =\u0026gt; preNumber - 1) },100) console.log(\u0026#39;start\u0026#39;, timeId) } const handle_stop = () =\u0026gt; { clearInterval(timeId) console.log(\u0026#39;stop\u0026#39;, timeId) } return ( \u0026lt;div\u0026gt; \u0026lt;div style={ {\u0026#39;fontSize\u0026#39;: \u0026#39;100px\u0026#39;} }\u0026gt; {number} \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; \u0026lt;button onClick={handle_start} \u0026gt;Start\u0026lt;/button\u0026gt; \u0026lt;button onClick={handle_stop} \u0026gt;Stop\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ) } export default Content;   Nh∆∞ng b√†i to√°n v·∫´n ch∆∞a ƒë∆∞·ª£c gi·∫£i quy·∫øt? Ch√∫ng ta th·ª≠ xem log timeID hi·ªÉn th·ªã tr∆∞·ªõc v√† sau th·∫ø n√†o nh√©!\nV·∫≠y l√† bi·∫øn timeID kh√¥ng ƒë∆∞·ª£c l∆∞u l·∫°i? T·∫°i sao l·∫°i nh∆∞ v·∫≠y? ƒê√≥ l√† b·ªüi v√¨ bi·∫øn timeID c·ªßa ch√∫ng ta n·∫±m trong component v√† m·ªói khi state thay ƒë·ªïi component\ns·∫Ω render l·∫°i d·∫´n ƒë·∫øn bi·∫øn *** timeID*** s·∫Ω ƒë∆∞·ª£c set l·∫°i gi√° tr·ªã l·∫°i.\nƒê·ªÉ gi·∫£i quy·∫øt ƒë·ªãnh v·∫•n ƒë·ªÅ n√†y ch√∫ng ta c√≥ th·ªÉ cho bi·∫øn timeID ra ngo√†i function component, khi ƒë√≥, b√†i to√°n c·ªßa ch√∫ng ta s·∫Ω ƒë∆∞·ª£c gi·∫£i quy·∫øt\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39  import {useState, useEffect, useRef} from \u0026#34;react\u0026#34;; let timeId function Content() { const [number, setNumber] = useState(9000) const handle_start = () =\u0026gt; { timeId = setInterval(() =\u0026gt; { setNumber(preNumber =\u0026gt; preNumber - 1) },1000) console.log(\u0026#39;start\u0026#39;, timeId) } const handle_stop = () =\u0026gt; { clearInterval(timeId) console.log(\u0026#39;stop\u0026#39;, timeId) } return ( \u0026lt;div\u0026gt; \u0026lt;div style={ {\u0026#39;fontSize\u0026#39;: \u0026#39;100px\u0026#39;} }\u0026gt; {number} \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; \u0026lt;button onClick={handle_start} \u0026gt;Start\u0026lt;/button\u0026gt; \u0026lt;button onClick={handle_stop} \u0026gt;Stop\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ) } export default Content;   Tuy nhi√™n v·ªõi ReactJS ch√∫ng ta kh√¥ng n√™n l√†m th·∫ø üòÑ c√≥ nhi·ªÅu nguy√™n nh√¢n‚Ä¶‚Ä¶n√™n ·ªü ƒë√¢y ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng useRef.\nKhi ch√∫ng ta d√πng useRef ƒë·ªÉ l∆∞u gi√° tr·ªã, th√¨ khi ph·∫£i render l·∫°i m·ªôt function component, gi√° tr·ªã ƒë√£ l∆∞u s·∫Ω kh√¥ng b·ªã thay ƒë·ªïi, m√† v·∫´n gi·ªØ ƒë∆∞·ª£c gi√° tr·ªã ƒë√£ l∆∞u tr∆∞·ªõc ƒë√≥.\n useRef(initialValue) ch·∫•p nh·∫≠n ƒë·ªëi s·ªë l√† gi√° tr·ªã ƒë·∫ßu v√†o v√† tr·∫£ v·ªÅ m·ªôt tham chi·∫øu. Tham chi·∫øu l√† m·ªôt object ƒë·∫∑c bi·ªát c√≥ 1 thu·ªôc t√≠nh l√† current: reference.current C√≥ 2 ƒëi·ªÅu c·∫ßn nh·ªõ v·ªÅ useRef l√†:  G√≠a tr·ªã c·ªßa reference s·∫Ω ƒë∆∞·ª£c gi·ªØ nguy√™n khi component re-render Vi·ªác update reference s·∫Ω kh√¥ng l√†m cho component re-render   T·ªõi ƒë√¢y c√≥ th·ªÉ th·∫•y useRef() kh√° gi·ªëng v·ªõi state trong vi·ªác save 1 value, nh∆∞ng ƒëi·ªÉm kh√°c nhau l√† khi set l·∫°i state th√¨\ncomponent re-render, c√≤n v·ªõi useRef() th√¨ kh√¥ng. M·ªôt ƒëi·ªÉm n·ªØa l√† state update s·∫Ω ch·∫°y b·∫•t ƒë·ªìng b·ªô, c√≤n v·ªõi useRef() s·∫Ω update ngay l·∫≠p t·ª©c v√¨ ƒë∆∞·ª£c ch·∫°y ƒë·ªìng b·ªô.\nM√¨nh s·∫Ω s·ª≠a l·∫°i code s·ª≠ d·ª•ng useRef nh∆∞ sau:  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  import {useState, useEffect, useRef} from \u0026#34;react\u0026#34;; function Content() { const [number, setNumber] = useState(9000) const ref = useRef(99) let timeId = useRef(99) const handle_start = () =\u0026gt; { timeId.current = setInterval(() =\u0026gt; { setNumber(prevNumber =\u0026gt; prevNumber - 1) }, 1000) console.log(\u0026#39;start\u0026#39;, timeId.current) } const handle_stop = () =\u0026gt; { clearInterval(timeId.current) console.log(\u0026#39;stop\u0026#39;, timeId.current) } return ( \u0026lt;div\u0026gt; \u0026lt;div style={ {\u0026#39;fontSize\u0026#39;: \u0026#39;100px\u0026#39;} }\u0026gt; {number} \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; \u0026lt;button onClick={handle_start} \u0026gt;Start\u0026lt;/button\u0026gt; \u0026lt;button onClick={handle_stop} \u0026gt;Stop\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ) } export default Content;   L∆∞u √Ω: H·∫°n ch·∫ø vi·ªác s·ª≠ d·ª•ng useRef m√† thay v√†o ƒë√≥ n√™n s·ª≠ d·ª•ng state, ch·ªâ khi kh√¥ng th·ªÉ s·ª≠ d·ª•ng ƒë∆∞·ª£c state th√¨ m·ªõi d√πng useRef(), nh∆∞ tr∆∞·ªùng h·ª£p tuy c·∫≠p DOM.\nHi v·ªçng b√†i vi·∫øt s·∫Ω gi√∫p √≠ch ƒë∆∞·ª£c c√°c b·∫°n hi·ªÉu r√µ h∆°n khi n√†o th√¨ s·ª≠ d·ª•ng n√≥ v√† √°p d·ª•ng v√†o t·ª´ng tr∆∞·ªùng h·ª£p c·ª• th·ªÉ. N·∫øu c√≥ b·∫•t k√¨ th·∫Øc m·∫Øc hay g√≥p √Ω n√†o xin comment ph√≠a d∆∞·ªõi. M√¨nh xin c·∫£m ∆°n!\n","description":"","id":31,"section":"posts","tags":["Reactjs","Javascript"],"title":"C√°ch s·ª≠ d·ª•ng useRef trong ReactJS","uri":"https://hungpt.info/en/posts/use_ref/"},{"content":"G·ªâa s·ª≠ ch√∫ng c√≥ m·ªôt m·∫£ng c√°c ch·ªØ s·ªë nh∆∞ sau:\n1  const numbers = [2, 4, 6];   L√†m sao ch√∫ng ta c√≥ th·ªÉ t√≠nh t·ªïng c√°c ch·ªØ s·ªë trong m·∫£ng tr√™n. S·ª≠ d·ª•ng reduce trong javascript ch√∫ng ta c√≥ d·ªÖ d√†ng l√†m vi·ªác n√†y m√† kh√¥ng c·∫ßn s·ª≠ d·ª•ng v√≤ng l·∫∑p.\n1 2 3 4 5 6  const numbers = [2, 4, 6]; const sum = numbers.reduce(function(sum, number) { const updatedSum = sum + number; return updatedSum; }, 0); sum; // 12   Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu v·ªÅ ph∆∞∆°ng th·ª©c reduce v√† c√°ch s·ª≠ d·ª•ng array.reduce(callback, initialValue)\n1.Ph∆∞∆°ng th·ª©c reduce Tr∆∞·ªõc khi ƒëi s√¢u h∆°n v·ªÅ c√°ch s·ª≠ d·ª•ng array.reduce() ch√∫ng ta h√£y c√πng t√¨m hi·ªÉu reduce ƒë∆∞·ª£c s·ª≠ d·ª•ng l√†m m·ª•c ƒë√≠ch g√¨? ƒê√≥ ch√≠nh l√† gi·∫£m k√≠ch th∆∞·ªõc c·ªßa 1 m·∫£ng th√†nh\n1 gi√° tr·ªã duy nh·∫•t.\nM·ªôt v√≠ d·ª• kh√°c c·ªßa vi·ªác n√†y l√† x√°c ƒëinh ph·∫ßn t·ª´ l·ªõn nh·∫•t c·ªßa m·∫£ng [7,2,10,6] k·∫øt qu·∫£ ·ªü ƒë√¢y s·∫Ω l√† 10.\nQua ƒë√≥ ch√∫ng ta c√≥ th·ªÉ th·∫•y ƒë∆∞·ª£c r·∫±ng ph∆∞∆°ng th·ª©c reduce() m·ª•c ƒë√≠ch l√† ƒë·ªÉ th·ª±c hi·ªán thao t√°c r√∫t g·ªçn ph·∫ßn t·ª≠ trong m·∫£ng.\n2.Array.reduce() Array.reduce() c√≥ 2 ƒë·ªëi s·ªë truy·ªÅn v√†o:\n1  const value = array.reduce(callback[, initialValue]);   Trong ƒë√≥ callback l√† ƒë·ªëi s·ªë b·∫Øt bu·ªôc, initialValue kh√¥ng b√°t bu·ªôc v√† l√†m gi√° tr·ªã kh·ªüi t·∫°o.\nJavascript g·ªçi callback tr√™n m·ªói ph·∫ßn t·ª≠ c·ªßa m·∫£ng v·ªõi 4 ƒë·ªëi s·ªë (gi√° tr·ªã t√≠ch l≈©y, ph·∫ßn t·ª≠ hi·ªán t·∫°i c·ªßa m·∫£ng, index c·ªßa ph·∫ßn t·ª≠ hi·ªán t·∫°i trong m·∫£ng, m·∫£ng ch√≠nh)\n1 2 3 4 5  array.reduce(function(accumulator, item, index, array) { // Use `accumulator` and `item`  // to calculate `updatedAccumulator`...  return updatedAccumulator; })   M·ªôt v√≠ d·ª• c·ª• th·ªÉ h∆°n:\n1 2 3 4 5 6  const numbers = [2, 4, 6]; const sum = numbers.reduce(function summarize(sum, number) { const updatedSum = sum + number; return updatedSum; }, 0); sum; // 12   numbers.reduce(summarize, 0) d√πng ƒë·ªÉ t√≠nh t·ªïng t·∫•t c·∫£ c√°c ph·∫ßn t·ª≠ trong m·∫£ng\nNgo√†i ra h√£y l∆∞u √Ω ƒë·ªëi s·ªë th·ª© 2 numbers.reduce(summarize, 0) ƒë√≥ l√† t·ªïng c√°c ph·∫ßn t·ª≠ trong m·∫£ng ƒë∆∞·ª£c g√°n m·∫∑c ƒë·ªãnh ban ƒë·∫ßu l√† 0.\nV·∫≠y l√†m c√°ch n√†o ƒë·ªÉ t√¨m ph·∫ßn t·ª≠ l·ªõn nh·∫•t trong m·∫£ng khi ch√∫ng ta s·ª≠ d·ª•ng reduce()? B·∫°n h√£y t√¨m hi·ªÉu xem sao nh√©? üòÑ\n3. B·ªè qua gi√° tr·ªã kh·ªüi t·∫°o ban ƒë·∫ßu (initialValue) Gi√° tr·ªã n√†y s·∫Ω ƒë∆∞·ª£c kh·ªüi t·∫°o cho previousValue ·ªü l·∫ßn th·ª±c thi ƒë·∫ßu ti√™n. N·∫øu b·∫°n truy·ªÅn 1 initialValue th√¨ currentValue s·∫Ω ƒë∆∞·ª£c kh·ªüi t·∫°o l√† gi√° tr·ªã ƒë·∫ßu ti√™n c·ªßa m·∫£ng.\nN·∫øu kh√¥ng truy·ªÅn initialValue th√¨ previousValue ƒë∆∞·ª£c kh·ªüi t·∫°o l√† gi√° tr·ªã ƒë·∫ßu c·ªßa m·∫£ng v√† v√¨ th·∫ø currentValue s·∫Ω l√† gi√° tr·ªã th·ª© hai c·ªßa m·∫£ng.\nƒê·ªÉ d·ªÖ hi·ªÉu h∆°n th√¨ ch√∫ng ta c√πng xem m·ªôt v√≠ d·ª•:\n1 2 3  [0, 1, 2, 3, 4].reduce(function(previousValue, currentValue, currentIndex, array) { return previousValue + currentValue // 10 })   ƒê·∫øm s·ªë l·∫ßn xu·∫•t hi·ªán ph·∫ßn t·ª≠ trong m·∫£ng M·ªôt c√°ch ƒë·ªÉ ƒë·∫øm s·ªë l·∫ßn xu·∫•t hi·ªán c·ªßa ph·∫ßn t·ª≠ kh√° hay ch√≠nh l√† d√πng reduce üòÅ.\n1 2 3 4 5 6 7 8 9  let names = [\u0026#39;John\u0026#39;, \u0026#39;Bob\u0026#39;, \u0026#39;Jonas\u0026#39;, \u0026#39;Bruce\u0026#39;, \u0026#39;John\u0026#39;] let count = names.reduce(function (allNames, name) { if (name in allNames) allNames[name]++ else allNames[name] = 1 return allNames }, {}) // { \u0026#39;John\u0026#39;: 2, \u0026#39;Bob\u0026#39;: 1, \u0026#39;Jonas\u0026#39;: 1, \u0026#39;Bruce\u0026#39;: 1 }   ","description":"","id":33,"section":"posts","tags":["Reactjs","Javascript"],"title":"T√¨m hi·ªÉu v·ªÅ ph∆∞∆°ng th·ª©c Reduce trong Javascript","uri":"https://hungpt.info/en/posts/javascript-array-reduce/"},{"content":"useEffect l√† 1 hook c∆° b·∫£n trong Reactjs, nh∆∞ng khi b·∫°n m·ªõi h·ªçc s·∫Ω th·∫•y n√≥ h∆°i kh√≥ m·ªôt ch√∫tüòÅ. L√Ω do n√≥ kh√≥ kh√¥ng ph·∫£i v√¨ hook\nn√†y n√≥ kh√≥ m√† v√¨ ƒë·ªÉ c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë∆∞·ª£c hook n√†y ƒë√≤i h·ªèi b·∫°n ph·∫£i n·∫Øm v·ªØng ki·∫øn th·ª©c Javascript c∆° b·∫£n v√† n√¢ng cao. Th·∫ø n√™n\nn·∫øu b·∫°n ƒëi v√†o ƒë√¢y h·ªçc qu√° nhanh ho·∫∑c qu√™n m·∫•t ki·∫øn th·ª©c n·ªÅn th√¨ h·ªçc s·∫Ω b·ªã kh√≥.\n·ªû ƒë√¢y m√¨nh s·∫Ω review cho b·∫°n m·ªôt s·ªë ki·∫øn th·ª©c m√† b·∫°n n√™n n·∫Øm ch·∫Øc khi h·ªçc hook n√†y:\n Events : B·∫°n n√™n bi·∫øt c√°ch l√†m vi·ªác v·ªõi event trong javascript, bao g·ªìm c·∫£ Dom event v√† custom event do b·∫°n t·∫°o ra, bi·∫øt c√°ch s·ª≠ d·ª•ng add/remove event listener, hi·ªÉu t·∫°i sao ph·∫£i remove event listener Observer parttern : (Subscribe/unsubcribe) ƒê√¢y l√† 1 d·∫°ng tri·ªÉn khai m·ªü r√¥ng c·ªßa t∆∞ t∆∞·ªüng add/remove listener, b·∫£n ch·∫•t c≈©ng l√† d·∫°ng ƒë·∫ßu ti√™n nh∆∞ng tri·ªÉn khai ·ªü 1 d·∫°ng kh√°c B·∫°n c·∫ßn n·∫Øm r√µ kh√°i ni·ªám h√†m ƒë√≥ng Closure trong Javascript. Bi·∫øt c√°ch l√†m vi·ªác v·ªõi api d·∫°ng timer nh∆∞ setInterval, setTimeout, clearInterval, ClearTimeout. N·∫Øm ch·∫Øc hook useState. Hi·ªÉu r√µ khi n√†o mounted, khi n√†o unmounted.  Hook n√†y ƒë·ªÉ l√†m g√¨ v√† ch√∫ng ta d√πng n√≥ khi n√†o? Ch√∫ng ta s·∫Ω d√πng useEffect khi c√°c b·∫°n mu·ªën th·ª±c hi·ªán c√°c side effect, thu·∫≠t ng·ªØ n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng chung trong lƒ©nh v·ª±c ph·∫ßn m·ªÅm,\nside effect ƒëang n√≥i t·ªõi 1 ch∆∞∆°ng tr√¨nh ph·∫ßn m·ªÅm khi c√≥ 1 t√°c ƒë·ªông x·∫£y ra d·∫´n ƒë·∫øn d·ªØ li·ªáu b·ªã thay ƒë·ªïi. M√¨nh s·∫Ω ƒë∆∞a\ncho b·∫°n m·ªôt v√†i v√≠ du quen thu·ªôc ƒë·ªÉ b·∫°n d·ªÖ h√¨nh dung ƒë√≥ l√† khi b·∫°n update DOM, call api nh·∫≠n l·∫°i d·ªØ li·ªáu ƒë·ªÉ setState‚Ä¶.\nT√≥m l·∫°i useEffect s·∫Ω gi√∫p c√°c b·∫°n update DOM, call API, listen DOM event, remove event listener‚Ä¶\nuseEffect c√≥ 3 t√¨nh hu·ªëng ch√≠nh khi ch√∫ng ta s·ª≠ d·ª•ng:\n useEffect(callback) useEffect(callback,[]) useEffect(callback,[deps])\nH√£y c√πng m√¨nh ƒëi t√¨m hi·ªÉu t·ª´ng t√¨nh hu·ªëng v√† xem c√°ch useEffect ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o nh√©!  1. useEffect(callback) V·ªõi tr∆∞·ªùng h·ªçp n√†y, callback s·∫Ω ƒë∆∞·ª£c g·ªçi m·ªói khi component ƒë∆∞·ª£c mounted v√†o trong DOM\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  import {useState} from \u0026#34;react\u0026#34;; import { useEffect } from \u0026#34;react\u0026#34;; import Content from \u0026#34;./Content_blog\u0026#34;; function App() { const [show,setShow] = useState(false) return ( \u0026lt;div style={{padding: 32}}\u0026gt; \u0026lt;button onClick={()=\u0026gt;setShow(!show)}\u0026gt; Click \u0026lt;/button\u0026gt; {show \u0026amp;\u0026amp; \u0026lt;Content/\u0026gt;} \u0026lt;/div\u0026gt; ) } export default App;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  import { useEffect } from \u0026#34;react\u0026#34;; import {useState} from \u0026#34;react\u0026#34;; function Content() { const [title, setTitle] = useState(\u0026#39;\u0026#39;) useEffect(() =\u0026gt; { console.log(\u0026#39;test12\u0026#39;) }); return ( \u0026lt;div\u0026gt; \u0026lt;input value={title} onChange={(e)=\u0026gt; setTitle(e.target.value)} z /\u0026gt; \u0026lt;/div\u0026gt; ) } export default Content   ·ªü ƒë√¢y m√¨nh c√≥ vi·∫øt 1 useEffect m·ªói khi m√¨nh click button th√¨ √¥ input s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã\nNh∆∞ b·∫°n c√≥ th·ªÉ th·∫•y m·ªói khi click button, component s·∫Ω ƒë∆∞·ª£c render l·∫°i =\u0026gt; d·∫´n t·ªõi vi·ªác callback trong tr∆∞·ªùng h·ª£p useEffect\nn√†y s·∫Ω ƒë∆∞·ª£c g·ªçi l·∫°i, b·∫°n c√≥ th·ªÉ th·∫•y log b√™n d∆∞·ªõi tab console.\nTuy nhi√™n tr∆∞·ªùng h·ª£p ƒë·∫ßu ti√™n n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng kh√° √≠t trong th·ª±c t·∫ø v√† khi s·ª≠ d·ª•ng tr∆∞·ªùng h·ª£p n√†y ƒë·ªÉ call API update l·∫°i DOM c≈©ng s·∫Ω x·∫£y ra m·ªôt ƒëi·ªÅu üòÉ c√πng m√¨nh\nxem ƒë√≥ l√† g√¨ nh√©!\nB√¢y gi·ªù m√¨nh s·∫Ω call 1 api v√† update DOM, api m√¨nh s·∫Ω l·∫•y ·ªü https://jsonplaceholder.typicode.com.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  import { useEffect } from \u0026#34;react\u0026#34;; import {useState} from \u0026#34;react\u0026#34;; function Content() { const [title, setTitle] = useState(\u0026#39;\u0026#39;) const [posts, setPosts] = useState([]) useEffect( () =\u0026gt;{ fetch(\u0026#39;https://jsonplaceholder.typicode.com/posts\u0026#39;) .then(res =\u0026gt; res.json()) .then(posts =\u0026gt;{ setPosts(posts) }) } ) return ( \u0026lt;div\u0026gt; \u0026lt;input value={title} onChange={(e)=\u0026gt; setTitle(e.target.value)} z /\u0026gt; \u0026lt;ul\u0026gt; {posts.map(post =\u0026gt;( \u0026lt;li key={post.id}\u0026gt;{post.title}\u0026lt;/li\u0026gt; ))} \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; ) } export default Content   C√≥ v·∫ª m·ªçi th·ª© ƒë√£ ho·∫°t ƒë·ªông r·ªìi nh·ªâ, tuy nhi√™n b·∫°n h√£y c≈©ng nh√¨n tab network v·ªõi m√¨nh nh√©!\nAPI ƒë∆∞·ª£c g·ªçi li√™n t·ª•c trong 1 v√≤ng l·∫∑p v√¥ h·∫°n. T·∫°i sao l·∫°i nh∆∞ v·∫≠y? ƒê√≥ ch√≠nh l√† khi g·ªçi API xong, ch√∫ng ta g·ªçi l·∫°i h√†m setPost(), d·∫´n t·ªõi vi·ªác component\nƒë∆∞·ª£c render l·∫°i v√† r·ªìi theo nh∆∞ l√Ω thuy·∫øt c·ªßa useEffect l√† callback s·∫Ω ƒë∆∞·ª£c g·ªçi m·ªói khi component ƒë∆∞·ª£c mounted v√†o trong DOM d·∫´n t·ªõi vi·ªác x·∫£y ra v√≤ng l·∫∑p\nv√¥ h·∫°n ·ªü ƒë√¢y. Ch√≠nh ƒëi·ªÅu n√†y l√† nguy√™n nh√¢n m√† ch√∫ng ta c·∫ßn s·ª≠ d·ª•ng useEffect v·ªõi 2 tr∆∞·ªùng h·ª£p c√≤n l·∫°i ho·∫∑c c√≤n g·ªçi chung l√† useEffect v·ªõi dependencies.\n","description":"","id":34,"section":"posts","tags":["Reactjs","Javascript"],"title":"C√°ch s·ª≠ d·ª•ng useEffect trong ReactJS (Ph·∫ßn 1)","uri":"https://hungpt.info/en/posts/use_effect_part1/"},{"content":"·ªû ph·∫ßn 1, ch√∫ng ta ƒë√£ t√¨m hi·ªÉu v·ªÅ tr∆∞·ªùng h·ª£p ƒë·∫ßu ti√™n s·ª≠ d·ª•ng useEffect, c√πng hi·ªÉu t·∫°i sao ph·∫£i s·ª≠ d·ª•ng tham s·ªë th·ª© 2 trong useEffect. Trong\nph·∫ßn n√†y ch√∫ng ta s·∫Ω t√¨m hi·ªÉu r√µ h∆°n.\nƒê·ªÉ c√≥ th·ªÉ x·ª≠ l√Ω v·∫•n ƒë·ªÅ api call li√™n t·ª•c k d·ª´ng ·ªü ph·∫ßn 1, b·∫°n ch·ªâ c·∫ßn th√™m tham s·ªë th·ª© 2 trong useEffect c√≥ th·ªÉ l√† 1 m·∫£ng r·ªóng []\nho·∫∑c 1 m·∫£ng c√≥ gi√° tr·ªã [post‚Ä¶]\n1 2 3 4 5 6 7 8 9  useEffect( () =\u0026gt;{ fetch(\u0026#39;https://jsonplaceholder.typicode.com/posts\u0026#39;) .then(res =\u0026gt; res.json()) .then(posts =\u0026gt;{ setPosts(posts) }) },[] )   V·∫≠y trong tr∆∞·ªùng h·ª£p dependency array kh√¥ng ph·∫£i m·∫£ng r·ªóng th√¨ sao?\nN·∫øu m·∫£ng n√†y c√≥ ph·∫ßn t·ª≠, m·ªói khi gi√° tr·ªã c·ªßa ph·∫ßn t·ª≠ thay ƒë·ªïi, call back c·ªßa useEffect s·∫Ω ƒë∆∞·ª£c g·ªçi l·∫°i. V√≠ d·ª• trong ƒëo·∫°n code n√†y m√¨nh s·∫Ω s·ª≠a l·∫°i 1 ch√∫t nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47  import { useEffect } from \u0026#34;react\u0026#34;; import {useState} from \u0026#34;react\u0026#34;; const tabs = [\u0026#39;posts\u0026#39;,\u0026#39;comments\u0026#39;,\u0026#39;albums\u0026#39;] function Content() { const [title, setTitle] = useState(\u0026#39;\u0026#39;) const [posts, setPosts] = useState([]) const [types, setTypes] = useState([\u0026#39;posts\u0026#39;]) useEffect( () =\u0026gt;{ console.log(\u0026#39;title changed\u0026#39;) document.title = title; fetch(`https://jsonplaceholder.typicode.com/${types}`) .then(res =\u0026gt; res.json()) .then(posts =\u0026gt;{ setPosts(posts) }) },[types] ) return ( \u0026lt;div\u0026gt; {tabs.map(tab =\u0026gt; ( \u0026lt;button style={types ===tab ? { color : \u0026#39;#fff\u0026#39;, backgroundColor : \u0026#39;black\u0026#39; } : { coler : \u0026#39;fff\u0026#39;, backgroundColor : \u0026#39;blue\u0026#39; }} key={tab} onClick={() =\u0026gt;setTypes(tab)} \u0026gt;{tab}\u0026lt;/button\u0026gt; ))} \u0026lt;input value={title} onChange={(e)=\u0026gt; setTitle(e.target.value)} z /\u0026gt; \u0026lt;ul\u0026gt; {posts.map(post =\u0026gt;( \u0026lt;li key={post.id}\u0026gt;{post.title}\u0026lt;/li\u0026gt; ))} \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; ) } export default Content   M√¨nh ƒë√£ th√™m 3 button, khi click v√†o t·ª´ng button s·∫Ω g·ªçi API t∆∞∆°ng ·ª©ng, ƒë·ªÉ c√≥ th·ªÉ l√†m ƒë∆∞·ª£c ƒëi·ªÅu n√†y m√¨nh ƒë√£ th√™m 1 state l√† types, m·ªói\nkhi click v√†o t·ª´ng button, m√¨nh s·∫Ω d√πng useState ƒë·ªÉ set l·∫°i gi√° tr·ªã t∆∞∆°ng ·ª©ng, khi c√≥ gi√° tr·ªã r·ªìi m√¨nh s·∫Ω truy·ªÅn v√†o API ƒë·ªÉ call.\nNh∆∞ v·∫≠p sau khi gi√° tr·ªã c·ªßa types thay ƒë·ªïi, callback c·ªßa useEffect s·∫Ω ƒë∆∞·ª£c g·ªçi l·∫°i.\n·ªû ph·∫ßn ti·∫øp theo ch√∫ng ta s·∫Ω t√¨m hi·ªÉu v·ªÅ useEffect v·ªõi listen DOMEvent nh√©! üòÉ\n","description":"","id":35,"section":"posts","tags":["Reactjs","Javascript"],"title":"C√°ch s·ª≠ d·ª•ng useEffect trong ReactJS (Ph·∫ßn 2)","uri":"https://hungpt.info/en/posts/use_effect_part2/"},{"content":"N·ªôi dung ·ªü ph·∫ßn n√†y m√¨nh mu·ªën ƒë∆∞a cho c√°c b·∫°n s·∫Ω c√≥ 3 ph·∫ßn ch√≠nh:\n C√°ch listen DOMEvent trong React component V·∫•n ƒë·ªÉ x·∫£y ra khi ch√∫ng ta listen DOM Event l√† g√¨? C√°ch kh·∫Øc ph·ª•c v·∫•n ƒë·ªÅ n√†ym·ªôt  Trong ph·∫ßn n√†y, ch√∫ng ta ph·∫£i n·∫Øm v·ªØng ki·∫øn th·ª©c Javascript c∆° b·∫£n ƒë√≥ l√† listen DOM Event b·∫°n c√≥ th·ªÉ tham kh·∫£o t√†i li·ªáu t·∫°i ƒë√¢y Listen DOM Event\nM√¨nh s·∫Ω x√°c ƒë·ªãnh r√µ ngay t·ª´ ƒë·∫ßu l√† khi th·ª±c hi·ªán m·ªôt logic m·ªõi, ch√∫ng ta s·∫Ω vi·∫øt ra 1 useEffect m·ªõi\nB√¢y gi·ªù ch√∫ng ta s·∫Ω l√†m 1 v√≠ d·ª•, ƒë√≥ l√† khi ch√∫ng ta cu·ªôn chu·ªôt xu·ªëng 1 kho·∫£ng l·ªõn h∆°n ho·∫∑c = 200 px th√¨ s·∫Ω hi·ªán 1 n√∫t Go to top\nƒë·ªÉ hi·ªán l√™n trang ƒë·∫ßu, nh∆∞ trong blog n√†y c·ªßa m√¨nh c≈©ng c√≥ t√≠nh nƒÉng n√†y.\n·ªû tr∆∞·ªùng h·ª£p n√†y ch√∫ng ta s·∫Ω ƒëi listenDOM 1 l·∫ßn, khi ƒë√≥ ch√∫ng ta s·∫Ω truy·ªÅn dependencies v√†o l√† []\n1 2 3 4 5 6  useEffect(() =\u0026gt; { const handleScroll = () =\u0026gt;{ console.log(window.scrollY) } window.addEventListener(\u0026#39;scroll\u0026#39;, handleScroll) }, [])   ·ªü ƒë√¢y ch√∫ng ta s·∫Ω code Javascript thu·∫ßn, ƒë·ªÉ c√≥ th·ªÉ ·∫©n hi·ªán ƒë∆∞·ª£c button go to top, ch√∫ng ta c·∫ßn ph·∫£i re render l·∫°i giao di·ªán, v·ªõi ReactJs ch√∫ng ta s·∫Ω d√πng hoook\nuseState m√† ch√∫ng ta ƒë√£ t√¨m hi·ªÉu ·ªü c√°c ph·∫ßn tr∆∞·ªõc.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  function Content() { const [title, setTitle] = useState(\u0026#39;\u0026#39;) const [posts, setPosts] = useState([]) const [types, setTypes] = useState([\u0026#39;posts\u0026#39;]) const [showGoToTop, setShowGoToTop] = useState(false) useEffect( () =\u0026gt;{ console.log(\u0026#39;title changed\u0026#39;) document.title = title; fetch(`https://jsonplaceholder.typicode.com/${types}`) .then(res =\u0026gt; res.json()) .then(posts =\u0026gt;{ setPosts(posts) }) },[types] ) useEffect(() =\u0026gt; { const handleScroll = () =\u0026gt;{ if(window.scrollY \u0026gt;= 200){ setShowGoToTop(true) }else{ setShowGoToTop(false) } } window.addEventListener(\u0026#39;scroll\u0026#39;, handleScroll) }, [])   Sau ƒë√≥ m√¨nh s·∫Ω vi·∫øt 1 ƒëo·∫°n code ƒë·ªÉ ·∫©n hi·ªán button go to top theo state b√™n tr√™n\n1 2 3 4 5 6 7 8 9  {showGoToTop \u0026amp;\u0026amp; ( \u0026lt;button style={{ position: \u0026#39;fixed\u0026#39;, right: 20, bottom: 20 }}\u0026gt; Go to top \u0026lt;/button\u0026gt; )}   V√† k·∫øt qu·∫£ s·∫Ω nh∆∞ sau:\nTuy nhi√™n n·∫øu c√°c b·∫°n ƒë·ªÉ √Ω th√¨ ch√∫ng ta s·∫Ω th·∫•y r·∫±ng, n·∫øu ch√∫ng ta ti·∫øp t·ª•c k√©o chu·ªôt xu·ªëng th√¨ useEffect s·∫Ω li√™n t·ª•c ƒë∆∞·ª£c g·ªçi\nd·∫´n t·ªõi vi·ªác li√™n t·ª•c re render l·∫°i giao di·ªán? C√¢u tr·∫£ l·ªùi l√† kh√¥ng, ReactJS ƒë√£ gi√∫p ch√∫ng ta ngƒÉn ch·∫∑n vi·ªác ƒë√≥. C√≥ nghƒ© l√† m·∫∑c d√π h√†m trong useEffect ƒë∆∞·ª£c g·ªçi l·∫°i li√™n t·ª•c nh∆∞ng\ncomponent s·∫Ω kh√¥ng b·ªã re render l·∫°i.\nƒê·∫øn v·ªõi 1 v·∫•n ƒë·ªÅ ti·∫øp theo, b√¢y gi·ªù ch√∫ng ta th·ª≠ unmount component r·ªìi mount l·∫°i, xong ƒë√≥ k√©o chu·ªôt xu·ªëng, s·∫Ω c√≥ 1 th√¥ng b√°o m√† ReactJS b√°o cho ch√∫ng ta nh∆∞ sau:\nƒê√≥ l√† b·ªüi v√¨ khi component c·ªßa ch√∫ng ta unmount th√¨ Event Listen ch√∫ng ta th√™m v√†o ch∆∞a ƒë∆∞·ª£c x√≥a ƒëi, d·∫´n t·ªõi vi·ªác khi ch√∫ng ta mount l·∫°i component th√¨ 1 event\nlisten n·ªØa l·∫°i ƒë∆∞·ª£c th√™m v√†o, ƒëi·ªÅu n√†y d·∫´n ƒë·∫øn l√£ng ph√≠ t√†i nguy√™n, d√≤ r·ªâ b·ªô nh·ªõ. V·∫≠y gi·∫£i ph√°p ·ªü ƒë√¢y l√† g√¨? ƒê√≥ ch√≠nh l√† Cleanup Function v√† trong callback\nc·ªßa useEffect c√°c b·∫°n c√≥ th·ªÉ return ra 1 h√†m\n1 2 3 4 5 6 7 8 9 10 11 12  useEffect(() =\u0026gt; { const handleScroll = () =\u0026gt;{ if(window.scrollY \u0026gt;= 200){ setShowGoToTop(true) }else{ setShowGoToTop(false) } } window.addEventListener(\u0026#39;scroll\u0026#39;, handleScroll) // cleanup function  return () =\u0026gt; window.removeEventListener(\u0026#39;scroll\u0026#39;, handleScroll) }, [])   Hy v·ªçng sau ph·∫ßn n√†y b·∫°n s·∫Ω n·∫Øm r√µ c√°ch x·ª≠ l√Ω DOM event trong Reactjs üòÑ. Bye bye\n","description":"","id":36,"section":"posts","tags":["Reactjs","Javascript"],"title":"C√°ch s·ª≠ d·ª•ng useEffect trong ReactJS (Ph·∫ßn 3)","uri":"https://hungpt.info/en/posts/use_effect_part3/"},{"content":"·ªû ph·∫ßn n√†y, m√¨nh s·∫Ω x√¢y d·ª±ng app chat ƒë∆°n gi·∫£n ƒë·ªÉ c√≥ th·ªÉ gi√∫p c√°c b·∫°n n·∫Øm r√µ h∆°n c√°ch s·ª≠ d·ª•ng useEffect nh∆∞ th·∫ø n√†o nh√©!üòÑ\n·ªû ƒë√¢y m√¨nh s·∫Ω kh√¥ng t·∫°o web socket server m√† m√¨nh s·∫Ω ƒëi fake ra nh·ªØng b√¨nh lu·∫≠n\n","description":"","id":37,"section":"posts","tags":["Reactjs","Javascript"],"title":"C√°ch s·ª≠ d·ª•ng useEffect trong ReactJS (Ph·∫ßn 4)","uri":"https://hungpt.info/en/posts/use_effect_part4/"},{"content":"ReactJS l√† m·ªôt Javascript framework r·∫•t ph·ªï bi·∫øn v·ªõi gi·ªõi l·∫≠p tr√¨nh Web Frontend hi·ªán nay, s·ªë l∆∞·ª£ng tuy·ªÉn d·ª•ng l·∫≠p tr√¨nh vi√™n ReactJS c≈©ng r·∫•t l·ªõn. Do ƒë√≥ nhi·ªÅu ng∆∞·ªùi m·ªõi h·ªçc Web Frontend sau khi h·ªçc xong m·ªôt ch√∫t HTML CSS JS l√† mu·ªën nh·∫£y v√†o l·∫≠p tr√¨nh ReactJS ngay. ƒêi·ªÅu n√†y d·∫´n ƒë·∫øn h·ªá l·ª•y l√† c√°c b·∫°n s·∫Ω b·ªã h·ªïng ki·∫øn th·ª©c c∆° b·∫£n, ho·∫∑c khi h·ªçc ReactJS s·∫Ω r·∫•t ch·∫≠t v·∫≠t v√¨ kh√¥ng hi·ªÉu c√∫ ph√°p, kh√¥ng hi·ªÉu b·∫£n ch·∫•t, ‚Ä¶\nV·∫≠y tr∆∞·ªõc khi h·ªçc ReactJS ho·∫∑c React Native, c√°c b·∫°n n√™n n·∫µm v·ªØng HTML CSS v√† nh·ªØng ki·∫øn th·ª©c sau trong JavaScript (ngo√†i c√°c ki·∫øn th·ª©c ban ƒë·∫ßu nh∆∞ bi·∫øn, v√≤ng l·∫∑p, ƒëi·ªÅu ki·ªán, ‚Ä¶):\nC√°c h√†m x·ª≠ l√Ω m·∫£ng nh∆∞ map, filter, reduce, push, splice, ‚Ä¶\nES6/ES7 Class (m·∫∑c d√π hi·ªán t·∫°i code ReactJS ƒëang d·∫ßn chuy·ªÉn sang h∆∞·ªõng function nh∆∞ng v·∫´n n√™n bi·∫øt).\nVariable scope v√† closure C·∫ßn n·∫Øm v·ªØng kh√°i ni·ªám Scope (code block, nested function, ‚Ä¶) trong Javascript. Khai b√°o bi·∫øn th√¨ s·ª≠ d·ª•ng let thay cho var (ki·ªÉu c≈©), v·ªõi h·∫±ng s·ªë ho·∫∑c magic number th√¨ d√πng const.\nKh√°i ni·ªám closure th√¨ h∆°i kh√≥ hi·ªÉu nh∆∞ng c≈©ng n√™n t√¨m hi·ªÉu tr∆∞·ªõc ƒë·ªÉ khi g·∫∑p kh√¥ng b·ªã b·ª° ng·ª° üòÖ.\nImport v√† Exports Trong c√°c project ch√∫ng ta s·∫Ω c√≥ nhi·ªÅu file ƒë·ªÉ ƒë·∫£m b·∫£o code ng·∫Øn g·ªçn v√† d·ªÖ b·∫£o tr√¨. C·∫ßn ch√∫ √Ω gi·ªØa named export v√† default export.\nV√≠ d·ª•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  /* * File util.js */ // export m·ªôt m·∫£ng export let month = [ \u0026#34;Jan\u0026#34;, \u0026#34;Feb\u0026#34;, \u0026#34;Mar\u0026#34;, \u0026#34;Apr\u0026#34;, \u0026#34;Aug\u0026#34;, \u0026#34;Sep\u0026#34;, \u0026#34;Oct\u0026#34;, \u0026#34;Nov\u0026#34;, \u0026#34;Dec\u0026#34;, ]; // export m·ªôt h·∫±ng s·ªë export const YEAR = 2020; // export m·ªôt class export class User { constructor(name) { this.name = name; } }   Arrow function Arrow function ƒë∆∞·ª£c s·ª≠ d·ª•ng kh√° nhi·ªÅu b·ªüi c√°ch vi·∫øt ng·∫Øn g·ªçn v√† kh√¥ng c√≥ ‚Äúthis‚Äù.\nV√≠ d·ª• v·ªõi function th√¥ng th∆∞·ªùng:\n1 2 3  function sum(a, b) { return a + b; }   Vi·∫øt l·∫°i b·∫±ng arrow function:\n1  const sum = (a, b) =\u0026gt; a + b;   Destructuring assignment L√† c√∫ ph√°p cho ph√©p t√°ch c√°c object, array ra th√†nh c√°c bi·∫øn, gi√∫p cho code ng·∫Øn g·ªçn h∆°n thay v√¨ khai b√°o bi·∫øn nhi·ªÅu l·∫ßn. V√≠ d·ª• hay s·ª≠ d·ª•ng trong ReactJS:\n1 2 3 4 5 6 7 8 9 10 11 12  // Kh√¥ng s·ª≠ d·ª•ng destructuring assignment function MyComponent(props) { let navigation = props.navigation; let route = props.route; ... } // S·ª≠ d·ª•ng destructuring assignment function MyComponent({navigation, route}) { ... }   Ho·∫∑c khi s·ª≠ d·ª•ng useState hook:\n1 2 3  function MyComponent() { const [count, setCount] = React.useState(0); }   Rest parameters and spread syntax Rest parameters cho ph√©p ch√∫ng ta vi·∫øt 1 h√†m v·ªõi s·ªë l∆∞·ª£ng tham s·ªë l√† linh ƒë·ªông (kh√¥ng bi·∫øt tr∆∞·ªõc). V√≠ d·ª•:\n1 2 3 4 5 6 7 8 9 10 11 12  function sumAll(...args) { // args l√† t√™n bi·∫øn ƒë·∫°i di·ªán cho m·∫£ng c√°c tham s·ªë  let sum = 0; for (let arg of args) sum += arg; return sum; } alert(sumAll(1)); // 1 alert(sumAll(1, 2)); // 3 alert(sumAll(1, 2, 3)); // 6   ho·∫∑c:\n1 2 3 4 5 6 7 8 9 10 11  function showName(firstName, lastName, ...otherNames) { alert(firstName + \u0026#34; \u0026#34; + lastName); // Robin Huy  // Rest parameters ...otherNames ƒë·∫°i di·ªán cho c√°c tham s·ªë c√≤n l·∫°i ngo√†i 2 tham s·ªë ƒë·∫ßu ti√™n  // v√≠ d·ª• ·ªü ƒë√¢y otherNames s·∫Ω l√† [\u0026#34;Robin\u0026#34;, \u0026#34;Huy\u0026#34;]  alert(otherNames[0]); // Chris  alert(otherNames[1]); // Robert  alert(otherNames.length); // 2 } showName(\u0026#34;Robin\u0026#34;, \u0026#34;Huy\u0026#34;, \u0026#34;Chris\u0026#34;, \u0026#34;Robert\u0026#34;);   Spread syntax c√≥ c√∫ ph√°p v√† c√°ch ho·∫°t ƒë·ªông g·∫ßn gi·ªëng nh∆∞ rest parameters, n√≥ cho ph√©p ‚Äúdu·ªói‚Äù m·ªôt object ho·∫∑c array ra th√†nh nhi·ªÅu bi·∫øn. V√≠ d·ª•:\n1 2 3 4 5 6 7  // H√†m Math.max c·∫ßn truy·ªÅn v√†o c√°c s·ªë ƒë·ªÉ t√≠nh max alert(Math.max(1, 3, 5, 2)); // Tr·∫£ v·ªÅ 5  // Tuy nhi√™n n·∫øu c√≥ 1 m·∫£ng c√°c s·ªë th√¨ ch√∫ng ta c√≥ th·ªÉ spread m·∫£ng ƒë√≥ ra ƒë·ªÉ s·ª≠ d·ª•ng h√†m Math.max const numbers = [1, 3, 5, 2]; alert(Math.max(numbers)); // Tr·∫£ v·ªÅ NaN alert(Math.max(...numbers)); // Tr·∫£ v·ªÅ 5   C√°c h√†m x·ª≠ l√Ω m·∫£ng Code ReactJS s·∫Ω ph·∫£i l√†m vi·ªác v·ªõi m·∫£ng r·∫•t nhi·ªÅu n√™n ph·∫£i s·ª≠ d·ª•ng th√†nh th·∫°o c√°c ph∆∞∆°ng th·ª©c x·ª≠ l√Ω m·∫£ng nh∆∞: map, filter, reduce, push, splice, ‚Ä¶\nV√≠ d·ª• s·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c map k·∫øt h·ª£p arrow function:\n1 2  const numbers = [1, 2, 3, 4, 5]; const doubled = numbers.map((number) =\u0026gt; number * 2);   Ho·∫∑c s·ª≠ d·ª•ng filter ƒë·ªÉ l·ªçc ph·∫ßn t·ª≠ ra kh·ªèi m·∫£ng:\n1 2 3 4 5 6  // X√≥a 1 s·∫£n ph·∫©m ra kh·ªèi m·∫£ng c√°c s·∫£n ph·∫©m d·ª±a theo ID truy·ªÅn v√†o function removeProduct(productId) { const newProducts = products.filter((product) =\u0026gt; product.id !== productId); setProducts(newProducts); }   Tr√™n ƒë√¢y l√† m·ªôt v√†i ki·∫øn th·ª©c c∆° b·∫£n m√¨nh nghƒ© newbie c·∫ßn ph·∫£i bi·∫øt tr∆∞·ªõc khi h·ªçc ReactJS. N·∫øu c√°c b·∫°n th·∫•y c√≤n thi·∫øu th√¨ g√≥p √Ω b·ªï sung gi√∫p m√¨nh ·ªü ph·∫ßn b√¨nh lu·∫≠n b√™n d∆∞·ªõi nh√© üòò.\n","description":"","id":38,"section":"posts","tags":["Javascript","Reactjs"],"title":"Ki·∫øn th·ª©c Javascript c∆° b·∫£n c·∫ßn ph·∫£i bi·∫øt tr∆∞·ªõc khi h·ªçc ReactJS","uri":"https://hungpt.info/en/posts/kien-thuc-javascript-co-ban-can-phai-biet-truoc-khi-hoc-react-native-reactjs/"},{"content":"Kh√¥ng l·∫≠p tr√¨nh vi√™n n√†o code m√† kh√¥ng c√≥ bug. Tuy nhi√™n c√≥ r·∫•t nhi·ªÅu l·ªói c∆° b·∫£n ch√∫ng ta n√™n tr√°nh ƒë·ªÉ t·∫°o ra √≠t bug h∆°n, code s·∫°ch v√† trong s√°ng h∆°n, d·ªÖ b·∫£o tr√¨ h∆°n, ƒë·ª° b·ªã ƒÉn ch·ª≠i h∆°n, ‚Ä¶\n1. X·ª≠ l√Ω qu√° nhi·ªÅu th·ª© trong m·ªôt function Theo nguy√™n t·∫Øc Single Responsibility, m·ªôt function ch·ªâ n√™n th·ª±c hi·ªán m·ªôt v√† ch·ªâ m·ªôt nhi·ªám v·ª• duy nh·∫•t. Nhi·ªÅu l·∫≠p tr√¨nh vi√™n hay vi·∫øt m·ªôt function v·ª´a l·∫•y d·ªØ li·ªáu, x·ª≠ l√Ω d·ªØ li·ªáu v√† hi·ªÉn th·ªã d·ªØ li·ªáu. Thay v√¨ nh∆∞ v·∫≠y, h√£y chia nh·ªè function n√†y ra l√†m 3 function: Function l·∫•y d·ªØ li·ªáu, function x·ª≠ l√Ω d·ªØ li·ªáu v√† function hi·ªÉn th·ªã d·ªØ li·ªáu.\nVi·ªác gi·ªØ m·ªôt function ch·ªâ t·∫≠p trung th·ª±c hi·ªán m·ªôt nhi·ªám v·ª• s·∫Ω gi√∫p code d·ªÖ ƒë·ªçc v√† d·ªÖ b·∫£o tr√¨ h∆°n. Nh∆∞ v√≠ d·ª• tr√™n, gi·∫£ s·ª≠ API ƒë·ªÉ l·∫•y d·ªØ li·ªáu b·ªã thay ƒë·ªïi th√¨ ta ch·ªâ c·∫ßn c·∫≠p nh·∫≠t l·∫°i function l·∫•y d·ªØ li·ªáu, kh√¥ng b·ªã ·∫£nh h∆∞·ªüng ƒë·∫øn c√°c thao t√°c ·ªü sau.\n2. Code b·ªã comment Trong m·ªôt ·ª©ng d·ª•ng l·ªõn c√≥ nhi·ªÅu l·∫≠p tr√¨nh vi√™n tham gia, nhi·ªÅu khi b·∫°n s·∫Ω th·∫•y c√≥ c√°c h√†m, c√°c ƒëo·∫°n code l·ªõn b·ªã comment. B·∫°n s·∫Ω kh√¥ng hi·ªÉu ƒëo·∫°n code b·ªã comment n√†y ƒë·ªÉ l√†m g√¨, √Ω ƒë·ªì c·ªßa t√°c gi·∫£ l√† g√¨. C√°c l·∫≠p tr√¨nh vi√™n kh√°c c√≥ th·ªÉ s·∫Ω kh√¥ng d√°m xo√° ƒëo·∫°n code n√†y v√¨ c√≥ th·ªÉ t√°c gi·∫£ c·ªßa ƒëo·∫°n comment c√≤n c·∫ßn ƒë·∫øn n√≥.\nN·∫øu g·∫∑p tr∆∞·ªùng h·ª£p nh∆∞ v·∫≠y v√† project c√≥ s·ª≠ d·ª•ng h·ªá th·ªëng qu·∫£n l√Ω code nh∆∞ git, svn, ‚Ä¶ th√¨ h√£y m·∫°nh d·∫°n xo√° ƒëo·∫°n code n√†y ƒëi, code s·∫Ω tr·ªü n√™n s·∫°ch ƒë·∫πp h∆°n. C√≤n sau n√†y n·∫øu t√°c gi·∫£ c·ªßa ƒëo·∫°n code ƒë√≥ mu·ªën t√¨m l·∫°i th√¨ h·ªç s·∫Ω ph·∫£i t·ª± t√¨m trong c√°c commit c≈©.\n3. ƒê·∫∑t t√™n bi·∫øn, t√™n h√†m kh√¥ng r√µ r√†ng ƒê·∫∑t t√™n bi·∫øn l√† m·ªôt c√¥ng vi·ªác kh√≥ nh∆∞ng c≈©ng r·∫•t quan tr·ªçng. M·ªôt t√™n bi·∫øn r√µ r√†ng s·∫Ω gi√∫p vi·ªác ƒë·ªçc code tr·ªü n√™n d·ªÖ d√†ng, d·ªÖ hi·ªÉu.\nH√£y ƒë·∫∑t t√™n bi·∫øn m√¥ t·∫£ ƒë√∫ng ch·ª©c nƒÉng, √Ω nghƒ©a c·ªßa n√≥, d√†i m·ªôt ch√∫t c≈©ng ƒë∆∞·ª£c. Tr√°nh ƒë·∫∑t t√™n bi·∫øn ki·ªÉu vi·∫øt t·∫Øt (tr·ª´ tr∆∞·ªùng h·ª£p ph·ªï bi·∫øn ho·∫∑c ƒë√£ th·ªëng nh·∫•t t·ª´ tr∆∞·ªõc) ho·∫∑c t√™n bi·∫øn kh√¥ng c√≥ √Ω nghƒ©a nh∆∞ a, b, c, ‚Ä¶\n4. Magic number v√† string Magic number v√† string l√† c√°c gi√° tr·ªã duy nh·∫•t ƒë∆∞·ª£c s·ª≠ d·ª•ng nhi·ªÅu l·∫ßn trong ·ª©ng d·ª•ng m√† kh√¥ng c√≥ gi·∫£i th√≠ch √Ω nghƒ©a r√µ r√†ng. Nh·ªØng gi√° tr·ªã n√†y ho√†n to√†n c√≥ th·ªÉ thay th·∫ø b·∫±ng c√°c bi·∫øn (v·ªõi ƒëi·ªÅu ki·ªán bi·∫øn ph·∫£i ƒë∆∞·ª£c ƒë·∫∑t t√™n m·ªôt c√°ch r√µ r√†ng).\nV√≠ d·ª• v·ªõi ƒëo·∫°n code sau:\n1 2 3  for ($i = 1; $i \u0026lt;= 52; $i++) { ... }   Trong v√≠ d·ª• tr√™n th√¨ 52 l√† m·ªôt magic number, v√† ng∆∞·ªùi ƒë·ªçc code s·∫Ω kh√¥ng hi·ªÉu ƒë∆∞·ª£c 52 c√≥ √Ω nghƒ©a l√† g√¨. Th·∫≠m ch√≠ k·ªÉ c·∫£ t√°c gi·∫£ ƒëo·∫°n code, sau m·ªôt th·ªùi gian quay l·∫°i ƒë·ªçc code c·ªßa m√¨nh c≈©ng kh√¥ng hi·ªÉu, ph·∫£i d√≤ l·∫°i to√†n b·ªô ch∆∞∆°ng tr√¨nh.\nƒêo·∫°n code tr√™n c√≥ th·ªÉ vi·∫øt l·∫°i nh∆∞ sau:\n1 2 3 4  $cardDeckSize = 52; for ($i = 1; $i \u0026lt;= $cardDeckSize; $i++) { ... }   Nh∆∞ v·∫≠y ƒë·ªçc ƒëo·∫°n code n√†y s·∫Ω hi·ªÉu ngay l√† ƒëang th·ª±c hi·ªán m·ªôt v√≤ng l·∫∑p qua t·ª´ng qu√¢n b√†i trong b·ªô b√†i v√† 52 c√≥ nghƒ©a l√† s·ªë l√° b√†i trong b·ªô b√†i. ·ªû c√°c ph·∫ßn b√™n d∆∞·ªõi c≈©ng c√≥ th·ªÉ d√πng l·∫°i bi·∫øn $cardDeckSize v√† khi c·∫ßn thay ƒë·ªïi gi√° tr·ªã s·ªë l∆∞·ª£ng l√° b√†i trong b·ªô b√†i ta c≈©ng ch·ªâ c·∫ßn thay ƒë·ªïi gi√° tr·ªã c·ªßa bi·∫øn n√†y m·ªôt l·∫ßn duy nh·∫•t thay v√¨ ph·∫£i s·ª≠a nhi·ªÅu ch·ªó.\nT∆∞∆°ng t·ª± v·ªõi number, ch√∫ng ta c≈©ng c√≥ magic string:\n1 2  ... }   v√† code s·∫Ω tr·ªü n√™n d·ªÖ hi·ªÉu h∆°n.\n5. Code format l·ªôn x·ªôn V·ªõi nh·ªØng l·∫≠p tr√¨nh vi√™n kh√¥ng c√≥ kinh nghi·ªám v√† c·∫©u th·∫£ th√¨ h·ªç s·∫Ω vi·∫øt code l·ªôn x·ªôn, kh√¥ng c√≥ format. Code kh√¥ng format s·∫Ω r·∫•t kh√≥ ƒë·ªçc v√† d·ªÖ d·∫´n ƒë·∫øn code sai c√∫ ph√°p v√† r·∫•t kh√≥ debug. V√≠ d·ª• nh∆∞ code HTML c√≥ th·∫ª m·ªü m√† kh√¥ng c√≥ th·∫ª ƒë√≥ng d·∫´n ƒë·∫øn sai c·∫•u tr√∫c code l√†m h·ªèng c·∫£ CSS, l·ªói n√†y c≈©ng kh√≥ debug v√¨ d√π code sai th√¨ c≈©ng s·∫Ω kh√¥ng b√°o l·ªói l√™n tr√¨nh duy·ªát.\nƒêa s·ªë c√°c IDE ho·∫∑c code editor hi·ªán ƒë·∫°i ƒë·ªÅu c√≥ h·ªó tr·ª£ ch·ª©c nƒÉng format code theo t·ª´ng ng√¥n ng·ªØ, ho·∫∑c l√† ng∆∞·ªùi d√πng ch·ªß ƒë·ªông c√†i th√™m c√°c plugin, extension h·ªó tr·ª£ cho vi·ªác format code. Trong m·ªôt project n·∫øu c√°c l·∫≠p tr√¨nh vi√™n d√πng chung m·ªôt chu·∫©n format code c≈©ng s·∫Ω gi√∫p code ƒë·ªìng b·ªô v√† √≠t b·ªã xung ƒë·ªôt.\n6. Hard code Hard code l√† nh·∫≠p d·ªØ li·ªáu tr·ª±c ti·∫øp v√†o trong source code, d·ªØ li·ªáu n√†y b·ªã fix c·ª©ng v√† kh√¥ng thay ƒë·ªïi, c·∫•u h√¨nh ƒë∆∞·ª£c.\nTrong m·ªôt s·ªë tr∆∞·ªùng h·ª£p ch√∫ng ta v·∫´n d√πng hard code, tuy nhi√™n n·∫øu code c·ªßa b·∫°n b·ªã hard code qu√° nhi·ªÅu t·ª©c l√† ƒëang c√≥ v·∫•n ƒë·ªÅ. Thay v√¨ hard code d·ªØ li·ªáu trong source code, h√£y t√°ch ch√∫ng ra b·∫±ng c√°ch l·∫•y d·ªØ li·ªáu qua file c·∫•u h√¨nh, l·∫•y t·ª´ c∆° s·ªü d·ªØ li·ªáu ho·∫∑c API, hay qua bi·∫øn m√¥i tr∆∞·ªùng, ‚Ä¶\nB√†i vi·∫øt ƒë∆∞·ª£c bi√™n d·ªãch l·∫°i t·ª´ medium.com.üòÄüòÄ\n","description":"","id":47,"section":"posts","tags":["Javascript"],"title":"Nh·ªØng l·ªói c∆° b·∫£n trong l·∫≠p tr√¨nh m√† developer n√™n tr√°nh","uri":"https://hungpt.info/en/posts/nhung-loi-co-ban-trong-lap-trinh-ma-developer-nen-tranh/"}]